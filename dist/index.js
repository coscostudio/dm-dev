"use strict";(()=>{var Yt=Object.create;var Ue=Object.defineProperty;var Gt=Object.getOwnPropertyDescriptor;var Kt=Object.getOwnPropertyNames;var Qt=Object.getPrototypeOf,Jt=Object.prototype.hasOwnProperty;var Zt=(i,r,n)=>r in i?Ue(i,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[r]=n;var ei=(i,r)=>()=>(r||i((r={exports:{}}).exports,r),r.exports);var ti=(i,r,n,l)=>{if(r&&typeof r=="object"||typeof r=="function")for(let c of Kt(r))!Jt.call(i,c)&&c!==n&&Ue(i,c,{get:()=>r[c],enumerable:!(l=Gt(r,c))||l.enumerable});return i};var ii=(i,r,n)=>(n=i!=null?Yt(Qt(i)):{},ti(r||!i||!i.__esModule?Ue(n,"default",{value:i,enumerable:!0}):n,i));var f=(i,r,n)=>Zt(i,typeof r!="symbol"?r+"":r,n);var nt=ei((Xe,Ve)=>{(function(i,r){typeof Xe=="object"&&typeof Ve<"u"?Ve.exports=r():typeof define=="function"&&define.amd?define(r):(i||self).barba=r()})(Xe,function(){function i(a,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,typeof(s=function(h,p){if(typeof h!="object"||h===null)return h;var d=h[Symbol.toPrimitive];if(d!==void 0){var u=d.call(h,"string");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(t.key))=="symbol"?s:String(s),t)}var s}function r(a,o,e){return o&&i(a.prototype,o),e&&i(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function n(){return n=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}return a},n.apply(this,arguments)}function l(a,o){a.prototype=Object.create(o.prototype),a.prototype.constructor=a,m(a,o)}function c(a){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},c(a)}function m(a,o){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(a,o)}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(a,o,e){return v=w()?Reflect.construct.bind():function(t,s,h){var p=[null];p.push.apply(p,s);var d=new(Function.bind.apply(t,p));return h&&m(d,h.prototype),d},v.apply(null,arguments)}function b(a){var o=typeof Map=="function"?new Map:void 0;return b=function(e){if(e===null||Function.toString.call(e).indexOf("[native code]")===-1)return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(e))return o.get(e);o.set(e,t)}function t(){return v(e,arguments,c(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),m(t,e)},b(a)}function E(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}var S,z=function(){this.before=void 0,this.beforeLeave=void 0,this.leave=void 0,this.afterLeave=void 0,this.beforeEnter=void 0,this.enter=void 0,this.afterEnter=void 0,this.after=void 0};(function(a){a[a.off=0]="off",a[a.error=1]="error",a[a.warning=2]="warning",a[a.info=3]="info",a[a.debug=4]="debug"})(S||(S={}));var L=S.off,N=function(){function a(e){this.t=void 0,this.t=e}a.getLevel=function(){return L},a.setLevel=function(e){return L=S[e]};var o=a.prototype;return o.error=function(){this.i(console.error,S.error,[].slice.call(arguments))},o.warn=function(){this.i(console.warn,S.warning,[].slice.call(arguments))},o.info=function(){this.i(console.info,S.info,[].slice.call(arguments))},o.debug=function(){this.i(console.log,S.debug,[].slice.call(arguments))},o.i=function(e,t,s){t<=a.getLevel()&&e.apply(console,["["+this.t+"] "].concat(s))},a}();function _(a){return a.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function j(a){return a&&a.sensitive?"":"i"}var A={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},te=function(){function a(){this.o=A,this.u=void 0,this.h={after:null,before:null,parent:null}}var o=a.prototype;return o.toString=function(e){return e.outerHTML},o.toDocument=function(e){return this.u||(this.u=new DOMParser),this.u.parseFromString(e,"text/html")},o.toElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t},o.getHtml=function(e){return e===void 0&&(e=document),this.toString(e.documentElement)},o.getWrapper=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},o.getContainer=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},o.removeContainer=function(e){document.body.contains(e)&&(this.v(e),e.parentNode.removeChild(e))},o.addContainer=function(e,t){var s=this.getContainer()||this.h.before;s?this.l(e,s):this.h.after?this.h.after.parentNode.insertBefore(e,this.h.after):this.h.parent?this.h.parent.appendChild(e):t.appendChild(e)},o.getSibling=function(){return this.h},o.getNamespace=function(e){e===void 0&&(e=document);var t=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return t?t.getAttribute(this.o.prefix+"-"+this.o.namespace):null},o.getHref=function(e){if(e.tagName&&e.tagName.toLowerCase()==="a"){if(typeof e.href=="string")return e.href;var t=e.getAttribute("href")||e.getAttribute("xlink:href");if(t)return this.resolveUrl(t.baseVal||t)}return null},o.resolveUrl=function(){var e=[].slice.call(arguments).length;if(e===0)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],e===1)return t.href;var s=document.getElementsByTagName("head")[0];s.insertBefore(t,s.firstChild);for(var h,p=document.createElement("a"),d=1;d<e;d++)p.href=arguments[d],t.href=h=p.href;return s.removeChild(t),h},o.l=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},o.v=function(e){return this.h={after:e.nextElementSibling,before:e.previousElementSibling,parent:e.parentElement},this.h},a}(),B=new te,ie=function(){function a(){this.p=void 0,this.m=[],this.P=-1}var o=a.prototype;return o.init=function(e,t){this.p="barba";var s={data:{},ns:t,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.P=0,this.m.push(s);var h={from:this.p,index:this.P,states:[].concat(this.m)};window.history&&window.history.replaceState(h,"",e)},o.change=function(e,t,s){if(s&&s.state){var h=s.state,p=h.index;t=this.g(this.P-p),this.replace(h.states),this.P=p}else this.add(e,t);return t},o.add=function(e,t,s,h){var p=s??this.R(t),d={data:h??{},ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};switch(p){case"push":this.P=this.size,this.m.push(d);break;case"replace":this.set(this.P,d)}var u={from:this.p,index:this.P,states:[].concat(this.m)};switch(p){case"push":window.history&&window.history.pushState(u,"",e);break;case"replace":window.history&&window.history.replaceState(u,"",e)}},o.store=function(e,t){var s=t||this.P,h=this.get(s);h.data=n({},h.data,e),this.set(s,h);var p={from:this.p,index:this.P,states:[].concat(this.m)};window.history.replaceState(p,"")},o.update=function(e,t){var s=t||this.P,h=n({},this.get(s),e);this.set(s,h)},o.remove=function(e){e?this.m.splice(e,1):this.m.pop(),this.P--},o.clear=function(){this.m=[],this.P=-1},o.replace=function(e){this.m=e},o.get=function(e){return this.m[e]},o.set=function(e,t){return this.m[e]=t},o.R=function(e){var t="push",s=e,h=A.prefix+"-"+A.history;return s.hasAttribute&&s.hasAttribute(h)&&(t=s.getAttribute(h)),t},o.g=function(e){return Math.abs(e)>1?e>0?"forward":"back":e===0?"popstate":e>0?"back":"forward"},r(a,[{key:"current",get:function(){return this.m[this.P]}},{key:"previous",get:function(){return this.P<1?null:this.m[this.P-1]}},{key:"size",get:function(){return this.m.length}}]),a}(),se=new ie,U=function(a,o){try{var e=function(){if(!o.next.html)return Promise.resolve(a).then(function(t){var s=o.next;if(t){var h=B.toElement(t.html);s.namespace=B.getNamespace(h),s.container=B.getContainer(h),s.url=t.url,s.html=t.html,se.update({ns:s.namespace});var p=B.toDocument(t.html);document.title=p.title}})}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},Z=function a(o,e,t){return o instanceof RegExp?function(s,h){if(!h)return s;for(var p=/\((?:\?<(.*?)>)?(?!\?)/g,d=0,u=p.exec(s.source);u;)h.push({name:u[1]||d++,prefix:"",suffix:"",modifier:"",pattern:""}),u=p.exec(s.source);return s}(o,e):Array.isArray(o)?function(s,h,p){var d=s.map(function(u){return a(u,h,p).source});return new RegExp("(?:".concat(d.join("|"),")"),j(p))}(o,e,t):function(s,h,p){return function(d,u,g){g===void 0&&(g={});for(var O=g.strict,k=O!==void 0&&O,y=g.start,C=y===void 0||y,T=g.end,x=T===void 0||T,I=g.encode,R=I===void 0?function(Pe){return Pe}:I,G=g.delimiter,D=G===void 0?"/#?":G,V=g.endsWith,ne="[".concat(_(V===void 0?"":V),"]|$"),ee="[".concat(_(D),"]"),$=C?"^":"",K=0,Q=d;K<Q.length;K++){var H=Q[K];if(typeof H=="string")$+=_(R(H));else{var Y=_(R(H.prefix)),P=_(R(H.suffix));if(H.pattern)if(u&&u.push(H),Y||P)if(H.modifier==="+"||H.modifier==="*"){var W=H.modifier==="*"?"?":"";$+="(?:".concat(Y,"((?:").concat(H.pattern,")(?:").concat(P).concat(Y,"(?:").concat(H.pattern,"))*)").concat(P,")").concat(W)}else $+="(?:".concat(Y,"(").concat(H.pattern,")").concat(P,")").concat(H.modifier);else $+=H.modifier==="+"||H.modifier==="*"?"((?:".concat(H.pattern,")").concat(H.modifier,")"):"(".concat(H.pattern,")").concat(H.modifier);else $+="(?:".concat(Y).concat(P,")").concat(H.modifier)}}if(x)k||($+="".concat(ee,"?")),$+=g.endsWith?"(?=".concat(ne,")"):"$";else{var M=d[d.length-1],J=typeof M=="string"?ee.indexOf(M[M.length-1])>-1:M===void 0;k||($+="(?:".concat(ee,"(?=").concat(ne,"))?")),J||($+="(?=".concat(ee,"|").concat(ne,")"))}return new RegExp($,j(g))}(function(d,u){u===void 0&&(u={});for(var g=function(P){for(var W=[],M=0;M<P.length;){var J=P[M];if(J!=="*"&&J!=="+"&&J!=="?")if(J!=="\\")if(J!=="{")if(J!=="}")if(J!==":")if(J!=="(")W.push({type:"CHAR",index:M,value:P[M++]});else{var Pe=1,Oe="";if(P[F=M+1]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(F));for(;F<P.length;)if(P[F]!=="\\"){if(P[F]===")"){if(--Pe==0){F++;break}}else if(P[F]==="("&&(Pe++,P[F+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(F));Oe+=P[F++]}else Oe+=P[F++]+P[F++];if(Pe)throw new TypeError("Unbalanced pattern at ".concat(M));if(!Oe)throw new TypeError("Missing pattern at ".concat(M));W.push({type:"PATTERN",index:M,value:Oe}),M=F}else{for(var $e="",F=M+1;F<P.length;){var pe=P.charCodeAt(F);if(!(pe>=48&&pe<=57||pe>=65&&pe<=90||pe>=97&&pe<=122||pe===95))break;$e+=P[F++]}if(!$e)throw new TypeError("Missing parameter name at ".concat(M));W.push({type:"NAME",index:M,value:$e}),M=F}else W.push({type:"CLOSE",index:M,value:P[M++]});else W.push({type:"OPEN",index:M,value:P[M++]});else W.push({type:"ESCAPED_CHAR",index:M++,value:P[M++]});else W.push({type:"MODIFIER",index:M,value:P[M++]})}return W.push({type:"END",index:M,value:""}),W}(d),O=u.prefixes,k=O===void 0?"./":O,y="[^".concat(_(u.delimiter||"/#?"),"]+?"),C=[],T=0,x=0,I="",R=function(P){if(x<g.length&&g[x].type===P)return g[x++].value},G=function(P){var W=R(P);if(W!==void 0)return W;var M=g[x],J=M.index;throw new TypeError("Unexpected ".concat(M.type," at ").concat(J,", expected ").concat(P))},D=function(){for(var P,W="";P=R("CHAR")||R("ESCAPED_CHAR");)W+=P;return W};x<g.length;){var V=R("CHAR"),ne=R("NAME"),ee=R("PATTERN");if(ne||ee)k.indexOf(K=V||"")===-1&&(I+=K,K=""),I&&(C.push(I),I=""),C.push({name:ne||T++,prefix:K,suffix:"",pattern:ee||y,modifier:R("MODIFIER")||""});else{var $=V||R("ESCAPED_CHAR");if($)I+=$;else if(I&&(C.push(I),I=""),R("OPEN")){var K=D(),Q=R("NAME")||"",H=R("PATTERN")||"",Y=D();G("CLOSE"),C.push({name:Q||(H?T++:""),pattern:Q&&!H?y:H,prefix:K,suffix:Y,modifier:R("MODIFIER")||""})}else G("END")}}return C}(s,p),h,p)}(o,e,t)},ae={__proto__:null,update:U,nextTick:function(){return new Promise(function(a){window.requestAnimationFrame(a)})},pathToRegexp:Z},q=function(){return window.location.origin},le=function(a){return a===void 0&&(a=window.location.href),X(a).port},X=function(a){var o,e=a.match(/:\d+/);if(e===null)/^http/.test(a)&&(o=80),/^https/.test(a)&&(o=443);else{var t=e[0].substring(1);o=parseInt(t,10)}var s,h=a.replace(q(),""),p={},d=h.indexOf("#");d>=0&&(s=h.slice(d+1),h=h.slice(0,d));var u=h.indexOf("?");return u>=0&&(p=Fe(h.slice(u+1)),h=h.slice(0,u)),{hash:s,path:h,port:o,query:p}},Fe=function(a){return a.split("&").reduce(function(o,e){var t=e.split("=");return o[t[0]]=t[1],o},{})},je=function(a){return a===void 0&&(a=window.location.href),a.replace(/(\/#.*|\/|#.*)$/,"")},Pt={__proto__:null,getHref:function(){return window.location.href},getAbsoluteHref:function(a,o){return o===void 0&&(o=document.baseURI),new URL(a,o).href},getOrigin:q,getPort:le,getPath:function(a){return a===void 0&&(a=window.location.href),X(a).path},getQuery:function(a,o){return o===void 0&&(o=!1),o?JSON.stringify(X(a).query):X(a).query},getHash:function(a){return X(a).hash},parse:X,parseQuery:Fe,clean:je};function kt(a,o,e,t,s){return o===void 0&&(o=2e3),new Promise(function(h,p){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE){if(d.status===200){var u=d.responseURL!==""&&d.responseURL!==a?d.responseURL:a;h({html:d.responseText,url:n({href:u},X(u))}),t.update(a,{status:"fulfilled",target:u})}else if(d.status){var g={status:d.status,statusText:d.statusText};e(a,g),p(g),t.update(a,{status:"rejected"})}}},d.ontimeout=function(){var u=new Error("Timeout error ["+o+"]");e(a,u),p(u),t.update(a,{status:"rejected"})},d.onerror=function(){var u=new Error("Fetch error");e(a,u),p(u),t.update(a,{status:"rejected"})},d.open("GET",a),d.timeout=o,d.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),d.setRequestHeader("x-barba","yes"),s.all().forEach(function(u,g){d.setRequestHeader(g,u)}),d.send()})}function Ht(a){return!!a&&(typeof a=="object"||typeof a=="function")&&typeof a.then=="function"}function be(a,o){return o===void 0&&(o={}),function(){var e=arguments,t=!1,s=new Promise(function(h,p){o.async=function(){return t=!0,function(u,g){u?p(u):h(g)}};var d=a.apply(o,[].slice.call(e));t||(Ht(d)?d.then(h,p):h(d))});return s}}var Mt=function(a){function o(){var t;return(t=a.call(this)||this).logger=new N("@barba/core"),t.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],t.registered=new Map,t.init(),t}l(o,a);var e=o.prototype;return e.init=function(){var t=this;this.registered.clear(),this.all.forEach(function(s){t[s]||(t[s]=function(h,p){t.registered.has(s)||t.registered.set(s,new Set),t.registered.get(s).add({ctx:p||{},fn:h})})})},e.do=function(t){var s=arguments,h=this;if(this.registered.has(t)){var p=Promise.resolve();return this.registered.get(t).forEach(function(d){p=p.then(function(){return be(d.fn,d.ctx).apply(void 0,[].slice.call(s,1))})}),p.catch(function(d){h.logger.debug("Hook error ["+t+"]"),h.logger.error(d)})}return Promise.resolve()},e.clear=function(){var t=this;this.all.forEach(function(s){delete t[s]}),this.init()},e.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var t=[];this.registered.forEach(function(s,h){return t.push(h)}),this.logger.info("Registered hooks: "+t.join(","))},o}(z),ce=new Mt,rt=function(){function a(o){if(this.k=void 0,this.O=[],typeof o=="boolean")this.k=o;else{var e=Array.isArray(o)?o:[o];this.O=e.map(function(t){return Z(t)})}}return a.prototype.checkHref=function(o){if(typeof this.k=="boolean")return this.k;var e=X(o).path;return this.O.some(function(t){return t.exec(e)!==null})},a}(),At=function(a){function o(t){var s;return(s=a.call(this,t)||this).T=new Map,s}l(o,a);var e=o.prototype;return e.set=function(t,s,h,p,d){return this.T.set(t,{action:h,request:s,status:p,target:d??t}),{action:h,request:s,status:p,target:d}},e.get=function(t){return this.T.get(t)},e.getRequest=function(t){return this.T.get(t).request},e.getAction=function(t){return this.T.get(t).action},e.getStatus=function(t){return this.T.get(t).status},e.getTarget=function(t){return this.T.get(t).target},e.has=function(t){return!this.checkHref(t)&&this.T.has(t)},e.delete=function(t){return this.T.delete(t)},e.update=function(t,s){var h=n({},this.T.get(t),s);return this.T.set(t,h),h},o}(rt),Nt=function(){function a(){this.A=new Map}var o=a.prototype;return o.set=function(e,t){return this.A.set(e,t),{name:t}},o.get=function(e){return this.A.get(e)},o.all=function(){return this.A},o.has=function(e){return this.A.has(e)},o.delete=function(e){return this.A.delete(e)},o.clear=function(){return this.A.clear()},a}(),Ot=function(){return!window.history.pushState},Rt=function(a){return!a.el||!a.href},Ct=function(a){var o=a.event;return o.which>1||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey},It=function(a){var o=a.el;return o.hasAttribute("target")&&o.target==="_blank"},_t=function(a){var o=a.el;return o.protocol!==void 0&&window.location.protocol!==o.protocol||o.hostname!==void 0&&window.location.hostname!==o.hostname},qt=function(a){var o=a.el;return o.port!==void 0&&le()!==le(o.href)},zt=function(a){var o=a.el;return o.getAttribute&&typeof o.getAttribute("download")=="string"},Dt=function(a){return a.el.hasAttribute(A.prefix+"-"+A.prevent)},Wt=function(a){return!!a.el.closest("["+A.prefix+"-"+A.prevent+'="all"]')},Ft=function(a){var o=a.href;return je(o)===je()&&le(o)===le()},jt=function(a){function o(t){var s;return(s=a.call(this,t)||this).suite=[],s.tests=new Map,s.init(),s}l(o,a);var e=o.prototype;return e.init=function(){this.add("pushState",Ot),this.add("exists",Rt),this.add("newTab",Ct),this.add("blank",It),this.add("corsDomain",_t),this.add("corsPort",qt),this.add("download",zt),this.add("preventSelf",Dt),this.add("preventAll",Wt),this.add("sameUrl",Ft,!1)},e.add=function(t,s,h){h===void 0&&(h=!0),this.tests.set(t,s),h&&this.suite.push(t)},e.run=function(t,s,h,p){return this.tests.get(t)({el:s,event:h,href:p})},e.checkLink=function(t,s,h){var p=this;return this.suite.some(function(d){return p.run(d,t,s,h)})},o}(rt),Be=function(a){function o(e,t){var s;return t===void 0&&(t="Barba error"),(s=a.call.apply(a,[this].concat([].slice.call(arguments,2)))||this).error=void 0,s.label=void 0,s.error=e,s.label=t,Error.captureStackTrace&&Error.captureStackTrace(E(s),o),s.name="BarbaError",s}return l(o,a),o}(b(Error)),Bt=function(){function a(e){e===void 0&&(e=[]),this.logger=new N("@barba/core"),this.all=[],this.page=[],this.once=[],this.j=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var o=a.prototype;return o.add=function(e,t){e==="rule"?this.j.splice(t.position||0,0,t.value):this.all.push(t),this.update()},o.resolve=function(e,t){var s=this;t===void 0&&(t={});var h=t.once?this.once:this.page;h=h.filter(t.self?function(y){return y.name&&y.name==="self"}:function(y){return!y.name||y.name!=="self"});var p=new Map,d=h.find(function(y){var C=!0,T={};return t.self&&y.name==="self"?(p.set(y,T),!0):(s.j.reverse().forEach(function(x){C&&(C=s.M(y,x,e,T),y.from&&y.to&&(C=s.M(y,x,e,T,"from")&&s.M(y,x,e,T,"to")),y.from&&!y.to&&(C=s.M(y,x,e,T,"from")),!y.from&&y.to&&(C=s.M(y,x,e,T,"to")))}),p.set(y,T),C)}),u=p.get(d),g=[];if(g.push(t.once?"once":"page"),t.self&&g.push("self"),u){var O,k=[d];Object.keys(u).length>0&&k.push(u),(O=this.logger).info.apply(O,["Transition found ["+g.join(",")+"]"].concat(k))}else this.logger.info("No transition found ["+g.join(",")+"]");return d},o.update=function(){var e=this;this.all=this.all.map(function(t){return e.N(t)}).sort(function(t,s){return t.priority-s.priority}).reverse().map(function(t){return delete t.priority,t}),this.page=this.all.filter(function(t){return t.leave!==void 0||t.enter!==void 0}),this.once=this.all.filter(function(t){return t.once!==void 0})},o.M=function(e,t,s,h,p){var d=!0,u=!1,g=e,O=t.name,k=O,y=O,C=O,T=p?g[p]:g,x=p==="to"?s.next:s.current;if(p?T&&T[O]:T[O]){switch(t.type){case"strings":default:var I=Array.isArray(T[k])?T[k]:[T[k]];x[k]&&I.indexOf(x[k])!==-1&&(u=!0),I.indexOf(x[k])===-1&&(d=!1);break;case"object":var R=Array.isArray(T[y])?T[y]:[T[y]];x[y]?(x[y].name&&R.indexOf(x[y].name)!==-1&&(u=!0),R.indexOf(x[y].name)===-1&&(d=!1)):d=!1;break;case"function":T[C](s)?u=!0:d=!1}u&&(p?(h[p]=h[p]||{},h[p][O]=g[p][O]):h[O]=g[O])}return d},o.S=function(e,t,s){var h=0;return(e[t]||e.from&&e.from[t]||e.to&&e.to[t])&&(h+=Math.pow(10,s),e.from&&e.from[t]&&(h+=1),e.to&&e.to[t]&&(h+=2)),h},o.N=function(e){var t=this;e.priority=0;var s=0;return this.j.forEach(function(h,p){s+=t.S(e,h.name,p+1)}),e.priority=s,e},a}();function xe(a,o){try{var e=a()}catch(t){return o(t)}return e&&e.then?e.then(void 0,o):e}var $t=function(){function a(e){e===void 0&&(e=[]),this.logger=new N("@barba/core"),this.store=void 0,this.C=!1,this.store=new Bt(e)}var o=a.prototype;return o.get=function(e,t){return this.store.resolve(e,t)},o.doOnce=function(e){var t=e.data,s=e.transition;try{var h=function(){p.C=!1},p=this,d=s||{};p.C=!0;var u=xe(function(){return Promise.resolve(p.L("beforeOnce",t,d)).then(function(){return Promise.resolve(p.once(t,d)).then(function(){return Promise.resolve(p.L("afterOnce",t,d)).then(function(){})})})},function(g){p.C=!1,p.logger.debug("Transition error [before/after/once]"),p.logger.error(g)});return Promise.resolve(u&&u.then?u.then(h):h())}catch(g){return Promise.reject(g)}},o.doPage=function(e){var t=e.data,s=e.transition,h=e.page,p=e.wrapper;try{var d=function(y){u.C=!1},u=this,g=s||{},O=g.sync===!0||!1;u.C=!0;var k=xe(function(){function y(){return Promise.resolve(u.L("before",t,g)).then(function(){function T(I){return Promise.resolve(u.remove(t)).then(function(){return Promise.resolve(u.L("after",t,g)).then(function(){})})}var x=function(){if(O)return xe(function(){return Promise.resolve(u.add(t,p)).then(function(){return Promise.resolve(u.L("beforeLeave",t,g)).then(function(){return Promise.resolve(u.L("beforeEnter",t,g)).then(function(){return Promise.resolve(Promise.all([u.leave(t,g),u.enter(t,g)])).then(function(){return Promise.resolve(u.L("afterLeave",t,g)).then(function(){return Promise.resolve(u.L("afterEnter",t,g)).then(function(){})})})})})})},function(D){if(u.H(D))throw new Be(D,"Transition error [sync]")});var I=function(D){return xe(function(){var V=function(){if(R!==!1)return Promise.resolve(u.add(t,p)).then(function(){return Promise.resolve(u.L("beforeEnter",t,g)).then(function(){return Promise.resolve(u.enter(t,g,R)).then(function(){return Promise.resolve(u.L("afterEnter",t,g)).then(function(){})})})})}();if(V&&V.then)return V.then(function(){})},function(V){if(u.H(V))throw new Be(V,"Transition error [before/after/enter]")})},R=!1,G=xe(function(){return Promise.resolve(u.L("beforeLeave",t,g)).then(function(){return Promise.resolve(Promise.all([u.leave(t,g),U(h,t)]).then(function(D){return D[0]})).then(function(D){return R=D,Promise.resolve(u.L("afterLeave",t,g)).then(function(){})})})},function(D){if(u.H(D))throw new Be(D,"Transition error [before/after/leave]")});return G&&G.then?G.then(I):I()}();return x&&x.then?x.then(T):T()})}var C=function(){if(O)return Promise.resolve(U(h,t)).then(function(){})}();return C&&C.then?C.then(y):y()},function(y){throw u.C=!1,y.name&&y.name==="BarbaError"?(u.logger.debug(y.label),u.logger.error(y.error),y):(u.logger.debug("Transition error [page]"),u.logger.error(y),y)});return Promise.resolve(k&&k.then?k.then(d):d())}catch(y){return Promise.reject(y)}},o.once=function(e,t){try{return Promise.resolve(ce.do("once",e,t)).then(function(){return t.once?be(t.once,t)(e):Promise.resolve()})}catch(s){return Promise.reject(s)}},o.leave=function(e,t){try{return Promise.resolve(ce.do("leave",e,t)).then(function(){return t.leave?be(t.leave,t)(e):Promise.resolve()})}catch(s){return Promise.reject(s)}},o.enter=function(e,t,s){try{return Promise.resolve(ce.do("enter",e,t)).then(function(){return t.enter?be(t.enter,t)(e,s):Promise.resolve()})}catch(h){return Promise.reject(h)}},o.add=function(e,t){try{return B.addContainer(e.next.container,t),ce.do("nextAdded",e),Promise.resolve()}catch(s){return Promise.reject(s)}},o.remove=function(e){try{return B.removeContainer(e.current.container),ce.do("currentRemoved",e),Promise.resolve()}catch(t){return Promise.reject(t)}},o.H=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},o.L=function(e,t,s){try{return Promise.resolve(ce.do(e,t,s)).then(function(){return s[e]?be(s[e],s)(t):Promise.resolve()})}catch(h){return Promise.reject(h)}},r(a,[{key:"isRunning",get:function(){return this.C},set:function(e){this.C=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(e){return e.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(e){return e.to&&!e.to.route||e.sync})}}]),a}(),Ut=function(){function a(o){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,o.length!==0&&(o.forEach(function(t){e.byNamespace.set(t.namespace,t)}),this.names.forEach(function(t){ce[t](e._(t))}))}return a.prototype._=function(o){var e=this;return function(t){var s=o.match(/enter/i)?t.next:t.current,h=e.byNamespace.get(s.namespace);return h&&h[o]?be(h[o],h)(t):Promise.resolve()}},a}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(a){var o=this;do{if(o.matches(a))return o;o=o.parentElement||o.parentNode}while(o!==null&&o.nodeType===1);return null});var Xt={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},Vt=function(){function a(){this.version="2.10.3",this.schemaPage=Xt,this.Logger=N,this.logger=new N("@barba/core"),this.plugins=[],this.timeout=void 0,this.cacheIgnore=void 0,this.cacheFirstPage=void 0,this.prefetchIgnore=void 0,this.preventRunning=void 0,this.hooks=ce,this.cache=void 0,this.headers=void 0,this.prevent=void 0,this.transitions=void 0,this.views=void 0,this.dom=B,this.helpers=ae,this.history=se,this.request=kt,this.url=Pt,this.D=void 0,this.B=void 0,this.q=void 0,this.F=void 0}var o=a.prototype;return o.use=function(e,t){var s=this.plugins;s.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):typeof e.install=="function"?(e.install(this,t),s.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},o.init=function(e){var t=e===void 0?{}:e,s=t.transitions,h=s===void 0?[]:s,p=t.views,d=p===void 0?[]:p,u=t.schema,g=u===void 0?A:u,O=t.requestError,k=t.timeout,y=k===void 0?2e3:k,C=t.cacheIgnore,T=C!==void 0&&C,x=t.cacheFirstPage,I=x!==void 0&&x,R=t.prefetchIgnore,G=R!==void 0&&R,D=t.preventRunning,V=D!==void 0&&D,ne=t.prevent,ee=ne===void 0?null:ne,$=t.debug,K=t.logLevel;if(N.setLevel(($!==void 0&&$)===!0?"debug":K===void 0?"off":K),this.logger.info(this.version),Object.keys(g).forEach(function(Y){A[Y]&&(A[Y]=g[Y])}),this.B=O,this.timeout=y,this.cacheIgnore=T,this.cacheFirstPage=I,this.prefetchIgnore=G,this.preventRunning=V,this.q=this.dom.getWrapper(),!this.q)throw new Error("[@barba/core] No Barba wrapper found");this.I();var Q=this.data.current;if(!Q.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new At(T),this.headers=new Nt,this.prevent=new jt(G),this.transitions=new $t(h),this.views=new Ut(d),ee!==null){if(typeof ee!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",ee)}this.history.init(Q.url.href,Q.namespace),I&&this.cache.set(Q.url.href,Promise.resolve({html:Q.html,url:Q.url}),"init","fulfilled"),this.U=this.U.bind(this),this.$=this.$.bind(this),this.X=this.X.bind(this),this.G(),this.plugins.forEach(function(Y){return Y.init()});var H=this.data;H.trigger="barba",H.next=H.current,H.current=n({},this.schemaPage),this.hooks.do("ready",H),this.once(H),this.I()},o.destroy=function(){this.I(),this.J(),this.history.clear(),this.hooks.clear(),this.plugins=[]},o.force=function(e){window.location.assign(e)},o.go=function(e,t,s){var h;if(t===void 0&&(t="barba"),this.F=null,this.transitions.isRunning)this.force(e);else if(!(h=t==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e)&&this.url.getQuery(this.history.current.url,!0)===this.url.getQuery(e,!0):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return t=this.history.change(this.cache.has(e)?this.cache.get(e).target:e,t,s),s&&(s.stopPropagation(),s.preventDefault()),this.page(e,t,s??void 0,h)},o.once=function(e){try{var t=this;return Promise.resolve(t.hooks.do("beforeEnter",e)).then(function(){function s(){return Promise.resolve(t.hooks.do("afterEnter",e)).then(function(){})}var h=function(){if(t.transitions.hasOnce){var p=t.transitions.get(e,{once:!0});return Promise.resolve(t.transitions.doOnce({transition:p,data:e})).then(function(){})}}();return h&&h.then?h.then(s):s()})}catch(s){return Promise.reject(s)}},o.page=function(e,t,s,h){try{var p,d=function(){var k=u.data;return Promise.resolve(u.hooks.do("page",k)).then(function(){var y=function(C,T){try{var x=(I=u.transitions.get(k,{once:!1,self:h}),Promise.resolve(u.transitions.doPage({data:k,page:p,transition:I,wrapper:u.q})).then(function(){u.I()}))}catch{return T()}var I;return x&&x.then?x.then(void 0,T):x}(0,function(){N.getLevel()===0&&u.force(k.next.url.href)});if(y&&y.then)return y.then(function(){})})},u=this;if(u.data.next.url=n({href:e},u.url.parse(e)),u.data.trigger=t,u.data.event=s,u.cache.has(e))p=u.cache.update(e,{action:"click"}).request;else{var g=u.request(e,u.timeout,u.onRequestError.bind(u,t),u.cache,u.headers);g.then(function(k){k.url.href!==e&&u.history.add(k.url.href,t,"replace")}),p=u.cache.set(e,g,"click","pending").request}var O=function(){if(u.transitions.shouldWait)return Promise.resolve(U(p,u.data)).then(function(){})}();return Promise.resolve(O&&O.then?O.then(d):d())}catch(k){return Promise.reject(k)}},o.onRequestError=function(e){this.transitions.isRunning=!1;var t=[].slice.call(arguments,1),s=t[0],h=t[1],p=this.cache.getAction(s);return this.cache.delete(s),this.B&&this.B(e,p,s,h)===!1||p==="click"&&this.force(s),!1},o.prefetch=function(e){var t=this;e=this.url.getAbsoluteHref(e),this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba"),this.cache,this.headers).catch(function(s){t.logger.error(s)}),"prefetch","pending")},o.G=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.U),document.addEventListener("touchstart",this.U)),document.addEventListener("click",this.$),window.addEventListener("popstate",this.X)},o.J=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.U),document.removeEventListener("touchstart",this.U)),document.removeEventListener("click",this.$),window.removeEventListener("popstate",this.X)},o.U=function(e){var t=this,s=this.W(e);if(s){var h=this.url.getAbsoluteHref(this.dom.getHref(s));this.prevent.checkHref(h)||this.cache.has(h)||this.cache.set(h,this.request(h,this.timeout,this.onRequestError.bind(this,s),this.cache,this.headers).catch(function(p){t.logger.error(p)}),"enter","pending")}},o.$=function(e){var t=this.W(e);if(t){if(this.transitions.isRunning&&this.preventRunning)return e.preventDefault(),void e.stopPropagation();this.F=e,this.go(this.dom.getHref(t),t,e)}},o.X=function(e){this.go(this.url.getHref(),"popstate",e)},o.W=function(e){for(var t=e.target;t&&!this.dom.getHref(t);)t=t.parentNode;if(t&&!this.prevent.checkLink(t,e,this.dom.getHref(t)))return t},o.I=function(){var e=this.url.getHref(),t={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:n({href:e},this.url.parse(e))};this.D={current:t,event:void 0,next:n({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},r(a,[{key:"data",get:function(){return this.D}},{key:"wrapper",get:function(){return this.q}}]),a}();return new Vt})});var Ie=ii(nt(),1);var de={wrapper:'[data-nav="wrapper"]',drawer:".drawer",container:".nav-container",toggle:'[data-nav="toggle"]',links:'[data-nav="links"] .nav-link',openIcon:'[data-nav-icon="open"]',closeIcon:'[data-nav-icon="close"]'},ot=()=>{let i=document.querySelector(de.drawer)||document.querySelector(de.wrapper),r=document.querySelector(de.toggle),n=document.querySelector(de.openIcon),l=document.querySelector(de.closeIcon),c=Array.from(document.querySelectorAll(de.links));return!i||!r||!n||!l?null:{wrapper:i,toggle:r,openIcon:n,closeIcon:l,links:c}},Ye="is-nav-open",Re="are-nav-links-visible",ri=320,Ee=()=>{let i=ot();if(!i)return;let{wrapper:r,toggle:n,openIcon:l,closeIcon:c}=i;r.classList.remove(Ye,Re),n.setAttribute("aria-expanded","false"),n.setAttribute("aria-pressed","false"),l.toggleAttribute("aria-hidden",!1),c.toggleAttribute("aria-hidden",!0),l.hidden=!1,c.hidden=!0},fe=i=>{let r=document.querySelector(de.container);r&&(r.style.opacity=i?"1":"0",r.style.pointerEvents=i?"":"none",r.style.visibility=i?"":"hidden")},Ge=()=>{let i=ot();if(!i)return null;let{wrapper:r,toggle:n,openIcon:l,closeIcon:c,links:m}=i,w=window.matchMedia("(hover: hover)"),v={isOpen:!1,isLockedOpen:!1,hoverEnabled:w.matches},b=null,E=()=>{l.toggleAttribute("aria-hidden",v.isOpen),c.toggleAttribute("aria-hidden",!v.isOpen),l.hidden=v.isOpen,c.hidden=!v.isOpen},S=()=>{r.classList.toggle(Ye,v.isOpen),n.setAttribute("aria-expanded",String(v.isOpen)),n.setAttribute("aria-pressed",String(v.isOpen)),E()},z=()=>{v.isOpen=!1,v.isLockedOpen=!1,r.classList.remove(Ye,Re),n.setAttribute("aria-expanded","false"),n.setAttribute("aria-pressed","false"),E()},L=q=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(q)})},N=()=>{b!==null&&(window.clearTimeout(b),b=null),r.classList.add(Re)},_=()=>{b!==null&&window.clearTimeout(b),b=window.setTimeout(()=>{v.isOpen||r.classList.remove(Re)},ri)},j=q=>{N(),L(()=>{v.isOpen=!0,v.isLockedOpen=q?!0:v.isLockedOpen,S()})},A=()=>{v.isOpen=!1,v.isLockedOpen=!1,S(),_()},te=()=>{v.isOpen?A():j(!0)},B=()=>{!v.hoverEnabled||v.isLockedOpen||j(!1)},ie=()=>{!v.hoverEnabled||v.isLockedOpen||A()},se=q=>{v.hoverEnabled=q.matches,!v.hoverEnabled&&v.isOpen&&!v.isLockedOpen&&A()},U=q=>{q.preventDefault(),te()},Z=q=>{q.key!=="Enter"&&q.key!==" "||(q.preventDefault(),te())},ae=q=>{let X=q.currentTarget.getAttribute("href");X&&(X.includes("verkada")||X.includes("film")||X.includes("about")||X.includes("work"))||A()};return n.setAttribute("role","button"),n.tabIndex=n.tabIndex>-1?n.tabIndex:0,n.setAttribute("aria-expanded","false"),n.setAttribute("aria-pressed","false"),n.setAttribute("aria-label","Toggle navigation"),E(),r.addEventListener("mouseenter",B),r.addEventListener("mouseleave",ie),w.addEventListener("change",se),n.addEventListener("click",U),n.addEventListener("keydown",Z),m.forEach(q=>{q.addEventListener("click",ae)}),q=>{b!==null&&(window.clearTimeout(b),b=null),r.removeEventListener("mouseenter",B),r.removeEventListener("mouseleave",ie),w.removeEventListener("change",se),n.removeEventListener("click",U),n.removeEventListener("keydown",Z),m.forEach(le=>{le.removeEventListener("click",ae)}),q?.resetState!==!1&&z()}};var Ze='[data-barba="wrapper"]',Se='[data-nav="close-project"]',ve=".drawer",He=".drawer-wrapper",ni=`${He}, ${ve}`,ke="data-nav-persistent",st="data-close-persistent",_e="is-in-peripheral",Le="is-transitioning-peripheral",Me=700,Qe="cubic-bezier(0.4, 0, 0.2, 1)",ut=!1,at="data-loop-slider-snap",qe='[data-barba="container"]',oi=".project-wrapper",si=".home-main",Ke=()=>{let i=document.querySelector(Ze);if(!i)return;let r=document.querySelector(qe),n=i.querySelector(`${He}[${ke}]`)||i.querySelector(He)||i.querySelector(`${ve}[${ke}]`)||i.querySelector(ve)||r?.querySelector(`${He}[${ke}]`)||r?.querySelector(He)||r?.querySelector(`${ve}[${ke}]`)||r?.querySelector(ve)||null;n&&(n.setAttribute(ke,"true"),n.parentElement!==i&&i.insertBefore(n,i.firstChild));let l=m=>{!m||!n||m.querySelectorAll(ni).forEach(w=>{w===n||n.contains(w)||w.contains(n)||w.remove()})};l(i),l(r);let c=i.querySelector(`${Se}[${st}]`)||i.querySelector(Se)||r?.querySelector(Se)||null;c&&(c.setAttribute(st,"true"),c.parentElement!==i&&i.insertBefore(c,n?.nextSibling??i.firstChild)),i.querySelectorAll(Se).forEach(m=>{c&&m===c||m.remove()}),r&&r.querySelectorAll(Se).forEach(m=>{c&&m===c||m.remove()})},Je=i=>{let r=document.documentElement,{body:n}=document;i?(r.style.setProperty("overflow-x","hidden"),n.style.setProperty("overflow-x","hidden")):(r.style.removeProperty("overflow-x"),n.style.removeProperty("overflow-x"))},ai=(i,r)=>new Promise(n=>{let l=!1,c=()=>{l||(l=!0,i.removeEventListener("transitionend",m),n())},m=w=>{w.propertyName==="opacity"&&c()};i.addEventListener("transitionend",m),window.setTimeout(c,r+50)}),li=i=>{let l=getComputedStyle(i).transitionDuration.split(",").map(c=>c.trim())[0]??"0s";return l.endsWith("ms")?Number.parseFloat(l):l.endsWith("s")?Number.parseFloat(l)*1e3:0},lt=async i=>{i.style.display=i.style.display||"",i.style.visibility="visible",i.style.transition=`opacity ${Me}ms ${Qe}`,i.style.opacity="1",i.offsetWidth,await new Promise(n=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{i.style.opacity="0",n()})})});let r=li(i);r<=0||(await ai(i,r),i.style.visibility="hidden",i.style.pointerEvents="none")},Ce=i=>i?i.querySelector(oi)??i.querySelector(si)??i:null,ge=(i,r)=>{if(!ut)return;let n=Math.round(performance.now());r?console.log(`[barba ${n}] ${i}`,r):console.log(`[barba ${n}] ${i}`)},ye=()=>{let i=document.querySelector(ve),r=document.querySelector(qe),n=document.querySelector(Ze),l=document.querySelector(".main-wrapper"),c=document.querySelector(".project-wrapper"),m=i?getComputedStyle(i):null,w=r?getComputedStyle(r):null,v=n?getComputedStyle(n):null,b=l?getComputedStyle(l):null,E=c?getComputedStyle(c):null;return{bodyClasses:document.body.className,nav:i?{display:m?.display,opacity:m?.opacity,visibility:m?.visibility,zIndex:m?.zIndex,width:m?.width,height:m?.height,background:m?.backgroundColor}:null,container:r?{display:w?.display,opacity:w?.opacity,visibility:w?.visibility,zIndex:w?.zIndex,position:w?.position,overflow:w?.overflow}:null,wrapper:n?{display:v?.display,opacity:v?.opacity,visibility:v?.visibility,zIndex:v?.zIndex,position:v?.position}:null,mainWrapper:l?{display:b?.display,opacity:b?.opacity,visibility:b?.visibility,zIndex:b?.zIndex,position:b?.position,overflow:b?.overflow}:null,projectWrapper:c?{display:E?.display,opacity:E?.opacity,visibility:E?.visibility,zIndex:E?.zIndex,position:E?.position,overflow:E?.overflow}:null}},ct=()=>{if(!ut)return()=>{};let i=[document.body,document.querySelector(ve),document.querySelector(qe),document.querySelector(".main-wrapper"),document.querySelector(".project-wrapper")].filter(Boolean),r=new MutationObserver(n=>{let l=n.map(c=>({type:c.type,target:c.target instanceof HTMLElement?c.target.className||c.target.tagName:String(c.target),attributeName:c.attributeName||null}));ge("mutation",{summaries:l,snapshot:ye()})});return i.forEach(n=>{r.observe(n,{attributes:!0,attributeFilter:["class","style"]})}),ge("observer-start",ye()),()=>{r.disconnect(),ge("observer-stop",ye())}},ci=()=>document.querySelector(Se),me=i=>i?.getAttribute("data-barba-namespace")??null,oe=i=>!!(i&&i!=="home"),ht=i=>{if(!i)return!1;try{return new URL(i,window.location.href).pathname.replace(/\/+$/,"")!==""}catch{return!1}},hi=i=>{let n=new DOMParser().parseFromString(i,"text/html").body;if(!n)return;document.body.classList.contains(Le)||(document.body.className=n.className);let l=n.getAttribute("data-wf-page");l?document.body.setAttribute("data-wf-page",l):document.body.removeAttribute("data-wf-page")},ui=()=>{let i=window.Webflow;if(!i)return;i.destroy&&i.destroy(),i.ready&&i.ready();let r=i.require?.("ix2");r?.init&&r.init()},pi=(i,r)=>!!(!r||i?.closest("[data-barba-prevent]")||r.startsWith("#")||r.startsWith("mailto:")||r.startsWith("tel:")||r.startsWith("javascript:")||i?.getAttribute("target")==="_blank"||new URL(r,window.location.href).origin!==window.location.origin),Ae=i=>{let r=ci();r&&(r.classList.toggle("is-visible",i),r.style.pointerEvents=i?"auto":"none",r.style.display=i?"":"none",r.style.setProperty("z-index","var(--close-z, 20)","important"),r.style.setProperty("background-color","transparent","important"),r.style.setProperty("background","transparent","important"),r.setAttribute("aria-hidden",String(!i)))},di=()=>{ge("sync-initial",ye());let i=document.querySelector(qe),r=me(i),n=oe(r);document.body.classList.toggle(_e,n),Ae(n),Je(!n)},pt=({onAfterEnter:i,onBeforeLeave:r})=>{document.querySelector(Ze)&&(Ke(),di(),Ie.default.init({preventRunning:!0,prevent:({el:n,href:l})=>pi(n,l),transitions:[{name:"home-to-peripheral",from:{namespace:["home"]},to:{namespace:["verkada","film","about","work"]},sync:!0,beforeEnter:()=>{ge("home-to-peripheral:beforeEnter",ye()),Ae(!0)},leave:async({current:n,next:l,trigger:c})=>{let m=ct(),w=me(n?.container),v=me(l?.container),b=l?.url?.href??(c instanceof Element?c.getAttribute("href"):null);r?.({currentNamespace:w,nextNamespace:v,isPeripheralCurrent:oe(w),isPeripheralNext:oe(v)||ht(b)}),document.body.classList.add(Le);let E=n.container;E&&E.classList.add("is-leaving");let S=Ce(E);S&&await lt(S),m()},enter:async({next:n})=>{ge("home-to-peripheral:enter-start",ye()),window.scrollTo(0,0),document.body.classList.add(Le),document.body.classList.add(_e),Ee();let l=n.container,c=Ce(l);l&&(l.style.opacity="1"),c&&(c.style.opacity="0"),await new Promise(m=>setTimeout(m,Me)),document.body.classList.remove(Le),c&&(c.offsetWidth,c.style.transition=`opacity ${Me}ms ${Qe}`,c.style.opacity="1"),ge("home-to-peripheral:enter-end",ye())}},{name:"peripheral-to-home",from:{namespace:["verkada","film","about","work"]},to:{namespace:["home"]},sync:!0,beforeEnter:({next:n})=>{n.container&&(Je(!0),Ae(!1))},leave:async({current:n,next:l,trigger:c})=>{let m=ct(),w=me(n?.container),v=me(l?.container),b=l?.url?.href??(c instanceof Element?c.getAttribute("href"):null);r?.({currentNamespace:w,nextNamespace:v,isPeripheralCurrent:oe(w),isPeripheralNext:oe(v)||ht(b)});let E=n.container,S=Ce(E);S&&(document.body.classList.add(Le),await lt(S)),Ee(),window.scrollTo(0,0),S||await new Promise(z=>setTimeout(z,Me)),document.body.classList.remove(_e),document.body.classList.remove(Le),m()},enter:async({next:n})=>{Ae(!1),fe(!0);let l=n.container,c=Ce(l);l&&(l.style.opacity="1"),c&&(c.style.transition=`opacity ${Me}ms ${Qe}`,c.style.opacity="1")}}]}),Ie.default.hooks.beforeEnter(n=>{Ke(),window.scrollTo(0,0)}),Ie.default.hooks.afterEnter(n=>{hi(n.next.html),Ke();let l=me(n.next.container),c=me(n.current?.container);l==="home"&&oe(c)?document.body.setAttribute(at,"true"):document.body.removeAttribute(at),document.body.classList.toggle(_e,oe(l)),Ae(oe(l)),Je(!oe(l)),ui(),i(),l==="home"&&window.requestAnimationFrame(()=>{window.dispatchEvent(new Event("resize")),window.dispatchEvent(new Event("scroll"))})}))};var fi="1.3.16";function mt(i,r,n){return Math.max(i,Math.min(r,n))}function mi(i,r,n){return(1-n)*i+n*r}function vi(i,r,n,l){return mi(i,r,1-Math.exp(-n*l))}function gi(i,r){return(i%r+r)%r}var yi=class{constructor(){f(this,"isRunning",!1);f(this,"value",0);f(this,"from",0);f(this,"to",0);f(this,"currentTime",0);f(this,"lerp");f(this,"duration");f(this,"easing");f(this,"onUpdate")}advance(i){if(!this.isRunning)return;let r=!1;if(this.duration&&this.easing){this.currentTime+=i;let n=mt(0,this.currentTime/this.duration,1);r=n>=1;let l=r?1:this.easing(n);this.value=this.from+(this.to-this.from)*l}else this.lerp?(this.value=vi(this.value,this.to,this.lerp*60,i),Math.round(this.value)===this.to&&(this.value=this.to,r=!0)):(this.value=this.to,r=!0);r&&this.stop(),this.onUpdate?.(this.value,r)}stop(){this.isRunning=!1}fromTo(i,r,{lerp:n,duration:l,easing:c,onStart:m,onUpdate:w}){this.from=this.value=i,this.to=r,this.lerp=n,this.duration=l,this.easing=c,this.currentTime=0,this.isRunning=!0,m?.(),this.onUpdate=w}};function wi(i,r){let n;return function(...l){let c=this;clearTimeout(n),n=setTimeout(()=>{n=void 0,i.apply(c,l)},r)}}var bi=class{constructor(i,r,{autoResize:n=!0,debounce:l=250}={}){f(this,"width",0);f(this,"height",0);f(this,"scrollHeight",0);f(this,"scrollWidth",0);f(this,"debouncedResize");f(this,"wrapperResizeObserver");f(this,"contentResizeObserver");f(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});f(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});f(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=i,this.content=r,n&&(this.debouncedResize=wi(this.resize,l),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},vt=class{constructor(){f(this,"events",{})}emit(i,...r){let n=this.events[i]||[];for(let l=0,c=n.length;l<c;l++)n[l]?.(...r)}on(i,r){return this.events[i]?.push(r)||(this.events[i]=[r]),()=>{this.events[i]=this.events[i]?.filter(n=>r!==n)}}off(i,r){this.events[i]=this.events[i]?.filter(n=>r!==n)}destroy(){this.events={}}},dt=100/6,he={passive:!1},Ei=class{constructor(i,r={wheelMultiplier:1,touchMultiplier:1}){f(this,"touchStart",{x:0,y:0});f(this,"lastDelta",{x:0,y:0});f(this,"window",{width:0,height:0});f(this,"emitter",new vt);f(this,"onTouchStart",i=>{let{clientX:r,clientY:n}=i.targetTouches?i.targetTouches[0]:i;this.touchStart.x=r,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:i})});f(this,"onTouchMove",i=>{let{clientX:r,clientY:n}=i.targetTouches?i.targetTouches[0]:i,l=-(r-this.touchStart.x)*this.options.touchMultiplier,c=-(n-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=r,this.touchStart.y=n,this.lastDelta={x:l,y:c},this.emitter.emit("scroll",{deltaX:l,deltaY:c,event:i})});f(this,"onTouchEnd",i=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:i})});f(this,"onWheel",i=>{let{deltaX:r,deltaY:n,deltaMode:l}=i,c=l===1?dt:l===2?this.window.width:1,m=l===1?dt:l===2?this.window.height:1;r*=c,n*=m,r*=this.options.wheelMultiplier,n*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:r,deltaY:n,event:i})});f(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=i,this.options=r,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,he),this.element.addEventListener("touchstart",this.onTouchStart,he),this.element.addEventListener("touchmove",this.onTouchMove,he),this.element.addEventListener("touchend",this.onTouchEnd,he)}on(i,r){return this.emitter.on(i,r)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,he),this.element.removeEventListener("touchstart",this.onTouchStart,he),this.element.removeEventListener("touchmove",this.onTouchMove,he),this.element.removeEventListener("touchend",this.onTouchEnd,he)}},ft=i=>Math.min(1,1.001-Math.pow(2,-10*i)),gt=class{constructor({wrapper:i=window,content:r=document.documentElement,eventsTarget:n=i,smoothWheel:l=!0,syncTouch:c=!1,syncTouchLerp:m=.075,touchInertiaExponent:w=1.7,duration:v,easing:b,lerp:E=.1,infinite:S=!1,orientation:z="vertical",gestureOrientation:L=z==="horizontal"?"both":"vertical",touchMultiplier:N=1,wheelMultiplier:_=1,autoResize:j=!0,prevent:A,virtualScroll:te,overscroll:B=!0,autoRaf:ie=!1,anchors:se=!1,autoToggle:U=!1,allowNestedScroll:Z=!1,__experimental__naiveDimensions:ae=!1}={}){f(this,"_isScrolling",!1);f(this,"_isStopped",!1);f(this,"_isLocked",!1);f(this,"_preventNextNativeScrollEvent",!1);f(this,"_resetVelocityTimeout",null);f(this,"__rafID",null);f(this,"isTouching");f(this,"time",0);f(this,"userData",{});f(this,"lastVelocity",0);f(this,"velocity",0);f(this,"direction",0);f(this,"options");f(this,"targetScroll");f(this,"animatedScroll");f(this,"animate",new yi);f(this,"emitter",new vt);f(this,"dimensions");f(this,"virtualScroll");f(this,"onScrollEnd",i=>{i instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&i.stopPropagation()});f(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});f(this,"onTransitionEnd",i=>{i.propertyName.includes("overflow")&&this.checkOverflow()});f(this,"onClick",i=>{let n=i.composedPath().find(l=>l instanceof HTMLAnchorElement&&l.getAttribute("href")?.includes("#"));if(n){let l=n.getAttribute("href");if(l){let c=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,m=`#${l.split("#")[1]}`;this.scrollTo(m,c)}}});f(this,"onPointerDown",i=>{i.button===1&&this.reset()});f(this,"onVirtualScroll",i=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(i)===!1)return;let{deltaX:r,deltaY:n,event:l}=i;if(this.emitter.emit("virtual-scroll",{deltaX:r,deltaY:n,event:l}),l.ctrlKey||l.lenisStopPropagation)return;let c=l.type.includes("touch"),m=l.type.includes("wheel");this.isTouching=l.type==="touchstart"||l.type==="touchmove";let w=r===0&&n===0;if(this.options.syncTouch&&c&&l.type==="touchstart"&&w&&!this.isStopped&&!this.isLocked){this.reset();return}let b=this.options.gestureOrientation==="vertical"&&n===0||this.options.gestureOrientation==="horizontal"&&r===0;if(w||b)return;let E=l.composedPath();E=E.slice(0,E.indexOf(this.rootElement));let S=this.options.prevent;if(E.find(A=>A instanceof HTMLElement&&(typeof S=="function"&&S?.(A)||A.hasAttribute?.("data-lenis-prevent")||c&&A.hasAttribute?.("data-lenis-prevent-touch")||m&&A.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(A,{deltaX:r,deltaY:n}))))return;if(this.isStopped||this.isLocked){l.cancelable&&l.preventDefault();return}if(!(this.options.syncTouch&&c||this.options.smoothWheel&&m)){this.isScrolling="native",this.animate.stop(),l.lenisStopPropagation=!0;return}let L=n;this.options.gestureOrientation==="both"?L=Math.abs(n)>Math.abs(r)?n:r:this.options.gestureOrientation==="horizontal"&&(L=r),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&n>0||this.animatedScroll===this.limit&&n<0))&&(l.lenisStopPropagation=!0),l.cancelable&&l.preventDefault();let N=c&&this.options.syncTouch,j=c&&l.type==="touchend";j&&(L=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+L,{programmatic:!1,...N?{lerp:j?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});f(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let i=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-i,this.direction=Math.sign(this.animatedScroll-i),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});f(this,"raf",i=>{let r=i-(this.time||i);this.time=i,this.animate.advance(r*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=fi,(!i||i===document.documentElement)&&(i=window),typeof v=="number"&&typeof b!="function"?b=ft:typeof b=="function"&&typeof v!="number"&&(v=1),this.options={wrapper:i,content:r,eventsTarget:n,smoothWheel:l,syncTouch:c,syncTouchLerp:m,touchInertiaExponent:w,duration:v,easing:b,lerp:E,infinite:S,gestureOrientation:L,orientation:z,touchMultiplier:N,wheelMultiplier:_,autoResize:j,prevent:A,virtualScroll:te,overscroll:B,autoRaf:ie,anchors:se,autoToggle:U,allowNestedScroll:Z,__experimental__naiveDimensions:ae},this.dimensions=new bi(i,r,{autoResize:j}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new Ei(n,{touchMultiplier:N,wheelMultiplier:_}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(i,r){return this.emitter.on(i,r)}off(i,r){return this.emitter.off(i,r)}get overflow(){let i=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[i]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}setScroll(i){this.isHorizontal?this.options.wrapper.scrollTo({left:i,behavior:"instant"}):this.options.wrapper.scrollTo({top:i,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(i,{offset:r=0,immediate:n=!1,lock:l=!1,duration:c=this.options.duration,easing:m=this.options.easing,lerp:w=this.options.lerp,onStart:v,onComplete:b,force:E=!1,programmatic:S=!0,userData:z}={}){if(!((this.isStopped||this.isLocked)&&!E)){if(typeof i=="string"&&["top","left","start","#"].includes(i))i=0;else if(typeof i=="string"&&["bottom","right","end"].includes(i))i=this.limit;else{let L;if(typeof i=="string"?(L=document.querySelector(i),L||(i==="#top"?i=0:console.warn("Lenis: Target not found",i))):i instanceof HTMLElement&&i?.nodeType&&(L=i),L){if(this.options.wrapper!==window){let _=this.rootElement.getBoundingClientRect();r-=this.isHorizontal?_.left:_.top}let N=L.getBoundingClientRect();i=(this.isHorizontal?N.left:N.top)+this.animatedScroll}}if(typeof i=="number"){if(i+=r,i=Math.round(i),this.options.infinite){if(S){this.targetScroll=this.animatedScroll=this.scroll;let L=i-this.animatedScroll;L>this.limit/2?i=i-this.limit:L<-this.limit/2&&(i=i+this.limit)}}else i=mt(0,i,this.limit);if(i===this.targetScroll){v?.(this),b?.(this);return}if(this.userData=z??{},n){this.animatedScroll=this.targetScroll=i,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),b?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}S||(this.targetScroll=i),typeof c=="number"&&typeof m!="function"?m=ft:typeof m=="function"&&typeof c!="number"&&(c=1),this.animate.fromTo(this.animatedScroll,i,{duration:c,easing:m,lerp:w,onStart:()=>{l&&(this.isLocked=!0),this.isScrolling="smooth",v?.(this)},onUpdate:(L,N)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=L-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=L,this.setScroll(this.scroll),S&&(this.targetScroll=L),N||this.emit(),N&&(this.reset(),this.emit(),b?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(i,{deltaX:r,deltaY:n}){let l=Date.now(),c=i._lenis??(i._lenis={}),m,w,v,b,E,S,z,L,N=this.options.gestureOrientation;if(l-(c.time??0)>2e3){c.time=Date.now();let U=window.getComputedStyle(i);c.computedStyle=U;let Z=U.overflowX,ae=U.overflowY;if(m=["auto","overlay","scroll"].includes(Z),w=["auto","overlay","scroll"].includes(ae),c.hasOverflowX=m,c.hasOverflowY=w,!m&&!w||N==="vertical"&&!w||N==="horizontal"&&!m)return!1;E=i.scrollWidth,S=i.scrollHeight,z=i.clientWidth,L=i.clientHeight,v=E>z,b=S>L,c.isScrollableX=v,c.isScrollableY=b,c.scrollWidth=E,c.scrollHeight=S,c.clientWidth=z,c.clientHeight=L}else v=c.isScrollableX,b=c.isScrollableY,m=c.hasOverflowX,w=c.hasOverflowY,E=c.scrollWidth,S=c.scrollHeight,z=c.clientWidth,L=c.clientHeight;if(!m&&!w||!v&&!b||N==="vertical"&&(!w||!b)||N==="horizontal"&&(!m||!v))return!1;let _;if(N==="horizontal")_="x";else if(N==="vertical")_="y";else{let U=r!==0,Z=n!==0;U&&m&&v&&(_="x"),Z&&w&&b&&(_="y")}if(!_)return!1;let j,A,te,B,ie;if(_==="x")j=i.scrollLeft,A=E-z,te=r,B=m,ie=v;else if(_==="y")j=i.scrollTop,A=S-L,te=n,B=w,ie=b;else return!1;return(te>0?j<A:j>0)&&B&&ie}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){let i=this.options.wrapper;return this.isHorizontal?i.scrollX??i.scrollLeft:i.scrollY??i.scrollTop}get scroll(){return this.options.infinite?gi(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(i){this._isScrolling!==i&&(this._isScrolling=i,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(i){this._isStopped!==i&&(this._isStopped=i,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(i){this._isLocked!==i&&(this._isLocked=i,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let i="lenis";return this.options.autoToggle&&(i+=" lenis-autoToggle"),this.isStopped&&(i+=" lenis-stopped"),this.isLocked&&(i+=" lenis-locked"),this.isScrolling&&(i+=" lenis-scrolling"),this.isScrolling==="smooth"&&(i+=" lenis-smooth"),i}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};var re={root:['[data-loop-slider="root"]',".loop-slider-wrapper",".slider-section"],track:['[data-loop-slider="track"]',".loop-slider-track"],list:['[data-loop-slider="list"]',".slider-wrapper"],loop:['[data-loop-slider="loop"]',".loop-slider.w-dyn-list",".loop-slider"],item:['[data-loop-slider="item"]',".slide-w"],content:['[data-loop-slider="content"]',".slide"],blur:['[data-loop-slider="blur"]',".slide-blur"],media:['[data-loop-slider="focus"]',".work-list-img-wrap img",".work-list-img-wrap"]},Si={baseScale:.8,focusScale:1,blurMax:80,translateMax:0,lerp:.08,progressLerp:.12,minOpacity:.2},yt="loop-slider-lenis-styles",Li="html.lenis,html.lenis body{height:auto}.lenis:not(.lenis-autoToggle).lenis-stopped{overflow:clip}.lenis [data-lenis-prevent],.lenis [data-lenis-prevent-wheel],.lenis [data-lenis-prevent-touch]{overscroll-behavior:contain}.lenis.lenis-smooth iframe{pointer-events:none}.lenis.lenis-autoToggle{transition-property:overflow;transition-duration:1ms;transition-behavior:allow-discrete}",ze="data-loop-slider-snap",Te=null,De=!1,We=!1,Ne=[],Ti=(i,r,n)=>Math.max(r,Math.min(n,i)),xi=()=>{if(document.getElementById(yt))return;let i=document.createElement("style");i.id=yt,i.textContent=Li,document.head.appendChild(i)},we=(i,r)=>{for(let n of r){let l=i.querySelector(n);if(l)return l}return null},et=(i,r)=>{for(let n of r){let l=Array.from(i.querySelectorAll(n));if(l.length)return l}return[]},Pi=()=>et(document,re.root).filter(r=>we(r,re.list)),tt=class{constructor(r){f(this,"root");f(this,"prefersInfinite");f(this,"config",Si);f(this,"slides",[]);f(this,"viewportHeight",window.innerHeight||0);f(this,"primaryList",null);f(this,"loopHeight",0);f(this,"loopOffset",0);f(this,"virtualScroll",0);f(this,"loopIndex",0);f(this,"previousScroll",null);f(this,"trackElement",null);f(this,"loopLists",[]);f(this,"localLenis",null);f(this,"localLenisRaf",null);f(this,"handleLenisScroll");this.root=r,this.prefersInfinite=r.dataset.loopSliderInfinite!=="false";let n=we(r,re.track),l=we(r,re.list);if(!l||!n)throw new Error('Loop slider list not found. Add data-loop-slider="list" to the slider wrapper.');this.primaryList=l,this.loopHeight=this.primaryList.scrollHeight,this.trackElement=n,this.prepareLoopLists(n),this.prefersInfinite&&this.initLocalLenis(),this.collectSlides()}destroy(){this.handleLenisScroll&&this.localLenis&&this.localLenis.off("scroll",this.handleLenisScroll),this.localLenisRaf!==null&&(window.cancelAnimationFrame(this.localLenisRaf),this.localLenisRaf=null),this.localLenis?.destroy(),this.localLenis=null}initLocalLenis(){if(this.localLenis||!this.trackElement)return;xi(),this.root.style.overflow=this.root.style.overflow||"hidden",this.root.style.position=this.root.style.position||"relative",this.trackElement.style.willChange=this.trackElement.style.willChange||"transform",this.localLenis=new gt({wrapper:this.root,content:this.trackElement,smoothWheel:!0,infinite:!0,syncTouch:!0,touchMultiplier:.65}),this.handleLenisScroll=()=>{this.measure()},this.localLenis.on("scroll",this.handleLenisScroll);let r=n=>{this.localLenis?.raf(n),this.localLenisRaf=window.requestAnimationFrame(r)};this.localLenisRaf=window.requestAnimationFrame(r)}collectSlides(){let r=et(this.root,re.item);this.slides=r.map(n=>({node:n,contentNode:we(n,re.content)??n,blurNode:we(n,re.blur),focusNodes:(()=>{let l=[],c=we(n,re.media),m=n.querySelector(".work-title");return c&&l.push(c),m&&l.push(m),l.length||l.push(we(n,re.content)??n),l})(),progress:0,targetProgress:0,scale:this.config.baseScale,targetScale:this.config.baseScale})),this.slides.forEach(n=>{let l=n.contentNode;l.style.willChange="transform, opacity, filter",l.style.transformOrigin="center center",l.style.position=l.style.position||"relative"})}applySlideStyles(r){let n=this.config.minOpacity+(1-this.config.minOpacity)*r.progress,l=(1-r.progress)*this.config.blurMax;r.contentNode.style.transform=`scale(${r.scale.toFixed(4)})`,r.contentNode.style.opacity=n.toFixed(3),r.focusNodes.forEach(c=>{c.style.filter=`blur(${l.toFixed(2)}px)`}),r.blurNode&&(r.blurNode.style.opacity=(1-r.progress).toFixed(3),r.blurNode.style.filter=`blur(${Math.max(l,this.config.blurMax*.6).toFixed(2)}px)`)}prepareLoopLists(r){if(this.loopLists=et(r,re.loop),!this.loopLists.length){this.loopLists=[];return}if(this.loopLists.length<2){let n=this.loopLists[0].cloneNode(!0);r.appendChild(n),this.loopLists.push(n)}}rotateLists(r){if(!(!this.trackElement||!this.loopLists.length))if(r==="forward"){let n=this.loopLists.shift();if(!n)return;this.trackElement.appendChild(n),this.loopLists.push(n)}else{let n=this.loopLists.pop();if(!n)return;let l=this.trackElement.firstElementChild;l?this.trackElement.insertBefore(n,l):this.trackElement.appendChild(n),this.loopLists.unshift(n)}}computeLoopHeight(){if(!this.primaryList)return this.loopHeight;let r=this.primaryList.scrollHeight||this.primaryList.offsetHeight;return r&&(this.loopHeight=r),this.loopHeight}applyLoopOffset(){if(!this.prefersInfinite||!this.localLenis||!this.trackElement)return;let r=this.loopHeight||this.computeLoopHeight();if(!r)return;let{scroll:n}=this.localLenis,l=Math.max(this.localLenis.limit||r,r);if(this.previousScroll===null){this.previousScroll=n,this.virtualScroll=0,this.loopIndex=0,this.loopOffset=0,this.trackElement.style.transform="";return}let c=n-this.previousScroll;Math.abs(c)>l*.5&&(c+=c>0?-l:l),this.virtualScroll+=c,this.previousScroll=n;let w=Math.floor(this.virtualScroll/r)-this.loopIndex;for(;w>0;)this.rotateLists("forward"),this.loopIndex+=1,w-=1;for(;w<0;)this.rotateLists("backward"),this.loopIndex-=1,w+=1;let v=this.virtualScroll-this.loopIndex*r;this.loopOffset=n-v,this.trackElement.style.transform=`translate3d(0, ${this.loopOffset}px, 0)`}measure(){if(!this.slides.length)return;let r=Math.max(window.innerHeight,1);this.viewportHeight=r,this.computeLoopHeight(),this.applyLoopOffset();let n=0,l=r;this.slides.forEach(c=>{let m=c.node.getBoundingClientRect(),w=m.top,v=m.bottom,b=Math.max(m.height,1),E=Math.max(n,w),S=Math.min(l,v),z=Math.max(0,S-E),L=Ti(z/b,0,1);c.targetProgress=L,c.targetScale=this.config.baseScale+(this.config.focusScale-this.config.baseScale)*L})}animate(){this.slides.length&&this.slides.forEach(r=>{r.scale+=(r.targetScale-r.scale)*this.config.lerp,r.progress+=(r.targetProgress-r.progress)*this.config.progressLerp,this.applySlideStyles(r)})}syncToTargets(){this.slides.length&&this.slides.forEach(r=>{r.scale=r.targetScale,r.progress=r.targetProgress,this.applySlideStyles(r)})}},it=()=>{Ne.forEach(i=>i.measure())},wt=()=>{it()},bt=()=>{it()},ki=()=>{De||(window.addEventListener("scroll",wt,{passive:!0}),De=!0)},Hi=()=>{We||(window.addEventListener("resize",bt),We=!0)},Mi=()=>{if(Te!==null)return;let i=()=>{Ne.forEach(r=>r.animate()),Te=window.requestAnimationFrame(i)};Te=window.requestAnimationFrame(i)},Et=()=>{Te!==null&&(window.cancelAnimationFrame(Te),Te=null),De&&(window.removeEventListener("scroll",wt),De=!1),We&&(window.removeEventListener("resize",bt),We=!1),Ne.forEach(i=>i.destroy()),Ne.length=0},St=()=>{let i=document.body.hasAttribute(ze),r=Pi();if(!r.length){i&&document.body.removeAttribute(ze);return}if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){i&&document.body.removeAttribute(ze);return}let l=r.map(c=>{try{return new tt(c)}catch(m){return console.warn(m),null}}).filter(c=>!!c);l.length&&(Ne.push(...l),ki(),Hi(),it(),i&&(l.forEach(c=>c.syncToTargets()),document.body.removeAttribute(ze)),Mi())};var ue=null,xt=i=>{i?.preserveNavState?ue?.({resetState:!1}):ue?.(),ue=null,Et()},Lt=()=>{xt(),document.body.classList.contains("is-in-peripheral")?(Ee(),fe(!0),ue=null):(fe(!0),ue=Ge()),St(),window.requestAnimationFrame(()=>{ue?.(),document.body.classList.contains("is-in-peripheral")?(Ee(),fe(!0),ue=null):(fe(!0),ue=Ge())})},Tt=()=>{Lt(),pt({onBeforeLeave:()=>{xt({preserveNavState:!0})},onAfterEnter:Lt})};document.readyState==="complete"||document.readyState==="interactive"?Tt():document.addEventListener("DOMContentLoaded",Tt);})();
