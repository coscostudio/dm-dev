"use strict";(()=>{var Ue=Object.create;var zt=Object.defineProperty;var Ye=Object.getOwnPropertyDescriptor;var Ve=Object.getOwnPropertyNames;var Ge=Object.getPrototypeOf,Ke=Object.prototype.hasOwnProperty;var Qe=(e,i,r)=>i in e?zt(e,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[i]=r;var Je=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var Ze=(e,i,r,s)=>{if(i&&typeof i=="object"||typeof i=="function")for(let h of Ve(i))!Ke.call(e,h)&&h!==r&&zt(e,h,{get:()=>i[h],enumerable:!(s=Ye(i,h))||s.enumerable});return e};var tn=(e,i,r)=>(r=e!=null?Ue(Ge(e)):{},Ze(i||!e||!e.__esModule?zt(r,"default",{value:e,enumerable:!0}):r,e));var d=(e,i,r)=>Qe(e,typeof i!="symbol"?i+"":i,r);var Zt=Je((Wt,Ft)=>{(function(e,i){typeof Wt=="object"&&typeof Ft<"u"?Ft.exports=i():typeof define=="function"&&define.amd?define(i):(e||self).barba=i()})(Wt,function(){function e(l,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,typeof(a=function(c,f){if(typeof c!="object"||c===null)return c;var p=c[Symbol.toPrimitive];if(p!==void 0){var u=p.call(c,"string");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}(n.key))=="symbol"?a:String(a),n)}var a}function i(l,o,t){return o&&e(l.prototype,o),t&&e(l,t),Object.defineProperty(l,"prototype",{writable:!1}),l}function r(){return r=Object.assign?Object.assign.bind():function(l){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l[n]=t[n])}return l},r.apply(this,arguments)}function s(l,o){l.prototype=Object.create(o.prototype),l.prototype.constructor=l,m(l,o)}function h(l){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},h(l)}function m(l,o){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},m(l,o)}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(l,o,t){return y=w()?Reflect.construct.bind():function(n,a,c){var f=[null];f.push.apply(f,a);var p=new(Function.bind.apply(n,f));return c&&m(p,c.prototype),p},y.apply(null,arguments)}function E(l){var o=typeof Map=="function"?new Map:void 0;return E=function(t){if(t===null||Function.toString.call(t).indexOf("[native code]")===-1)return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(t))return o.get(t);o.set(t,n)}function n(){return y(t,arguments,h(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,t)},E(l)}function I(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}var O,z=function(){this.before=void 0,this.beforeLeave=void 0,this.leave=void 0,this.afterLeave=void 0,this.beforeEnter=void 0,this.enter=void 0,this.afterEnter=void 0,this.after=void 0};(function(l){l[l.off=0]="off",l[l.error=1]="error",l[l.warning=2]="warning",l[l.info=3]="info",l[l.debug=4]="debug"})(O||(O={}));var b=O.off,A=function(){function l(t){this.t=void 0,this.t=t}l.getLevel=function(){return b},l.setLevel=function(t){return b=O[t]};var o=l.prototype;return o.error=function(){this.i(console.error,O.error,[].slice.call(arguments))},o.warn=function(){this.i(console.warn,O.warning,[].slice.call(arguments))},o.info=function(){this.i(console.info,O.info,[].slice.call(arguments))},o.debug=function(){this.i(console.log,O.debug,[].slice.call(arguments))},o.i=function(t,n,a){n<=l.getLevel()&&t.apply(console,["["+this.t+"] "].concat(a))},l}();function _(l){return l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function j(l){return l&&l.sensitive?"":"i"}var k={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},tt=function(){function l(){this.o=k,this.u=void 0,this.h={after:null,before:null,parent:null}}var o=l.prototype;return o.toString=function(t){return t.outerHTML},o.toDocument=function(t){return this.u||(this.u=new DOMParser),this.u.parseFromString(t,"text/html")},o.toElement=function(t){var n=document.createElement("div");return n.innerHTML=t,n},o.getHtml=function(t){return t===void 0&&(t=document),this.toString(t.documentElement)},o.getWrapper=function(t){return t===void 0&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},o.getContainer=function(t){return t===void 0&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},o.removeContainer=function(t){document.body.contains(t)&&(this.v(t),t.parentNode.removeChild(t))},o.addContainer=function(t,n){var a=this.getContainer()||this.h.before;a?this.l(t,a):this.h.after?this.h.after.parentNode.insertBefore(t,this.h.after):this.h.parent?this.h.parent.appendChild(t):n.appendChild(t)},o.getSibling=function(){return this.h},o.getNamespace=function(t){t===void 0&&(t=document);var n=t.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return n?n.getAttribute(this.o.prefix+"-"+this.o.namespace):null},o.getHref=function(t){if(t.tagName&&t.tagName.toLowerCase()==="a"){if(typeof t.href=="string")return t.href;var n=t.getAttribute("href")||t.getAttribute("xlink:href");if(n)return this.resolveUrl(n.baseVal||n)}return null},o.resolveUrl=function(){var t=[].slice.call(arguments).length;if(t===0)throw new Error("resolveUrl requires at least one argument; got none.");var n=document.createElement("base");if(n.href=arguments[0],t===1)return n.href;var a=document.getElementsByTagName("head")[0];a.insertBefore(n,a.firstChild);for(var c,f=document.createElement("a"),p=1;p<t;p++)f.href=arguments[p],n.href=c=f.href;return a.removeChild(n),c},o.l=function(t,n){n.parentNode.insertBefore(t,n.nextSibling)},o.v=function(t){return this.h={after:t.nextElementSibling,before:t.previousElementSibling,parent:t.parentElement},this.h},l}(),B=new tt,et=function(){function l(){this.p=void 0,this.m=[],this.P=-1}var o=l.prototype;return o.init=function(t,n){this.p="barba";var a={data:{},ns:n,scroll:{x:window.scrollX,y:window.scrollY},url:t};this.P=0,this.m.push(a);var c={from:this.p,index:this.P,states:[].concat(this.m)};window.history&&window.history.replaceState(c,"",t)},o.change=function(t,n,a){if(a&&a.state){var c=a.state,f=c.index;n=this.g(this.P-f),this.replace(c.states),this.P=f}else this.add(t,n);return n},o.add=function(t,n,a,c){var f=a??this.R(n),p={data:c??{},ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:t};switch(f){case"push":this.P=this.size,this.m.push(p);break;case"replace":this.set(this.P,p)}var u={from:this.p,index:this.P,states:[].concat(this.m)};switch(f){case"push":window.history&&window.history.pushState(u,"",t);break;case"replace":window.history&&window.history.replaceState(u,"",t)}},o.store=function(t,n){var a=n||this.P,c=this.get(a);c.data=r({},c.data,t),this.set(a,c);var f={from:this.p,index:this.P,states:[].concat(this.m)};window.history.replaceState(f,"")},o.update=function(t,n){var a=n||this.P,c=r({},this.get(a),t);this.set(a,c)},o.remove=function(t){t?this.m.splice(t,1):this.m.pop(),this.P--},o.clear=function(){this.m=[],this.P=-1},o.replace=function(t){this.m=t},o.get=function(t){return this.m[t]},o.set=function(t,n){return this.m[t]=n},o.R=function(t){var n="push",a=t,c=k.prefix+"-"+k.history;return a.hasAttribute&&a.hasAttribute(c)&&(n=a.getAttribute(c)),n},o.g=function(t){return Math.abs(t)>1?t>0?"forward":"back":t===0?"popstate":t>0?"back":"forward"},i(l,[{key:"current",get:function(){return this.m[this.P]}},{key:"previous",get:function(){return this.P<1?null:this.m[this.P-1]}},{key:"size",get:function(){return this.m.length}}]),l}(),ot=new et,X=function(l,o){try{var t=function(){if(!o.next.html)return Promise.resolve(l).then(function(n){var a=o.next;if(n){var c=B.toElement(n.html);a.namespace=B.getNamespace(c),a.container=B.getContainer(c),a.url=n.url,a.html=n.html,ot.update({ns:a.namespace});var f=B.toDocument(n.html);document.title=f.title}})}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(n){return Promise.reject(n)}},J=function l(o,t,n){return o instanceof RegExp?function(a,c){if(!c)return a;for(var f=/\((?:\?<(.*?)>)?(?!\?)/g,p=0,u=f.exec(a.source);u;)c.push({name:u[1]||p++,prefix:"",suffix:"",modifier:"",pattern:""}),u=f.exec(a.source);return a}(o,t):Array.isArray(o)?function(a,c,f){var p=a.map(function(u){return l(u,c,f).source});return new RegExp("(?:".concat(p.join("|"),")"),j(f))}(o,t,n):function(a,c,f){return function(p,u,v){v===void 0&&(v={});for(var M=v.strict,P=M!==void 0&&M,g=v.start,N=g===void 0||g,L=v.end,S=L===void 0||L,C=v.encode,R=C===void 0?function(St){return St}:C,V=v.delimiter,D=V===void 0?"/#?":V,U=v.endsWith,it="[".concat(_(U===void 0?"":U),"]|$"),Z="[".concat(_(D),"]"),$=N?"^":"",G=0,K=p;G<K.length;G++){var x=K[G];if(typeof x=="string")$+=_(R(x));else{var Y=_(R(x.prefix)),T=_(R(x.suffix));if(x.pattern)if(u&&u.push(x),Y||T)if(x.modifier==="+"||x.modifier==="*"){var W=x.modifier==="*"?"?":"";$+="(?:".concat(Y,"((?:").concat(x.pattern,")(?:").concat(T).concat(Y,"(?:").concat(x.pattern,"))*)").concat(T,")").concat(W)}else $+="(?:".concat(Y,"(").concat(x.pattern,")").concat(T,")").concat(x.modifier);else $+=x.modifier==="+"||x.modifier==="*"?"((?:".concat(x.pattern,")").concat(x.modifier,")"):"(".concat(x.pattern,")").concat(x.modifier);else $+="(?:".concat(Y).concat(T,")").concat(x.modifier)}}if(S)P||($+="".concat(Z,"?")),$+=v.endsWith?"(?=".concat(it,")"):"$";else{var H=p[p.length-1],Q=typeof H=="string"?Z.indexOf(H[H.length-1])>-1:H===void 0;P||($+="(?:".concat(Z,"(?=").concat(it,"))?")),Q||($+="(?=".concat(Z,"|").concat(it,")"))}return new RegExp($,j(v))}(function(p,u){u===void 0&&(u={});for(var v=function(T){for(var W=[],H=0;H<T.length;){var Q=T[H];if(Q!=="*"&&Q!=="+"&&Q!=="?")if(Q!=="\\")if(Q!=="{")if(Q!=="}")if(Q!==":")if(Q!=="(")W.push({type:"CHAR",index:H,value:T[H++]});else{var St=1,Ot="";if(T[F=H+1]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(F));for(;F<T.length;)if(T[F]!=="\\"){if(T[F]===")"){if(--St==0){F++;break}}else if(T[F]==="("&&(St++,T[F+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(F));Ot+=T[F++]}else Ot+=T[F++]+T[F++];if(St)throw new TypeError("Unbalanced pattern at ".concat(H));if(!Ot)throw new TypeError("Missing pattern at ".concat(H));W.push({type:"PATTERN",index:H,value:Ot}),H=F}else{for(var Dt="",F=H+1;F<T.length;){var pt=T.charCodeAt(F);if(!(pt>=48&&pt<=57||pt>=65&&pt<=90||pt>=97&&pt<=122||pt===95))break;Dt+=T[F++]}if(!Dt)throw new TypeError("Missing parameter name at ".concat(H));W.push({type:"NAME",index:H,value:Dt}),H=F}else W.push({type:"CLOSE",index:H,value:T[H++]});else W.push({type:"OPEN",index:H,value:T[H++]});else W.push({type:"ESCAPED_CHAR",index:H++,value:T[H++]});else W.push({type:"MODIFIER",index:H,value:T[H++]})}return W.push({type:"END",index:H,value:""}),W}(p),M=u.prefixes,P=M===void 0?"./":M,g="[^".concat(_(u.delimiter||"/#?"),"]+?"),N=[],L=0,S=0,C="",R=function(T){if(S<v.length&&v[S].type===T)return v[S++].value},V=function(T){var W=R(T);if(W!==void 0)return W;var H=v[S],Q=H.index;throw new TypeError("Unexpected ".concat(H.type," at ").concat(Q,", expected ").concat(T))},D=function(){for(var T,W="";T=R("CHAR")||R("ESCAPED_CHAR");)W+=T;return W};S<v.length;){var U=R("CHAR"),it=R("NAME"),Z=R("PATTERN");if(it||Z)P.indexOf(G=U||"")===-1&&(C+=G,G=""),C&&(N.push(C),C=""),N.push({name:it||L++,prefix:G,suffix:"",pattern:Z||g,modifier:R("MODIFIER")||""});else{var $=U||R("ESCAPED_CHAR");if($)C+=$;else if(C&&(N.push(C),C=""),R("OPEN")){var G=D(),K=R("NAME")||"",x=R("PATTERN")||"",Y=D();V("CLOSE"),N.push({name:K||(x?L++:""),pattern:K&&!x?g:x,prefix:G,suffix:Y,modifier:R("MODIFIER")||""})}else V("END")}}return N}(a,f),c,f)}(o,t,n)},st={__proto__:null,update:X,nextTick:function(){return new Promise(function(l){window.requestAnimationFrame(l)})},pathToRegexp:J},q=function(){return window.location.origin},bt=function(l){return l===void 0&&(l=window.location.href),at(l).port},at=function(l){var o,t=l.match(/:\d+/);if(t===null)/^http/.test(l)&&(o=80),/^https/.test(l)&&(o=443);else{var n=t[0].substring(1);o=parseInt(n,10)}var a,c=l.replace(q(),""),f={},p=c.indexOf("#");p>=0&&(a=c.slice(p+1),c=c.slice(0,p));var u=c.indexOf("?");return u>=0&&(f=Qt(c.slice(u+1)),c=c.slice(0,u)),{hash:a,path:c,port:o,query:f}},Qt=function(l){return l.split("&").reduce(function(o,t){var n=t.split("=");return o[n[0]]=n[1],o},{})},It=function(l){return l===void 0&&(l=window.location.href),l.replace(/(\/#.*|\/|#.*)$/,"")},Te={__proto__:null,getHref:function(){return window.location.href},getAbsoluteHref:function(l,o){return o===void 0&&(o=document.baseURI),new URL(l,o).href},getOrigin:q,getPort:bt,getPath:function(l){return l===void 0&&(l=window.location.href),at(l).path},getQuery:function(l,o){return o===void 0&&(o=!1),o?JSON.stringify(at(l).query):at(l).query},getHash:function(l){return at(l).hash},parse:at,parseQuery:Qt,clean:It};function Pe(l,o,t,n,a){return o===void 0&&(o=2e3),new Promise(function(c,f){var p=new XMLHttpRequest;p.onreadystatechange=function(){if(p.readyState===XMLHttpRequest.DONE){if(p.status===200){var u=p.responseURL!==""&&p.responseURL!==l?p.responseURL:l;c({html:p.responseText,url:r({href:u},at(u))}),n.update(l,{status:"fulfilled",target:u})}else if(p.status){var v={status:p.status,statusText:p.statusText};t(l,v),f(v),n.update(l,{status:"rejected"})}}},p.ontimeout=function(){var u=new Error("Timeout error ["+o+"]");t(l,u),f(u),n.update(l,{status:"rejected"})},p.onerror=function(){var u=new Error("Fetch error");t(l,u),f(u),n.update(l,{status:"rejected"})},p.open("GET",l),p.timeout=o,p.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),p.setRequestHeader("x-barba","yes"),a.all().forEach(function(u,v){p.setRequestHeader(v,u)}),p.send()})}function xe(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function vt(l,o){return o===void 0&&(o={}),function(){var t=arguments,n=!1,a=new Promise(function(c,f){o.async=function(){return n=!0,function(u,v){u?f(u):c(v)}};var p=l.apply(o,[].slice.call(t));n||(xe(p)?p.then(c,f):c(p))});return a}}var He=function(l){function o(){var n;return(n=l.call(this)||this).logger=new A("@barba/core"),n.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],n.registered=new Map,n.init(),n}s(o,l);var t=o.prototype;return t.init=function(){var n=this;this.registered.clear(),this.all.forEach(function(a){n[a]||(n[a]=function(c,f){n.registered.has(a)||n.registered.set(a,new Set),n.registered.get(a).add({ctx:f||{},fn:c})})})},t.do=function(n){var a=arguments,c=this;if(this.registered.has(n)){var f=Promise.resolve();return this.registered.get(n).forEach(function(p){f=f.then(function(){return vt(p.fn,p.ctx).apply(void 0,[].slice.call(a,1))})}),f.catch(function(p){c.logger.debug("Hook error ["+n+"]"),c.logger.error(p)})}return Promise.resolve()},t.clear=function(){var n=this;this.all.forEach(function(a){delete n[a]}),this.init()},t.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var n=[];this.registered.forEach(function(a,c){return n.push(c)}),this.logger.info("Registered hooks: "+n.join(","))},o}(z),lt=new He,Jt=function(){function l(o){if(this.k=void 0,this.O=[],typeof o=="boolean")this.k=o;else{var t=Array.isArray(o)?o:[o];this.O=t.map(function(n){return J(n)})}}return l.prototype.checkHref=function(o){if(typeof this.k=="boolean")return this.k;var t=at(o).path;return this.O.some(function(n){return n.exec(t)!==null})},l}(),Oe=function(l){function o(n){var a;return(a=l.call(this,n)||this).T=new Map,a}s(o,l);var t=o.prototype;return t.set=function(n,a,c,f,p){return this.T.set(n,{action:c,request:a,status:f,target:p??n}),{action:c,request:a,status:f,target:p}},t.get=function(n){return this.T.get(n)},t.getRequest=function(n){return this.T.get(n).request},t.getAction=function(n){return this.T.get(n).action},t.getStatus=function(n){return this.T.get(n).status},t.getTarget=function(n){return this.T.get(n).target},t.has=function(n){return!this.checkHref(n)&&this.T.has(n)},t.delete=function(n){return this.T.delete(n)},t.update=function(n,a){var c=r({},this.T.get(n),a);return this.T.set(n,c),c},o}(Jt),ke=function(){function l(){this.A=new Map}var o=l.prototype;return o.set=function(t,n){return this.A.set(t,n),{name:n}},o.get=function(t){return this.A.get(t)},o.all=function(){return this.A},o.has=function(t){return this.A.has(t)},o.delete=function(t){return this.A.delete(t)},o.clear=function(){return this.A.clear()},l}(),Ae=function(){return!window.history.pushState},Me=function(l){return!l.el||!l.href},Re=function(l){var o=l.event;return o.which>1||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey},Ne=function(l){var o=l.el;return o.hasAttribute("target")&&o.target==="_blank"},Ce=function(l){var o=l.el;return o.protocol!==void 0&&window.location.protocol!==o.protocol||o.hostname!==void 0&&window.location.hostname!==o.hostname},_e=function(l){var o=l.el;return o.port!==void 0&&bt()!==bt(o.href)},Ie=function(l){var o=l.el;return o.getAttribute&&typeof o.getAttribute("download")=="string"},qe=function(l){return l.el.hasAttribute(k.prefix+"-"+k.prevent)},De=function(l){return!!l.el.closest("["+k.prefix+"-"+k.prevent+'="all"]')},ze=function(l){var o=l.href;return It(o)===It()&&bt(o)===bt()},We=function(l){function o(n){var a;return(a=l.call(this,n)||this).suite=[],a.tests=new Map,a.init(),a}s(o,l);var t=o.prototype;return t.init=function(){this.add("pushState",Ae),this.add("exists",Me),this.add("newTab",Re),this.add("blank",Ne),this.add("corsDomain",Ce),this.add("corsPort",_e),this.add("download",Ie),this.add("preventSelf",qe),this.add("preventAll",De),this.add("sameUrl",ze,!1)},t.add=function(n,a,c){c===void 0&&(c=!0),this.tests.set(n,a),c&&this.suite.push(n)},t.run=function(n,a,c,f){return this.tests.get(n)({el:a,event:c,href:f})},t.checkLink=function(n,a,c){var f=this;return this.suite.some(function(p){return f.run(p,n,a,c)})},o}(Jt),qt=function(l){function o(t,n){var a;return n===void 0&&(n="Barba error"),(a=l.call.apply(l,[this].concat([].slice.call(arguments,2)))||this).error=void 0,a.label=void 0,a.error=t,a.label=n,Error.captureStackTrace&&Error.captureStackTrace(I(a),o),a.name="BarbaError",a}return s(o,l),o}(E(Error)),Fe=function(){function l(t){t===void 0&&(t=[]),this.logger=new A("@barba/core"),this.all=[],this.page=[],this.once=[],this.j=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],t&&(this.all=this.all.concat(t)),this.update()}var o=l.prototype;return o.add=function(t,n){t==="rule"?this.j.splice(n.position||0,0,n.value):this.all.push(n),this.update()},o.resolve=function(t,n){var a=this;n===void 0&&(n={});var c=n.once?this.once:this.page;c=c.filter(n.self?function(g){return g.name&&g.name==="self"}:function(g){return!g.name||g.name!=="self"});var f=new Map,p=c.find(function(g){var N=!0,L={};return n.self&&g.name==="self"?(f.set(g,L),!0):(a.j.reverse().forEach(function(S){N&&(N=a.M(g,S,t,L),g.from&&g.to&&(N=a.M(g,S,t,L,"from")&&a.M(g,S,t,L,"to")),g.from&&!g.to&&(N=a.M(g,S,t,L,"from")),!g.from&&g.to&&(N=a.M(g,S,t,L,"to")))}),f.set(g,L),N)}),u=f.get(p),v=[];if(v.push(n.once?"once":"page"),n.self&&v.push("self"),u){var M,P=[p];Object.keys(u).length>0&&P.push(u),(M=this.logger).info.apply(M,["Transition found ["+v.join(",")+"]"].concat(P))}else this.logger.info("No transition found ["+v.join(",")+"]");return p},o.update=function(){var t=this;this.all=this.all.map(function(n){return t.N(n)}).sort(function(n,a){return n.priority-a.priority}).reverse().map(function(n){return delete n.priority,n}),this.page=this.all.filter(function(n){return n.leave!==void 0||n.enter!==void 0}),this.once=this.all.filter(function(n){return n.once!==void 0})},o.M=function(t,n,a,c,f){var p=!0,u=!1,v=t,M=n.name,P=M,g=M,N=M,L=f?v[f]:v,S=f==="to"?a.next:a.current;if(f?L&&L[M]:L[M]){switch(n.type){case"strings":default:var C=Array.isArray(L[P])?L[P]:[L[P]];S[P]&&C.indexOf(S[P])!==-1&&(u=!0),C.indexOf(S[P])===-1&&(p=!1);break;case"object":var R=Array.isArray(L[g])?L[g]:[L[g]];S[g]?(S[g].name&&R.indexOf(S[g].name)!==-1&&(u=!0),R.indexOf(S[g].name)===-1&&(p=!1)):p=!1;break;case"function":L[N](a)?u=!0:p=!1}u&&(f?(c[f]=c[f]||{},c[f][M]=v[f][M]):c[M]=v[M])}return p},o.S=function(t,n,a){var c=0;return(t[n]||t.from&&t.from[n]||t.to&&t.to[n])&&(c+=Math.pow(10,a),t.from&&t.from[n]&&(c+=1),t.to&&t.to[n]&&(c+=2)),c},o.N=function(t){var n=this;t.priority=0;var a=0;return this.j.forEach(function(c,f){a+=n.S(t,c.name,f+1)}),t.priority=a,t},l}();function Lt(l,o){try{var t=l()}catch(n){return o(n)}return t&&t.then?t.then(void 0,o):t}var je=function(){function l(t){t===void 0&&(t=[]),this.logger=new A("@barba/core"),this.store=void 0,this.C=!1,this.store=new Fe(t)}var o=l.prototype;return o.get=function(t,n){return this.store.resolve(t,n)},o.doOnce=function(t){var n=t.data,a=t.transition;try{var c=function(){f.C=!1},f=this,p=a||{};f.C=!0;var u=Lt(function(){return Promise.resolve(f.L("beforeOnce",n,p)).then(function(){return Promise.resolve(f.once(n,p)).then(function(){return Promise.resolve(f.L("afterOnce",n,p)).then(function(){})})})},function(v){f.C=!1,f.logger.debug("Transition error [before/after/once]"),f.logger.error(v)});return Promise.resolve(u&&u.then?u.then(c):c())}catch(v){return Promise.reject(v)}},o.doPage=function(t){var n=t.data,a=t.transition,c=t.page,f=t.wrapper;try{var p=function(g){u.C=!1},u=this,v=a||{},M=v.sync===!0||!1;u.C=!0;var P=Lt(function(){function g(){return Promise.resolve(u.L("before",n,v)).then(function(){function L(C){return Promise.resolve(u.remove(n)).then(function(){return Promise.resolve(u.L("after",n,v)).then(function(){})})}var S=function(){if(M)return Lt(function(){return Promise.resolve(u.add(n,f)).then(function(){return Promise.resolve(u.L("beforeLeave",n,v)).then(function(){return Promise.resolve(u.L("beforeEnter",n,v)).then(function(){return Promise.resolve(Promise.all([u.leave(n,v),u.enter(n,v)])).then(function(){return Promise.resolve(u.L("afterLeave",n,v)).then(function(){return Promise.resolve(u.L("afterEnter",n,v)).then(function(){})})})})})})},function(D){if(u.H(D))throw new qt(D,"Transition error [sync]")});var C=function(D){return Lt(function(){var U=function(){if(R!==!1)return Promise.resolve(u.add(n,f)).then(function(){return Promise.resolve(u.L("beforeEnter",n,v)).then(function(){return Promise.resolve(u.enter(n,v,R)).then(function(){return Promise.resolve(u.L("afterEnter",n,v)).then(function(){})})})})}();if(U&&U.then)return U.then(function(){})},function(U){if(u.H(U))throw new qt(U,"Transition error [before/after/enter]")})},R=!1,V=Lt(function(){return Promise.resolve(u.L("beforeLeave",n,v)).then(function(){return Promise.resolve(Promise.all([u.leave(n,v),X(c,n)]).then(function(D){return D[0]})).then(function(D){return R=D,Promise.resolve(u.L("afterLeave",n,v)).then(function(){})})})},function(D){if(u.H(D))throw new qt(D,"Transition error [before/after/leave]")});return V&&V.then?V.then(C):C()}();return S&&S.then?S.then(L):L()})}var N=function(){if(M)return Promise.resolve(X(c,n)).then(function(){})}();return N&&N.then?N.then(g):g()},function(g){throw u.C=!1,g.name&&g.name==="BarbaError"?(u.logger.debug(g.label),u.logger.error(g.error),g):(u.logger.debug("Transition error [page]"),u.logger.error(g),g)});return Promise.resolve(P&&P.then?P.then(p):p())}catch(g){return Promise.reject(g)}},o.once=function(t,n){try{return Promise.resolve(lt.do("once",t,n)).then(function(){return n.once?vt(n.once,n)(t):Promise.resolve()})}catch(a){return Promise.reject(a)}},o.leave=function(t,n){try{return Promise.resolve(lt.do("leave",t,n)).then(function(){return n.leave?vt(n.leave,n)(t):Promise.resolve()})}catch(a){return Promise.reject(a)}},o.enter=function(t,n,a){try{return Promise.resolve(lt.do("enter",t,n)).then(function(){return n.enter?vt(n.enter,n)(t,a):Promise.resolve()})}catch(c){return Promise.reject(c)}},o.add=function(t,n){try{return B.addContainer(t.next.container,n),lt.do("nextAdded",t),Promise.resolve()}catch(a){return Promise.reject(a)}},o.remove=function(t){try{return B.removeContainer(t.current.container),lt.do("currentRemoved",t),Promise.resolve()}catch(n){return Promise.reject(n)}},o.H=function(t){return t.message?!/Timeout error|Fetch error/.test(t.message):!t.status},o.L=function(t,n,a){try{return Promise.resolve(lt.do(t,n,a)).then(function(){return a[t]?vt(a[t],a)(n):Promise.resolve()})}catch(c){return Promise.reject(c)}},i(l,[{key:"isRunning",get:function(){return this.C},set:function(t){this.C=t}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(t){return t.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(t){return t.to&&!t.to.route||t.sync})}}]),l}(),Be=function(){function l(o){var t=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,o.length!==0&&(o.forEach(function(n){t.byNamespace.set(n.namespace,n)}),this.names.forEach(function(n){lt[n](t._(n))}))}return l.prototype._=function(o){var t=this;return function(n){var a=o.match(/enter/i)?n.next:n.current,c=t.byNamespace.get(a.namespace);return c&&c[o]?vt(c[o],c)(n):Promise.resolve()}},l}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(l){var o=this;do{if(o.matches(l))return o;o=o.parentElement||o.parentNode}while(o!==null&&o.nodeType===1);return null});var $e={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},Xe=function(){function l(){this.version="2.10.3",this.schemaPage=$e,this.Logger=A,this.logger=new A("@barba/core"),this.plugins=[],this.timeout=void 0,this.cacheIgnore=void 0,this.cacheFirstPage=void 0,this.prefetchIgnore=void 0,this.preventRunning=void 0,this.hooks=lt,this.cache=void 0,this.headers=void 0,this.prevent=void 0,this.transitions=void 0,this.views=void 0,this.dom=B,this.helpers=st,this.history=ot,this.request=Pe,this.url=Te,this.D=void 0,this.B=void 0,this.q=void 0,this.F=void 0}var o=l.prototype;return o.use=function(t,n){var a=this.plugins;a.indexOf(t)>-1?this.logger.warn("Plugin ["+t.name+"] already installed."):typeof t.install=="function"?(t.install(this,n),a.push(t)):this.logger.warn("Plugin ["+t.name+'] has no "install" method.')},o.init=function(t){var n=t===void 0?{}:t,a=n.transitions,c=a===void 0?[]:a,f=n.views,p=f===void 0?[]:f,u=n.schema,v=u===void 0?k:u,M=n.requestError,P=n.timeout,g=P===void 0?2e3:P,N=n.cacheIgnore,L=N!==void 0&&N,S=n.cacheFirstPage,C=S!==void 0&&S,R=n.prefetchIgnore,V=R!==void 0&&R,D=n.preventRunning,U=D!==void 0&&D,it=n.prevent,Z=it===void 0?null:it,$=n.debug,G=n.logLevel;if(A.setLevel(($!==void 0&&$)===!0?"debug":G===void 0?"off":G),this.logger.info(this.version),Object.keys(v).forEach(function(Y){k[Y]&&(k[Y]=v[Y])}),this.B=M,this.timeout=g,this.cacheIgnore=L,this.cacheFirstPage=C,this.prefetchIgnore=V,this.preventRunning=U,this.q=this.dom.getWrapper(),!this.q)throw new Error("[@barba/core] No Barba wrapper found");this.I();var K=this.data.current;if(!K.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new Oe(L),this.headers=new ke,this.prevent=new We(V),this.transitions=new je(c),this.views=new Be(p),Z!==null){if(typeof Z!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",Z)}this.history.init(K.url.href,K.namespace),C&&this.cache.set(K.url.href,Promise.resolve({html:K.html,url:K.url}),"init","fulfilled"),this.U=this.U.bind(this),this.$=this.$.bind(this),this.X=this.X.bind(this),this.G(),this.plugins.forEach(function(Y){return Y.init()});var x=this.data;x.trigger="barba",x.next=x.current,x.current=r({},this.schemaPage),this.hooks.do("ready",x),this.once(x),this.I()},o.destroy=function(){this.I(),this.J(),this.history.clear(),this.hooks.clear(),this.plugins=[]},o.force=function(t){window.location.assign(t)},o.go=function(t,n,a){var c;if(n===void 0&&(n="barba"),this.F=null,this.transitions.isRunning)this.force(t);else if(!(c=n==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(t)&&this.url.getQuery(this.history.current.url,!0)===this.url.getQuery(t,!0):this.prevent.run("sameUrl",null,null,t))||this.transitions.hasSelf)return n=this.history.change(this.cache.has(t)?this.cache.get(t).target:t,n,a),a&&(a.stopPropagation(),a.preventDefault()),this.page(t,n,a??void 0,c)},o.once=function(t){try{var n=this;return Promise.resolve(n.hooks.do("beforeEnter",t)).then(function(){function a(){return Promise.resolve(n.hooks.do("afterEnter",t)).then(function(){})}var c=function(){if(n.transitions.hasOnce){var f=n.transitions.get(t,{once:!0});return Promise.resolve(n.transitions.doOnce({transition:f,data:t})).then(function(){})}}();return c&&c.then?c.then(a):a()})}catch(a){return Promise.reject(a)}},o.page=function(t,n,a,c){try{var f,p=function(){var P=u.data;return Promise.resolve(u.hooks.do("page",P)).then(function(){var g=function(N,L){try{var S=(C=u.transitions.get(P,{once:!1,self:c}),Promise.resolve(u.transitions.doPage({data:P,page:f,transition:C,wrapper:u.q})).then(function(){u.I()}))}catch{return L()}var C;return S&&S.then?S.then(void 0,L):S}(0,function(){A.getLevel()===0&&u.force(P.next.url.href)});if(g&&g.then)return g.then(function(){})})},u=this;if(u.data.next.url=r({href:t},u.url.parse(t)),u.data.trigger=n,u.data.event=a,u.cache.has(t))f=u.cache.update(t,{action:"click"}).request;else{var v=u.request(t,u.timeout,u.onRequestError.bind(u,n),u.cache,u.headers);v.then(function(P){P.url.href!==t&&u.history.add(P.url.href,n,"replace")}),f=u.cache.set(t,v,"click","pending").request}var M=function(){if(u.transitions.shouldWait)return Promise.resolve(X(f,u.data)).then(function(){})}();return Promise.resolve(M&&M.then?M.then(p):p())}catch(P){return Promise.reject(P)}},o.onRequestError=function(t){this.transitions.isRunning=!1;var n=[].slice.call(arguments,1),a=n[0],c=n[1],f=this.cache.getAction(a);return this.cache.delete(a),this.B&&this.B(t,f,a,c)===!1||f==="click"&&this.force(a),!1},o.prefetch=function(t){var n=this;t=this.url.getAbsoluteHref(t),this.cache.has(t)||this.cache.set(t,this.request(t,this.timeout,this.onRequestError.bind(this,"barba"),this.cache,this.headers).catch(function(a){n.logger.error(a)}),"prefetch","pending")},o.G=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.U),document.addEventListener("touchstart",this.U)),document.addEventListener("click",this.$),window.addEventListener("popstate",this.X)},o.J=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.U),document.removeEventListener("touchstart",this.U)),document.removeEventListener("click",this.$),window.removeEventListener("popstate",this.X)},o.U=function(t){var n=this,a=this.W(t);if(a){var c=this.url.getAbsoluteHref(this.dom.getHref(a));this.prevent.checkHref(c)||this.cache.has(c)||this.cache.set(c,this.request(c,this.timeout,this.onRequestError.bind(this,a),this.cache,this.headers).catch(function(f){n.logger.error(f)}),"enter","pending")}},o.$=function(t){var n=this.W(t);if(n){if(this.transitions.isRunning&&this.preventRunning)return t.preventDefault(),void t.stopPropagation();this.F=t,this.go(this.dom.getHref(n),n,t)}},o.X=function(t){this.go(this.url.getHref(),"popstate",t)},o.W=function(t){for(var n=t.target;n&&!this.dom.getHref(n);)n=n.parentNode;if(n&&!this.prevent.checkLink(n,t,this.dom.getHref(n)))return n},o.I=function(){var t=this.url.getHref(),n={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:r({href:t},this.url.parse(t))};this.D={current:n,event:void 0,next:r({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},i(l,[{key:"data",get:function(){return this.D}},{key:"wrapper",get:function(){return this.q}}]),l}();return new Xe})});var At=tn(Zt(),1);var gt={wrapper:'[data-nav="wrapper"]',drawer:".drawer",toggle:'[data-nav="toggle"]',links:'[data-nav="links"] .nav-link',openIcon:'[data-nav-icon="open"]',closeIcon:'[data-nav-icon="close"]'},Bt=()=>{let e=document.querySelector(gt.drawer)||document.querySelector(gt.wrapper),i=document.querySelector(gt.toggle),r=document.querySelector(gt.openIcon),s=document.querySelector(gt.closeIcon),h=Array.from(document.querySelectorAll(gt.links));return!e||!i||!r||!s?null:{wrapper:e,toggle:i,openIcon:r,closeIcon:s,links:h}},jt="is-nav-open",kt="are-nav-links-visible",en=320,$t=()=>{let e=Bt();if(!e)return;let{wrapper:i,toggle:r,openIcon:s,closeIcon:h}=e;i.classList.remove(jt,kt),r.setAttribute("aria-expanded","false"),r.setAttribute("aria-pressed","false"),s.toggleAttribute("aria-hidden",!1),h.toggleAttribute("aria-hidden",!0),s.hidden=!1,h.hidden=!0},ct=e=>{let i=Bt();if(!i)return;let{wrapper:r}=i;r.style.opacity=e?"1":"0",r.style.pointerEvents=e?"":"none",r.style.visibility=e?"":"hidden"},Xt=()=>{let e=Bt();if(!e)return null;let{wrapper:i,toggle:r,openIcon:s,closeIcon:h,links:m}=e,w=window.matchMedia("(hover: hover)"),y={isOpen:!1,isLockedOpen:!1,hoverEnabled:w.matches},E=null,I=()=>{s.toggleAttribute("aria-hidden",y.isOpen),h.toggleAttribute("aria-hidden",!y.isOpen),s.hidden=y.isOpen,h.hidden=!y.isOpen},O=()=>{i.classList.toggle(jt,y.isOpen),r.setAttribute("aria-expanded",String(y.isOpen)),r.setAttribute("aria-pressed",String(y.isOpen)),I()},z=()=>{y.isOpen=!1,y.isLockedOpen=!1,i.classList.remove(jt,kt),r.setAttribute("aria-expanded","false"),r.setAttribute("aria-pressed","false"),I()},b=q=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(q)})},A=()=>{E!==null&&(window.clearTimeout(E),E=null),i.classList.add(kt)},_=()=>{E!==null&&window.clearTimeout(E),E=window.setTimeout(()=>{y.isOpen||i.classList.remove(kt)},en)},j=q=>{A(),b(()=>{y.isOpen=!0,y.isLockedOpen=q?!0:y.isLockedOpen,O()})},k=()=>{y.isOpen=!1,y.isLockedOpen=!1,O(),_()},tt=()=>{y.isOpen?k():j(!0)},B=()=>{!y.hoverEnabled||y.isLockedOpen||j(!1)},et=()=>{!y.hoverEnabled||y.isLockedOpen||k()},ot=q=>{y.hoverEnabled=q.matches,!y.hoverEnabled&&y.isOpen&&!y.isLockedOpen&&k()},X=q=>{q.preventDefault(),tt()},J=q=>{q.key!=="Enter"&&q.key!==" "||(q.preventDefault(),tt())},st=()=>{k()};return r.setAttribute("role","button"),r.tabIndex=r.tabIndex>-1?r.tabIndex:0,r.setAttribute("aria-expanded","false"),r.setAttribute("aria-pressed","false"),r.setAttribute("aria-label","Toggle navigation"),I(),i.addEventListener("mouseenter",B),i.addEventListener("mouseleave",et),w.addEventListener("change",ot),r.addEventListener("click",X),r.addEventListener("keydown",J),m.forEach(q=>{q.addEventListener("click",st)}),()=>{E!==null&&(window.clearTimeout(E),E=null),i.removeEventListener("mouseenter",B),i.removeEventListener("mouseleave",et),w.removeEventListener("change",ot),r.removeEventListener("click",X),r.removeEventListener("keydown",J),m.forEach(q=>{q.removeEventListener("click",st)}),z()}};var nn='[data-barba="wrapper"]',rn='.drawer, [data-nav="wrapper"]',on='[data-nav="close-project"]',re="is-drawer-open",Mt="is-in-peripheral",rt=700,ut="cubic-bezier(0.4, 0, 0.2, 1)",wt="5rem",oe="calc(100vw - var(--drawer-gap, 5rem))",sn='[data-barba="container"]',Nt=".logo";var an=()=>{document.documentElement.style.getPropertyValue("--drawer-gap")||document.documentElement.style.setProperty("--drawer-gap",wt)},ht=()=>document.querySelector(rn),ln=()=>document.querySelector(on),se=()=>{let e=document.querySelector(Nt),i=document.querySelectorAll(`${Nt} .logo-wrapper`),r=i[0],s=i[1];return{parent:e,full:r,icon:s}},Rt=e=>e?.getAttribute("data-barba-namespace")??null,Tt=e=>!!(e&&e!=="home"),cn=e=>{let r=new DOMParser().parseFromString(e,"text/html").body;if(!r)return;document.body.className=r.className;let s=r.getAttribute("data-wf-page");s?document.body.setAttribute("data-wf-page",s):document.body.removeAttribute("data-wf-page")},hn=()=>{let e=window.Webflow;if(!e)return;e.destroy&&e.destroy(),e.ready&&e.ready();let i=e.require?.("ix2");i?.init&&i.init()},un=(e,i)=>!!(!i||e?.closest("[data-barba-prevent]")||i.startsWith("#")||i.startsWith("mailto:")||i.startsWith("tel:")||i.startsWith("javascript:")||e?.getAttribute("target")==="_blank"||new URL(i,window.location.href).origin!==window.location.origin),ae=e=>new Promise(i=>{let r=window.setTimeout(i,rt+50),s=h=>{h.target!==e||h.propertyName!=="transform"||(e.removeEventListener("transitionend",s),window.clearTimeout(r),i())};e.addEventListener("transitionend",s)}),Ut=()=>{let e=ht();e&&(e.style.willChange=e.style.willChange||"transform",e.style.transitionProperty=e.style.transitionProperty||"transform")},le=e=>{let{parent:i,full:r,icon:s}=se();if(console.log("setLogoState check:",{isPeripheral:e,hasParent:!!i,hasFull:!!r,hasIcon:!!s,parentSelector:Nt,foundWrappers:document.querySelectorAll(`${Nt} .logo-wrapper`).length}),!i||!r||!s)return;let h={position:"absolute",left:"0",top:"0",transition:`opacity ${rt}ms ${ut}, transform ${rt}ms ${ut}`};Object.assign(r.style,h,{opacity:e?"0":"1",transform:e?"scale(0.8)":"scale(1)",pointerEvents:e?"none":"auto"}),console.log("setLogoState run:",{isPeripheral:e,full:!!r,icon:!!s}),r.style.setProperty("opacity",e?"0":"1","important"),r.style.setProperty("pointer-events",e?"none":"auto","important"),r.style.setProperty("transform",e?"scale(0.8)":"scale(1)","important"),r.style.setProperty("z-index","100","important"),Object.assign(s.style,h,{}),s.style.setProperty("opacity",e?"1":"0","important"),s.style.setProperty("pointer-events",e?"auto":"none","important"),s.style.setProperty("transform",e?"scale(1)":"scale(1.2)","important"),s.style.setProperty("z-index","100","important")},te=async e=>{let{parent:i,full:r,icon:s}=se();if(!i||!r||!s)return;let h=`opacity ${rt}ms ${ut}, transform ${rt}ms ${ut}`;r.style.transition=h,s.style.transition=h,r.style.position="absolute",r.style.left="0",r.style.top="0",s.style.position="absolute",s.style.left="0",s.style.top="0",r.getBoundingClientRect(),requestAnimationFrame(()=>{le(e)})},yt=(e,i,r=!1)=>{i?(e.style.position="fixed",e.style.top="0",e.style.right="0",e.style.bottom="0",e.style.left="",r||e.style.setProperty("width",`calc(100vw - var(--drawer-gap, ${wt}))`,"important"),e.style.setProperty("max-width","none","important")):(e.style.position="absolute",e.style.top="",e.style.right="",e.style.bottom="",e.style.left="",e.style.removeProperty("width"),e.style.removeProperty("max-width"))},ce=()=>{let e=ht();e&&(e.classList.remove(re),e.style.removeProperty("transform"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-timing-function"),e.style.removeProperty("will-change"))},Yt=(e,i,r=!0,s=!0,h=!1)=>{e.classList.toggle(re,i);let m=h?"important":"";if(e.style.setProperty("transition-property","transform",m),e.style.setProperty("transition-duration",r?`${rt}ms`:"0ms",m),e.style.setProperty("transition-timing-function",ut,m),!s&&!i){e.style.removeProperty("transform"),h||e.style.removeProperty("transition-duration");return}e.style.setProperty("transform",i?"translateX(0)":`translateX(calc(100% - var(--drawer-gap, ${wt})))`,m)},ee=async(e,i=!1)=>{let r=ht();r&&(r.getBoundingClientRect(),await new Promise(s=>{window.requestAnimationFrame(()=>{Yt(r,e,!0,!0,i),ae(r).then(s)})}))},Pt=e=>{let i=ln();i&&(i.classList.toggle("is-visible",e),i.style.pointerEvents=e?"auto":"none",i.style.display=e?"":"none",i.style.zIndex="30",i.setAttribute("aria-hidden",String(!e)))};var xt=(e,i)=>{let{style:r}=e;r.position=i?"fixed":"relative",r.top=i?"0":"",r.right=i?"0":"",r.bottom=i?"0":"",r.left=i?`var(--drawer-gap, ${wt})`:"",r.width=i?`calc(100vw - var(--drawer-gap, ${wt}))`:"100%",r.maxWidth=i?"none":"",r.minHeight=r.minHeight||"100vh",r.overflowY=i?"auto":"",r.willChange="transform, opacity",r.zIndex=i?"20":"0"},ne=e=>{let{style:i}=e;i.setProperty("transition","none","important"),i.setProperty("transform",`translateX(${oe})`,"important")},ie=async(e,i)=>{let{style:r}=e;return r.setProperty("will-change","transform, opacity"),e.getBoundingClientRect(),new Promise(s=>{requestAnimationFrame(()=>{r.setProperty("transition-property","transform, opacity","important"),r.setProperty("transition-duration",`${rt}ms`,"important"),r.setProperty("transition-timing-function",ut,"important"),r.setProperty("transform",i,"important"),ae(e).then(s)})})},fn=e=>{e&&(e.style.setProperty("opacity","0","important"),e.style.pointerEvents="none")},pn=()=>{let e=document.querySelector(sn),i=ht(),r=Rt(e),s=Tt(r);document.body.classList.toggle(Mt,s),Pt(s),le(s),i&&(s?(Ut(),yt(i,!0),Yt(i,!0,!1,!0)):(ce(),yt(i,!1))),e&&(xt(e,s),e.style.transition="none",e.style.transform="translateX(0)")},he=({onAfterEnter:e,onBeforeLeave:i})=>{document.querySelector(nn)&&(an(),Ut(),pn(),At.default.init({preventRunning:!0,prevent:({el:r,href:s})=>un(r,s),transitions:[{name:"home-to-peripheral",from:{namespace:["home"]},to:{namespace:["verkada","film","about","work"]},sync:!0,beforeEnter:({next:r})=>{let s=r.container;if(!s)return;let h=ht();te(!0);let m=Rt(r.container);if(document.body.classList.toggle(Mt,Tt(m)),Pt(!0),Ut(),h){let w=document.body.classList.contains("is-nav-open")||h.classList.contains("is-nav-open");if(w){let E=h.getBoundingClientRect().width;h.style.setProperty("width",`${E}px`,"important"),h.offsetWidth}yt(h,!0,w);let y=w?"transform, width":"transform";h.style.setProperty("transition-property",y,"important"),h.style.setProperty("transition-duration",`${rt}ms`,"important"),h.style.setProperty("transition-timing-function",ut,"important"),w&&requestAnimationFrame(()=>{h.style.setProperty("width",`calc(100vw - var(--drawer-gap, ${wt}))`,"important")})}ct(!1),xt(s,!0),ne(s),s.style.setProperty("opacity","1","important")},leave:async({current:r,next:s})=>{i?.(),fn(r?.container);let h=s.container;h&&(xt(h,!0),ne(h),h.style.setProperty("opacity","1","important"))},enter:async({next:r})=>{let s=[],h=r.container;h&&s.push(ie(h,"translateX(0)"));let m=ht();m&&(yt(m,!0),s.push(ee(!0,!0))),await Promise.all(s),m&&Yt(m,!0,!1,!0)}},{name:"peripheral-to-home",from:{namespace:["verkada","film","about","work"]},to:{namespace:["home"]},sync:!0,beforeEnter:({next:r})=>{let s=r.container;s&&(xt(s,!1),s.style.transition="none",s.style.transform="translateX(0)",s.style.opacity="0",Pt(!1))},leave:async({current:r})=>{i?.();let s=[];te(!1);let h=r.container;h&&(xt(h,!0),s.push(ie(h,`translateX(${oe})`)));let m=ht();m&&(yt(m,!0),s.push(ee(!1,!0))),await Promise.all(s)},enter:async({next:r})=>{let s=Rt(r.container);document.body.classList.toggle(Mt,Tt(s)),Pt(!1),ct(!0);let h=ht();h&&(ce(),yt(h,!1));let m=r.container;m&&(m.style.transitionProperty="opacity",m.style.transitionDuration=`${rt}ms`,m.style.transitionTimingFunction=ut,m.style.opacity="1")}}]}),At.default.hooks.beforeEnter(r=>{cn(r.next.html),window.scrollTo(0,0)}),At.default.hooks.afterEnter(r=>{let s=Rt(r.next.container);document.body.classList.toggle(Mt,Tt(s)),Pt(Tt(s)),hn(),e(),s==="home"&&window.requestAnimationFrame(()=>{window.dispatchEvent(new Event("resize")),window.dispatchEvent(new Event("scroll"))})}))};var dn="1.3.16";function pe(e,i,r){return Math.max(e,Math.min(i,r))}function mn(e,i,r){return(1-r)*e+r*i}function vn(e,i,r,s){return mn(e,i,1-Math.exp(-r*s))}function gn(e,i){return(e%i+i)%i}var yn=class{constructor(){d(this,"isRunning",!1);d(this,"value",0);d(this,"from",0);d(this,"to",0);d(this,"currentTime",0);d(this,"lerp");d(this,"duration");d(this,"easing");d(this,"onUpdate")}advance(e){if(!this.isRunning)return;let i=!1;if(this.duration&&this.easing){this.currentTime+=e;let r=pe(0,this.currentTime/this.duration,1);i=r>=1;let s=i?1:this.easing(r);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=vn(this.value,this.to,this.lerp*60,e),Math.round(this.value)===this.to&&(this.value=this.to,i=!0)):(this.value=this.to,i=!0);i&&this.stop(),this.onUpdate?.(this.value,i)}stop(){this.isRunning=!1}fromTo(e,i,{lerp:r,duration:s,easing:h,onStart:m,onUpdate:w}){this.from=this.value=e,this.to=i,this.lerp=r,this.duration=s,this.easing=h,this.currentTime=0,this.isRunning=!0,m?.(),this.onUpdate=w}};function wn(e,i){let r;return function(...s){let h=this;clearTimeout(r),r=setTimeout(()=>{r=void 0,e.apply(h,s)},i)}}var En=class{constructor(e,i,{autoResize:r=!0,debounce:s=250}={}){d(this,"width",0);d(this,"height",0);d(this,"scrollHeight",0);d(this,"scrollWidth",0);d(this,"debouncedResize");d(this,"wrapperResizeObserver");d(this,"contentResizeObserver");d(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});d(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});d(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=i,r&&(this.debouncedResize=wn(this.resize,s),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},de=class{constructor(){d(this,"events",{})}emit(e,...i){let r=this.events[e]||[];for(let s=0,h=r.length;s<h;s++)r[s]?.(...i)}on(e,i){return this.events[e]?.push(i)||(this.events[e]=[i]),()=>{this.events[e]=this.events[e]?.filter(r=>i!==r)}}off(e,i){this.events[e]=this.events[e]?.filter(r=>i!==r)}destroy(){this.events={}}},ue=100/6,ft={passive:!1},bn=class{constructor(e,i={wheelMultiplier:1,touchMultiplier:1}){d(this,"touchStart",{x:0,y:0});d(this,"lastDelta",{x:0,y:0});d(this,"window",{width:0,height:0});d(this,"emitter",new de);d(this,"onTouchStart",e=>{let{clientX:i,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=i,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});d(this,"onTouchMove",e=>{let{clientX:i,clientY:r}=e.targetTouches?e.targetTouches[0]:e,s=-(i-this.touchStart.x)*this.options.touchMultiplier,h=-(r-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=i,this.touchStart.y=r,this.lastDelta={x:s,y:h},this.emitter.emit("scroll",{deltaX:s,deltaY:h,event:e})});d(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});d(this,"onWheel",e=>{let{deltaX:i,deltaY:r,deltaMode:s}=e,h=s===1?ue:s===2?this.window.width:1,m=s===1?ue:s===2?this.window.height:1;i*=h,r*=m,i*=this.options.wheelMultiplier,r*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:i,deltaY:r,event:e})});d(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=e,this.options=i,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,ft),this.element.addEventListener("touchstart",this.onTouchStart,ft),this.element.addEventListener("touchmove",this.onTouchMove,ft),this.element.addEventListener("touchend",this.onTouchEnd,ft)}on(e,i){return this.emitter.on(e,i)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,ft),this.element.removeEventListener("touchstart",this.onTouchStart,ft),this.element.removeEventListener("touchmove",this.onTouchMove,ft),this.element.removeEventListener("touchend",this.onTouchEnd,ft)}},fe=e=>Math.min(1,1.001-Math.pow(2,-10*e)),me=class{constructor({wrapper:e=window,content:i=document.documentElement,eventsTarget:r=e,smoothWheel:s=!0,syncTouch:h=!1,syncTouchLerp:m=.075,touchInertiaExponent:w=1.7,duration:y,easing:E,lerp:I=.1,infinite:O=!1,orientation:z="vertical",gestureOrientation:b=z==="horizontal"?"both":"vertical",touchMultiplier:A=1,wheelMultiplier:_=1,autoResize:j=!0,prevent:k,virtualScroll:tt,overscroll:B=!0,autoRaf:et=!1,anchors:ot=!1,autoToggle:X=!1,allowNestedScroll:J=!1,__experimental__naiveDimensions:st=!1}={}){d(this,"_isScrolling",!1);d(this,"_isStopped",!1);d(this,"_isLocked",!1);d(this,"_preventNextNativeScrollEvent",!1);d(this,"_resetVelocityTimeout",null);d(this,"__rafID",null);d(this,"isTouching");d(this,"time",0);d(this,"userData",{});d(this,"lastVelocity",0);d(this,"velocity",0);d(this,"direction",0);d(this,"options");d(this,"targetScroll");d(this,"animatedScroll");d(this,"animate",new yn);d(this,"emitter",new de);d(this,"dimensions");d(this,"virtualScroll");d(this,"onScrollEnd",e=>{e instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&e.stopPropagation()});d(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});d(this,"onTransitionEnd",e=>{e.propertyName.includes("overflow")&&this.checkOverflow()});d(this,"onClick",e=>{let r=e.composedPath().find(s=>s instanceof HTMLAnchorElement&&s.getAttribute("href")?.includes("#"));if(r){let s=r.getAttribute("href");if(s){let h=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,m=`#${s.split("#")[1]}`;this.scrollTo(m,h)}}});d(this,"onPointerDown",e=>{e.button===1&&this.reset()});d(this,"onVirtualScroll",e=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(e)===!1)return;let{deltaX:i,deltaY:r,event:s}=e;if(this.emitter.emit("virtual-scroll",{deltaX:i,deltaY:r,event:s}),s.ctrlKey||s.lenisStopPropagation)return;let h=s.type.includes("touch"),m=s.type.includes("wheel");this.isTouching=s.type==="touchstart"||s.type==="touchmove";let w=i===0&&r===0;if(this.options.syncTouch&&h&&s.type==="touchstart"&&w&&!this.isStopped&&!this.isLocked){this.reset();return}let E=this.options.gestureOrientation==="vertical"&&r===0||this.options.gestureOrientation==="horizontal"&&i===0;if(w||E)return;let I=s.composedPath();I=I.slice(0,I.indexOf(this.rootElement));let O=this.options.prevent;if(I.find(k=>k instanceof HTMLElement&&(typeof O=="function"&&O?.(k)||k.hasAttribute?.("data-lenis-prevent")||h&&k.hasAttribute?.("data-lenis-prevent-touch")||m&&k.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(k,{deltaX:i,deltaY:r}))))return;if(this.isStopped||this.isLocked){s.cancelable&&s.preventDefault();return}if(!(this.options.syncTouch&&h||this.options.smoothWheel&&m)){this.isScrolling="native",this.animate.stop(),s.lenisStopPropagation=!0;return}let b=r;this.options.gestureOrientation==="both"?b=Math.abs(r)>Math.abs(i)?r:i:this.options.gestureOrientation==="horizontal"&&(b=i),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&r>0||this.animatedScroll===this.limit&&r<0))&&(s.lenisStopPropagation=!0),s.cancelable&&s.preventDefault();let A=h&&this.options.syncTouch,j=h&&s.type==="touchend";j&&(b=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+b,{programmatic:!1,...A?{lerp:j?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});d(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});d(this,"raf",e=>{let i=e-(this.time||e);this.time=e,this.animate.advance(i*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=dn,(!e||e===document.documentElement)&&(e=window),typeof y=="number"&&typeof E!="function"?E=fe:typeof E=="function"&&typeof y!="number"&&(y=1),this.options={wrapper:e,content:i,eventsTarget:r,smoothWheel:s,syncTouch:h,syncTouchLerp:m,touchInertiaExponent:w,duration:y,easing:E,lerp:I,infinite:O,gestureOrientation:b,orientation:z,touchMultiplier:A,wheelMultiplier:_,autoResize:j,prevent:k,virtualScroll:tt,overscroll:B,autoRaf:et,anchors:ot,autoToggle:X,allowNestedScroll:J,__experimental__naiveDimensions:st},this.dimensions=new En(e,i,{autoResize:j}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new bn(r,{touchMultiplier:A,wheelMultiplier:_}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(e,i){return this.emitter.on(e,i)}off(e,i){return this.emitter.off(e,i)}get overflow(){let e=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[e]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}setScroll(e){this.isHorizontal?this.options.wrapper.scrollTo({left:e,behavior:"instant"}):this.options.wrapper.scrollTo({top:e,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(e,{offset:i=0,immediate:r=!1,lock:s=!1,duration:h=this.options.duration,easing:m=this.options.easing,lerp:w=this.options.lerp,onStart:y,onComplete:E,force:I=!1,programmatic:O=!0,userData:z}={}){if(!((this.isStopped||this.isLocked)&&!I)){if(typeof e=="string"&&["top","left","start","#"].includes(e))e=0;else if(typeof e=="string"&&["bottom","right","end"].includes(e))e=this.limit;else{let b;if(typeof e=="string"?(b=document.querySelector(e),b||(e==="#top"?e=0:console.warn("Lenis: Target not found",e))):e instanceof HTMLElement&&e?.nodeType&&(b=e),b){if(this.options.wrapper!==window){let _=this.rootElement.getBoundingClientRect();i-=this.isHorizontal?_.left:_.top}let A=b.getBoundingClientRect();e=(this.isHorizontal?A.left:A.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=i,e=Math.round(e),this.options.infinite){if(O){this.targetScroll=this.animatedScroll=this.scroll;let b=e-this.animatedScroll;b>this.limit/2?e=e-this.limit:b<-this.limit/2&&(e=e+this.limit)}}else e=pe(0,e,this.limit);if(e===this.targetScroll){y?.(this),E?.(this);return}if(this.userData=z??{},r){this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),E?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}O||(this.targetScroll=e),typeof h=="number"&&typeof m!="function"?m=fe:typeof m=="function"&&typeof h!="number"&&(h=1),this.animate.fromTo(this.animatedScroll,e,{duration:h,easing:m,lerp:w,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling="smooth",y?.(this)},onUpdate:(b,A)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=b-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=b,this.setScroll(this.scroll),O&&(this.targetScroll=b),A||this.emit(),A&&(this.reset(),this.emit(),E?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(e,{deltaX:i,deltaY:r}){let s=Date.now(),h=e._lenis??(e._lenis={}),m,w,y,E,I,O,z,b,A=this.options.gestureOrientation;if(s-(h.time??0)>2e3){h.time=Date.now();let X=window.getComputedStyle(e);h.computedStyle=X;let J=X.overflowX,st=X.overflowY;if(m=["auto","overlay","scroll"].includes(J),w=["auto","overlay","scroll"].includes(st),h.hasOverflowX=m,h.hasOverflowY=w,!m&&!w||A==="vertical"&&!w||A==="horizontal"&&!m)return!1;I=e.scrollWidth,O=e.scrollHeight,z=e.clientWidth,b=e.clientHeight,y=I>z,E=O>b,h.isScrollableX=y,h.isScrollableY=E,h.scrollWidth=I,h.scrollHeight=O,h.clientWidth=z,h.clientHeight=b}else y=h.isScrollableX,E=h.isScrollableY,m=h.hasOverflowX,w=h.hasOverflowY,I=h.scrollWidth,O=h.scrollHeight,z=h.clientWidth,b=h.clientHeight;if(!m&&!w||!y&&!E||A==="vertical"&&(!w||!E)||A==="horizontal"&&(!m||!y))return!1;let _;if(A==="horizontal")_="x";else if(A==="vertical")_="y";else{let X=i!==0,J=r!==0;X&&m&&y&&(_="x"),J&&w&&E&&(_="y")}if(!_)return!1;let j,k,tt,B,et;if(_==="x")j=e.scrollLeft,k=I-z,tt=i,B=m,et=y;else if(_==="y")j=e.scrollTop,k=O-b,tt=r,B=w,et=E;else return!1;return(tt>0?j<k:j>0)&&B&&et}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){let e=this.options.wrapper;return this.isHorizontal?e.scrollX??e.scrollLeft:e.scrollY??e.scrollTop}get scroll(){return this.options.infinite?gn(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let e="lenis";return this.options.autoToggle&&(e+=" lenis-autoToggle"),this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isScrolling==="smooth"&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};var nt={root:['[data-loop-slider="root"]',".loop-slider-wrapper",".slider-section"],track:['[data-loop-slider="track"]',".loop-slider-track"],list:['[data-loop-slider="list"]',".slider-wrapper"],loop:['[data-loop-slider="loop"]',".loop-slider.w-dyn-list",".loop-slider"],item:['[data-loop-slider="item"]',".slide-w"],content:['[data-loop-slider="content"]',".slide"],blur:['[data-loop-slider="blur"]',".slide-blur"],media:['[data-loop-slider="focus"]',".work-list-img-wrap img",".work-list-img-wrap"]},Ln={baseScale:.8,focusScale:1,blurMax:80,translateMax:0,lerp:.08,progressLerp:.12,minOpacity:.2},ve="loop-slider-lenis-styles",Sn="html.lenis,html.lenis body{height:auto}.lenis:not(.lenis-autoToggle).lenis-stopped{overflow:clip}.lenis [data-lenis-prevent],.lenis [data-lenis-prevent-wheel],.lenis [data-lenis-prevent-touch]{overscroll-behavior:contain}.lenis.lenis-smooth iframe{pointer-events:none}.lenis.lenis-autoToggle{transition-property:overflow;transition-duration:1ms;transition-behavior:allow-discrete}",Et=null,Ct=!1,_t=!1,Ht=[],Tn=(e,i,r)=>Math.max(i,Math.min(r,e)),Pn=()=>{if(document.getElementById(ve))return;let e=document.createElement("style");e.id=ve,e.textContent=Sn,document.head.appendChild(e)},dt=(e,i)=>{for(let r of i){let s=e.querySelector(r);if(s)return s}return null},Vt=(e,i)=>{for(let r of i){let s=Array.from(e.querySelectorAll(r));if(s.length)return s}return[]},xn=()=>Vt(document,nt.root).filter(i=>dt(i,nt.list)),Gt=class{constructor(i){d(this,"root");d(this,"prefersInfinite");d(this,"config",Ln);d(this,"slides",[]);d(this,"viewportHeight",window.innerHeight||0);d(this,"primaryList",null);d(this,"loopHeight",0);d(this,"loopOffset",0);d(this,"virtualScroll",0);d(this,"loopIndex",0);d(this,"previousScroll",null);d(this,"trackElement",null);d(this,"loopLists",[]);d(this,"localLenis",null);d(this,"localLenisRaf",null);d(this,"handleLenisScroll");this.root=i,this.prefersInfinite=i.dataset.loopSliderInfinite!=="false";let r=dt(i,nt.track),s=dt(i,nt.list);if(!s||!r)throw new Error('Loop slider list not found. Add data-loop-slider="list" to the slider wrapper.');this.primaryList=s,this.loopHeight=this.primaryList.scrollHeight,this.trackElement=r,this.prepareLoopLists(r),this.prefersInfinite&&this.initLocalLenis(),this.collectSlides()}destroy(){this.handleLenisScroll&&this.localLenis&&this.localLenis.off("scroll",this.handleLenisScroll),this.localLenisRaf!==null&&(window.cancelAnimationFrame(this.localLenisRaf),this.localLenisRaf=null),this.localLenis?.destroy(),this.localLenis=null}initLocalLenis(){if(this.localLenis||!this.trackElement)return;Pn(),this.root.style.overflow=this.root.style.overflow||"hidden",this.root.style.position=this.root.style.position||"relative",this.trackElement.style.willChange=this.trackElement.style.willChange||"transform",this.localLenis=new me({wrapper:this.root,content:this.trackElement,smoothWheel:!0,infinite:!0,syncTouch:!0,touchMultiplier:.65}),this.handleLenisScroll=()=>{this.measure()},this.localLenis.on("scroll",this.handleLenisScroll);let i=r=>{this.localLenis?.raf(r),this.localLenisRaf=window.requestAnimationFrame(i)};this.localLenisRaf=window.requestAnimationFrame(i)}collectSlides(){let i=Vt(this.root,nt.item);this.slides=i.map(r=>({node:r,contentNode:dt(r,nt.content)??r,blurNode:dt(r,nt.blur),focusNodes:(()=>{let s=[],h=dt(r,nt.media),m=r.querySelector(".work-title");return h&&s.push(h),m&&s.push(m),s.length||s.push(dt(r,nt.content)??r),s})(),progress:0,targetProgress:0,scale:this.config.baseScale,targetScale:this.config.baseScale})),this.slides.forEach(r=>{let s=r.contentNode;s.style.willChange="transform, opacity, filter",s.style.transformOrigin="center center",s.style.position=s.style.position||"relative"})}prepareLoopLists(i){if(this.loopLists=Vt(i,nt.loop),!this.loopLists.length){this.loopLists=[];return}if(this.loopLists.length<2){let r=this.loopLists[0].cloneNode(!0);i.appendChild(r),this.loopLists.push(r)}}rotateLists(i){if(!(!this.trackElement||!this.loopLists.length))if(i==="forward"){let r=this.loopLists.shift();if(!r)return;this.trackElement.appendChild(r),this.loopLists.push(r)}else{let r=this.loopLists.pop();if(!r)return;let s=this.trackElement.firstElementChild;s?this.trackElement.insertBefore(r,s):this.trackElement.appendChild(r),this.loopLists.unshift(r)}}computeLoopHeight(){if(!this.primaryList)return this.loopHeight;let i=this.primaryList.scrollHeight||this.primaryList.offsetHeight;return i&&(this.loopHeight=i),this.loopHeight}applyLoopOffset(){if(!this.prefersInfinite||!this.localLenis||!this.trackElement)return;let i=this.loopHeight||this.computeLoopHeight();if(!i)return;let{scroll:r}=this.localLenis,s=Math.max(this.localLenis.limit||i,i);if(this.previousScroll===null){this.previousScroll=r,this.virtualScroll=0,this.loopIndex=0,this.loopOffset=0,this.trackElement.style.transform="";return}let h=r-this.previousScroll;Math.abs(h)>s*.5&&(h+=h>0?-s:s),this.virtualScroll+=h,this.previousScroll=r;let w=Math.floor(this.virtualScroll/i)-this.loopIndex;for(;w>0;)this.rotateLists("forward"),this.loopIndex+=1,w-=1;for(;w<0;)this.rotateLists("backward"),this.loopIndex-=1,w+=1;let y=this.virtualScroll-this.loopIndex*i;this.loopOffset=r-y,this.trackElement.style.transform=`translate3d(0, ${this.loopOffset}px, 0)`}measure(){if(!this.slides.length)return;let i=Math.max(window.innerHeight,1);this.viewportHeight=i,this.computeLoopHeight(),this.applyLoopOffset();let r=0,s=i;this.slides.forEach(h=>{let m=h.node.getBoundingClientRect(),w=m.top,y=m.bottom,E=Math.max(m.height,1),I=Math.max(r,w),O=Math.min(s,y),z=Math.max(0,O-I),b=Tn(z/E,0,1);h.targetProgress=b,h.targetScale=this.config.baseScale+(this.config.focusScale-this.config.baseScale)*b})}animate(){this.slides.length&&this.slides.forEach(i=>{i.scale+=(i.targetScale-i.scale)*this.config.lerp,i.progress+=(i.targetProgress-i.progress)*this.config.progressLerp;let r=this.config.minOpacity+(1-this.config.minOpacity)*i.progress,s=(1-i.progress)*this.config.blurMax;i.contentNode.style.transform=`scale(${i.scale.toFixed(4)})`,i.contentNode.style.opacity=r.toFixed(3),i.focusNodes.forEach(h=>{h.style.filter=`blur(${s.toFixed(2)}px)`}),i.blurNode&&(i.blurNode.style.opacity=(1-i.progress).toFixed(3),i.blurNode.style.filter=`blur(${Math.max(s,this.config.blurMax*.6).toFixed(2)}px)`)})}},Kt=()=>{Ht.forEach(e=>e.measure())},ge=()=>{Kt()},ye=()=>{Kt()},Hn=()=>{Ct||(window.addEventListener("scroll",ge,{passive:!0}),Ct=!0)},On=()=>{_t||(window.addEventListener("resize",ye),_t=!0)},kn=()=>{if(Et!==null)return;let e=()=>{Ht.forEach(i=>i.animate()),Et=window.requestAnimationFrame(e)};Et=window.requestAnimationFrame(e)},we=()=>{Et!==null&&(window.cancelAnimationFrame(Et),Et=null),Ct&&(window.removeEventListener("scroll",ge),Ct=!1),_t&&(window.removeEventListener("resize",ye),_t=!1),Ht.forEach(e=>e.destroy()),Ht.length=0},Ee=()=>{let e=xn();if(!e.length||window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;let r=e.map(s=>{try{return new Gt(s)}catch(h){return console.warn(h),null}}).filter(s=>!!s);r.length&&(Ht.push(...r),Hn(),On(),Kt(),kn())};var mt=null,Se=()=>{mt?.(),mt=null,we()},be=()=>{Se(),document.body.classList.contains("is-in-peripheral")?($t(),ct(!1),mt=null):(ct(!0),mt=Xt()),Ee(),window.requestAnimationFrame(()=>{mt?.(),document.body.classList.contains("is-in-peripheral")?($t(),ct(!1),mt=null):(ct(!0),mt=Xt())})},Le=()=>{be(),he({onBeforeLeave:Se,onAfterEnter:be})};document.readyState==="complete"||document.readyState==="interactive"?Le():document.addEventListener("DOMContentLoaded",Le);})();
