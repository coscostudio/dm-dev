"use strict";(()=>{var ln=Object.create;var Xt=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var hn=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,pn=Object.prototype.hasOwnProperty;var fn=(t,n,i)=>n in t?Xt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i;var dn=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var mn=(t,n,i,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of hn(n))!pn.call(t,c)&&c!==i&&Xt(t,c,{get:()=>n[c],enumerable:!(s=cn(n,c))||s.enumerable});return t};var vn=(t,n,i)=>(i=t!=null?ln(un(t)):{},mn(n||!t||!t.__esModule?Xt(i,"default",{value:t,enumerable:!0}):i,t));var m=(t,n,i)=>fn(t,typeof n!="symbol"?n+"":n,i);var le=dn((Vt,Ut)=>{(function(t,n){typeof Vt=="object"&&typeof Ut<"u"?Ut.exports=n():typeof define=="function"&&define.amd?define(n):(t||self).barba=n()})(Vt,function(){function t(l,o){for(var e=0;e<o.length;e++){var r=o[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(l,typeof(a=function(h,p){if(typeof h!="object"||h===null)return h;var f=h[Symbol.toPrimitive];if(f!==void 0){var u=f.call(h,"string");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(r.key))=="symbol"?a:String(a),r)}var a}function n(l,o,e){return o&&t(l.prototype,o),e&&t(l,e),Object.defineProperty(l,"prototype",{writable:!1}),l}function i(){return i=Object.assign?Object.assign.bind():function(l){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(l[r]=e[r])}return l},i.apply(this,arguments)}function s(l,o){l.prototype=Object.create(o.prototype),l.prototype.constructor=l,d(l,o)}function c(l){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},c(l)}function d(l,o){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},d(l,o)}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(l,o,e){return v=b()?Reflect.construct.bind():function(r,a,h){var p=[null];p.push.apply(p,a);var f=new(Function.bind.apply(r,p));return h&&d(f,h.prototype),f},v.apply(null,arguments)}function E(l){var o=typeof Map=="function"?new Map:void 0;return E=function(e){if(e===null||Function.toString.call(e).indexOf("[native code]")===-1)return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(e))return o.get(e);o.set(e,r)}function r(){return v(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)},E(l)}function M(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}var w,R=function(){this.before=void 0,this.beforeLeave=void 0,this.leave=void 0,this.afterLeave=void 0,this.beforeEnter=void 0,this.enter=void 0,this.afterEnter=void 0,this.after=void 0};(function(l){l[l.off=0]="off",l[l.error=1]="error",l[l.warning=2]="warning",l[l.info=3]="info",l[l.debug=4]="debug"})(w||(w={}));var L=w.off,x=function(){function l(e){this.t=void 0,this.t=e}l.getLevel=function(){return L},l.setLevel=function(e){return L=w[e]};var o=l.prototype;return o.error=function(){this.i(console.error,w.error,[].slice.call(arguments))},o.warn=function(){this.i(console.warn,w.warning,[].slice.call(arguments))},o.info=function(){this.i(console.info,w.info,[].slice.call(arguments))},o.debug=function(){this.i(console.log,w.debug,[].slice.call(arguments))},o.i=function(e,r,a){r<=l.getLevel()&&e.apply(console,["["+this.t+"] "].concat(a))},l}();function k(l){return l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function D(l){return l&&l.sensitive?"":"i"}var N={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},tt=function(){function l(){this.o=N,this.u=void 0,this.h={after:null,before:null,parent:null}}var o=l.prototype;return o.toString=function(e){return e.outerHTML},o.toDocument=function(e){return this.u||(this.u=new DOMParser),this.u.parseFromString(e,"text/html")},o.toElement=function(e){var r=document.createElement("div");return r.innerHTML=e,r},o.getHtml=function(e){return e===void 0&&(e=document),this.toString(e.documentElement)},o.getWrapper=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},o.getContainer=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},o.removeContainer=function(e){document.body.contains(e)&&(this.v(e),e.parentNode.removeChild(e))},o.addContainer=function(e,r){var a=this.getContainer()||this.h.before;a?this.l(e,a):this.h.after?this.h.after.parentNode.insertBefore(e,this.h.after):this.h.parent?this.h.parent.appendChild(e):r.appendChild(e)},o.getSibling=function(){return this.h},o.getNamespace=function(e){e===void 0&&(e=document);var r=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return r?r.getAttribute(this.o.prefix+"-"+this.o.namespace):null},o.getHref=function(e){if(e.tagName&&e.tagName.toLowerCase()==="a"){if(typeof e.href=="string")return e.href;var r=e.getAttribute("href")||e.getAttribute("xlink:href");if(r)return this.resolveUrl(r.baseVal||r)}return null},o.resolveUrl=function(){var e=[].slice.call(arguments).length;if(e===0)throw new Error("resolveUrl requires at least one argument; got none.");var r=document.createElement("base");if(r.href=arguments[0],e===1)return r.href;var a=document.getElementsByTagName("head")[0];a.insertBefore(r,a.firstChild);for(var h,p=document.createElement("a"),f=1;f<e;f++)p.href=arguments[f],r.href=h=p.href;return a.removeChild(r),h},o.l=function(e,r){r.parentNode.insertBefore(e,r.nextSibling)},o.v=function(e){return this.h={after:e.nextElementSibling,before:e.previousElementSibling,parent:e.parentElement},this.h},l}(),$=new tt,et=function(){function l(){this.p=void 0,this.m=[],this.P=-1}var o=l.prototype;return o.init=function(e,r){this.p="barba";var a={data:{},ns:r,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.P=0,this.m.push(a);var h={from:this.p,index:this.P,states:[].concat(this.m)};window.history&&window.history.replaceState(h,"",e)},o.change=function(e,r,a){if(a&&a.state){var h=a.state,p=h.index;r=this.g(this.P-p),this.replace(h.states),this.P=p}else this.add(e,r);return r},o.add=function(e,r,a,h){var p=a??this.R(r),f={data:h??{},ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};switch(p){case"push":this.P=this.size,this.m.push(f);break;case"replace":this.set(this.P,f)}var u={from:this.p,index:this.P,states:[].concat(this.m)};switch(p){case"push":window.history&&window.history.pushState(u,"",e);break;case"replace":window.history&&window.history.replaceState(u,"",e)}},o.store=function(e,r){var a=r||this.P,h=this.get(a);h.data=i({},h.data,e),this.set(a,h);var p={from:this.p,index:this.P,states:[].concat(this.m)};window.history.replaceState(p,"")},o.update=function(e,r){var a=r||this.P,h=i({},this.get(a),e);this.set(a,h)},o.remove=function(e){e?this.m.splice(e,1):this.m.pop(),this.P--},o.clear=function(){this.m=[],this.P=-1},o.replace=function(e){this.m=e},o.get=function(e){return this.m[e]},o.set=function(e,r){return this.m[e]=r},o.R=function(e){var r="push",a=e,h=N.prefix+"-"+N.history;return a.hasAttribute&&a.hasAttribute(h)&&(r=a.getAttribute(h)),r},o.g=function(e){return Math.abs(e)>1?e>0?"forward":"back":e===0?"popstate":e>0?"back":"forward"},n(l,[{key:"current",get:function(){return this.m[this.P]}},{key:"previous",get:function(){return this.P<1?null:this.m[this.P-1]}},{key:"size",get:function(){return this.m.length}}]),l}(),at=new et,X=function(l,o){try{var e=function(){if(!o.next.html)return Promise.resolve(l).then(function(r){var a=o.next;if(r){var h=$.toElement(r.html);a.namespace=$.getNamespace(h),a.container=$.getContainer(h),a.url=r.url,a.html=r.html,at.update({ns:a.namespace});var p=$.toDocument(r.html);document.title=p.title}})}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(r){return Promise.reject(r)}},J=function l(o,e,r){return o instanceof RegExp?function(a,h){if(!h)return a;for(var p=/\((?:\?<(.*?)>)?(?!\?)/g,f=0,u=p.exec(a.source);u;)h.push({name:u[1]||f++,prefix:"",suffix:"",modifier:"",pattern:""}),u=p.exec(a.source);return a}(o,e):Array.isArray(o)?function(a,h,p){var f=a.map(function(u){return l(u,h,p).source});return new RegExp("(?:".concat(f.join("|"),")"),D(p))}(o,e,r):function(a,h,p){return function(f,u,y){y===void 0&&(y={});for(var C=y.strict,H=C!==void 0&&C,g=y.start,I=g===void 0||g,S=y.end,P=S===void 0||S,q=y.encode,_=q===void 0?function(St){return St}:q,G=y.delimiter,W=G===void 0?"/#?":G,V=y.endsWith,it="[".concat(k(V===void 0?"":V),"]|$"),Z="[".concat(k(W),"]"),j=I?"^":"",Y=0,K=f;Y<K.length;Y++){var A=K[Y];if(typeof A=="string")j+=k(_(A));else{var U=k(_(A.prefix)),T=k(_(A.suffix));if(A.pattern)if(u&&u.push(A),U||T)if(A.modifier==="+"||A.modifier==="*"){var z=A.modifier==="*"?"?":"";j+="(?:".concat(U,"((?:").concat(A.pattern,")(?:").concat(T).concat(U,"(?:").concat(A.pattern,"))*)").concat(T,")").concat(z)}else j+="(?:".concat(U,"(").concat(A.pattern,")").concat(T,")").concat(A.modifier);else j+=A.modifier==="+"||A.modifier==="*"?"((?:".concat(A.pattern,")").concat(A.modifier,")"):"(".concat(A.pattern,")").concat(A.modifier);else j+="(?:".concat(U).concat(T,")").concat(A.modifier)}}if(P)H||(j+="".concat(Z,"?")),j+=y.endsWith?"(?=".concat(it,")"):"$";else{var O=f[f.length-1],Q=typeof O=="string"?Z.indexOf(O[O.length-1])>-1:O===void 0;H||(j+="(?:".concat(Z,"(?=").concat(it,"))?")),Q||(j+="(?=".concat(Z,"|").concat(it,")"))}return new RegExp(j,D(y))}(function(f,u){u===void 0&&(u={});for(var y=function(T){for(var z=[],O=0;O<T.length;){var Q=T[O];if(Q!=="*"&&Q!=="+"&&Q!=="?")if(Q!=="\\")if(Q!=="{")if(Q!=="}")if(Q!==":")if(Q!=="(")z.push({type:"CHAR",index:O,value:T[O++]});else{var St=1,Mt="";if(T[B=O+1]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(B));for(;B<T.length;)if(T[B]!=="\\"){if(T[B]===")"){if(--St==0){B++;break}}else if(T[B]==="("&&(St++,T[B+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(B));Mt+=T[B++]}else Mt+=T[B++]+T[B++];if(St)throw new TypeError("Unbalanced pattern at ".concat(O));if(!Mt)throw new TypeError("Missing pattern at ".concat(O));z.push({type:"PATTERN",index:O,value:Mt}),O=B}else{for(var jt="",B=O+1;B<T.length;){var ft=T.charCodeAt(B);if(!(ft>=48&&ft<=57||ft>=65&&ft<=90||ft>=97&&ft<=122||ft===95))break;jt+=T[B++]}if(!jt)throw new TypeError("Missing parameter name at ".concat(O));z.push({type:"NAME",index:O,value:jt}),O=B}else z.push({type:"CLOSE",index:O,value:T[O++]});else z.push({type:"OPEN",index:O,value:T[O++]});else z.push({type:"ESCAPED_CHAR",index:O++,value:T[O++]});else z.push({type:"MODIFIER",index:O,value:T[O++]})}return z.push({type:"END",index:O,value:""}),z}(f),C=u.prefixes,H=C===void 0?"./":C,g="[^".concat(k(u.delimiter||"/#?"),"]+?"),I=[],S=0,P=0,q="",_=function(T){if(P<y.length&&y[P].type===T)return y[P++].value},G=function(T){var z=_(T);if(z!==void 0)return z;var O=y[P],Q=O.index;throw new TypeError("Unexpected ".concat(O.type," at ").concat(Q,", expected ").concat(T))},W=function(){for(var T,z="";T=_("CHAR")||_("ESCAPED_CHAR");)z+=T;return z};P<y.length;){var V=_("CHAR"),it=_("NAME"),Z=_("PATTERN");if(it||Z)H.indexOf(Y=V||"")===-1&&(q+=Y,Y=""),q&&(I.push(q),q=""),I.push({name:it||S++,prefix:Y,suffix:"",pattern:Z||g,modifier:_("MODIFIER")||""});else{var j=V||_("ESCAPED_CHAR");if(j)q+=j;else if(q&&(I.push(q),q=""),_("OPEN")){var Y=W(),K=_("NAME")||"",A=_("PATTERN")||"",U=W();G("CLOSE"),I.push({name:K||(A?S++:""),pattern:K&&!A?g:A,prefix:Y,suffix:U,modifier:_("MODIFIER")||""})}else G("END")}}return I}(a,p),h,p)}(o,e,r)},lt={__proto__:null,update:X,nextTick:function(){return new Promise(function(l){window.requestAnimationFrame(l)})},pathToRegexp:J},F=function(){return window.location.origin},bt=function(l){return l===void 0&&(l=window.location.href),ct(l).port},ct=function(l){var o,e=l.match(/:\d+/);if(e===null)/^http/.test(l)&&(o=80),/^https/.test(l)&&(o=443);else{var r=e[0].substring(1);o=parseInt(r,10)}var a,h=l.replace(F(),""),p={},f=h.indexOf("#");f>=0&&(a=h.slice(f+1),h=h.slice(0,f));var u=h.indexOf("?");return u>=0&&(p=se(h.slice(u+1)),h=h.slice(0,u)),{hash:a,path:h,port:o,query:p}},se=function(l){return l.split("&").reduce(function(o,e){var r=e.split("=");return o[r[0]]=r[1],o},{})},Bt=function(l){return l===void 0&&(l=window.location.href),l.replace(/(\/#.*|\/|#.*)$/,"")},Fe={__proto__:null,getHref:function(){return window.location.href},getAbsoluteHref:function(l,o){return o===void 0&&(o=document.baseURI),new URL(l,o).href},getOrigin:F,getPort:bt,getPath:function(l){return l===void 0&&(l=window.location.href),ct(l).path},getQuery:function(l,o){return o===void 0&&(o=!1),o?JSON.stringify(ct(l).query):ct(l).query},getHash:function(l){return ct(l).hash},parse:ct,parseQuery:se,clean:Bt};function We(l,o,e,r,a){return o===void 0&&(o=2e3),new Promise(function(h,p){var f=new XMLHttpRequest;f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE){if(f.status===200){var u=f.responseURL!==""&&f.responseURL!==l?f.responseURL:l;h({html:f.responseText,url:i({href:u},ct(u))}),r.update(l,{status:"fulfilled",target:u})}else if(f.status){var y={status:f.status,statusText:f.statusText};e(l,y),p(y),r.update(l,{status:"rejected"})}}},f.ontimeout=function(){var u=new Error("Timeout error ["+o+"]");e(l,u),p(u),r.update(l,{status:"rejected"})},f.onerror=function(){var u=new Error("Fetch error");e(l,u),p(u),r.update(l,{status:"rejected"})},f.open("GET",l),f.timeout=o,f.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),f.setRequestHeader("x-barba","yes"),a.all().forEach(function(u,y){f.setRequestHeader(y,u)}),f.send()})}function ze(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function wt(l,o){return o===void 0&&(o={}),function(){var e=arguments,r=!1,a=new Promise(function(h,p){o.async=function(){return r=!0,function(u,y){u?p(u):h(y)}};var f=l.apply(o,[].slice.call(e));r||(ze(f)?f.then(h,p):h(f))});return a}}var Be=function(l){function o(){var r;return(r=l.call(this)||this).logger=new x("@barba/core"),r.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],r.registered=new Map,r.init(),r}s(o,l);var e=o.prototype;return e.init=function(){var r=this;this.registered.clear(),this.all.forEach(function(a){r[a]||(r[a]=function(h,p){r.registered.has(a)||r.registered.set(a,new Set),r.registered.get(a).add({ctx:p||{},fn:h})})})},e.do=function(r){var a=arguments,h=this;if(this.registered.has(r)){var p=Promise.resolve();return this.registered.get(r).forEach(function(f){p=p.then(function(){return wt(f.fn,f.ctx).apply(void 0,[].slice.call(a,1))})}),p.catch(function(f){h.logger.debug("Hook error ["+r+"]"),h.logger.error(f)})}return Promise.resolve()},e.clear=function(){var r=this;this.all.forEach(function(a){delete r[a]}),this.init()},e.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var r=[];this.registered.forEach(function(a,h){return r.push(h)}),this.logger.info("Registered hooks: "+r.join(","))},o}(R),ht=new Be,ae=function(){function l(o){if(this.k=void 0,this.O=[],typeof o=="boolean")this.k=o;else{var e=Array.isArray(o)?o:[o];this.O=e.map(function(r){return J(r)})}}return l.prototype.checkHref=function(o){if(typeof this.k=="boolean")return this.k;var e=ct(o).path;return this.O.some(function(r){return r.exec(e)!==null})},l}(),$e=function(l){function o(r){var a;return(a=l.call(this,r)||this).T=new Map,a}s(o,l);var e=o.prototype;return e.set=function(r,a,h,p,f){return this.T.set(r,{action:h,request:a,status:p,target:f??r}),{action:h,request:a,status:p,target:f}},e.get=function(r){return this.T.get(r)},e.getRequest=function(r){return this.T.get(r).request},e.getAction=function(r){return this.T.get(r).action},e.getStatus=function(r){return this.T.get(r).status},e.getTarget=function(r){return this.T.get(r).target},e.has=function(r){return!this.checkHref(r)&&this.T.has(r)},e.delete=function(r){return this.T.delete(r)},e.update=function(r,a){var h=i({},this.T.get(r),a);return this.T.set(r,h),h},o}(ae),je=function(){function l(){this.A=new Map}var o=l.prototype;return o.set=function(e,r){return this.A.set(e,r),{name:r}},o.get=function(e){return this.A.get(e)},o.all=function(){return this.A},o.has=function(e){return this.A.has(e)},o.delete=function(e){return this.A.delete(e)},o.clear=function(){return this.A.clear()},l}(),Xe=function(){return!window.history.pushState},Ve=function(l){return!l.el||!l.href},Ue=function(l){var o=l.event;return o.which>1||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey},Ge=function(l){var o=l.el;return o.hasAttribute("target")&&o.target==="_blank"},Ye=function(l){var o=l.el;return o.protocol!==void 0&&window.location.protocol!==o.protocol||o.hostname!==void 0&&window.location.hostname!==o.hostname},Ke=function(l){var o=l.el;return o.port!==void 0&&bt()!==bt(o.href)},Qe=function(l){var o=l.el;return o.getAttribute&&typeof o.getAttribute("download")=="string"},Je=function(l){return l.el.hasAttribute(N.prefix+"-"+N.prevent)},Ze=function(l){return!!l.el.closest("["+N.prefix+"-"+N.prevent+'="all"]')},tn=function(l){var o=l.href;return Bt(o)===Bt()&&bt(o)===bt()},en=function(l){function o(r){var a;return(a=l.call(this,r)||this).suite=[],a.tests=new Map,a.init(),a}s(o,l);var e=o.prototype;return e.init=function(){this.add("pushState",Xe),this.add("exists",Ve),this.add("newTab",Ue),this.add("blank",Ge),this.add("corsDomain",Ye),this.add("corsPort",Ke),this.add("download",Qe),this.add("preventSelf",Je),this.add("preventAll",Ze),this.add("sameUrl",tn,!1)},e.add=function(r,a,h){h===void 0&&(h=!0),this.tests.set(r,a),h&&this.suite.push(r)},e.run=function(r,a,h,p){return this.tests.get(r)({el:a,event:h,href:p})},e.checkLink=function(r,a,h){var p=this;return this.suite.some(function(f){return p.run(f,r,a,h)})},o}(ae),$t=function(l){function o(e,r){var a;return r===void 0&&(r="Barba error"),(a=l.call.apply(l,[this].concat([].slice.call(arguments,2)))||this).error=void 0,a.label=void 0,a.error=e,a.label=r,Error.captureStackTrace&&Error.captureStackTrace(M(a),o),a.name="BarbaError",a}return s(o,l),o}(E(Error)),nn=function(){function l(e){e===void 0&&(e=[]),this.logger=new x("@barba/core"),this.all=[],this.page=[],this.once=[],this.j=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var o=l.prototype;return o.add=function(e,r){e==="rule"?this.j.splice(r.position||0,0,r.value):this.all.push(r),this.update()},o.resolve=function(e,r){var a=this;r===void 0&&(r={});var h=r.once?this.once:this.page;h=h.filter(r.self?function(g){return g.name&&g.name==="self"}:function(g){return!g.name||g.name!=="self"});var p=new Map,f=h.find(function(g){var I=!0,S={};return r.self&&g.name==="self"?(p.set(g,S),!0):(a.j.reverse().forEach(function(P){I&&(I=a.M(g,P,e,S),g.from&&g.to&&(I=a.M(g,P,e,S,"from")&&a.M(g,P,e,S,"to")),g.from&&!g.to&&(I=a.M(g,P,e,S,"from")),!g.from&&g.to&&(I=a.M(g,P,e,S,"to")))}),p.set(g,S),I)}),u=p.get(f),y=[];if(y.push(r.once?"once":"page"),r.self&&y.push("self"),u){var C,H=[f];Object.keys(u).length>0&&H.push(u),(C=this.logger).info.apply(C,["Transition found ["+y.join(",")+"]"].concat(H))}else this.logger.info("No transition found ["+y.join(",")+"]");return f},o.update=function(){var e=this;this.all=this.all.map(function(r){return e.N(r)}).sort(function(r,a){return r.priority-a.priority}).reverse().map(function(r){return delete r.priority,r}),this.page=this.all.filter(function(r){return r.leave!==void 0||r.enter!==void 0}),this.once=this.all.filter(function(r){return r.once!==void 0})},o.M=function(e,r,a,h,p){var f=!0,u=!1,y=e,C=r.name,H=C,g=C,I=C,S=p?y[p]:y,P=p==="to"?a.next:a.current;if(p?S&&S[C]:S[C]){switch(r.type){case"strings":default:var q=Array.isArray(S[H])?S[H]:[S[H]];P[H]&&q.indexOf(P[H])!==-1&&(u=!0),q.indexOf(P[H])===-1&&(f=!1);break;case"object":var _=Array.isArray(S[g])?S[g]:[S[g]];P[g]?(P[g].name&&_.indexOf(P[g].name)!==-1&&(u=!0),_.indexOf(P[g].name)===-1&&(f=!1)):f=!1;break;case"function":S[I](a)?u=!0:f=!1}u&&(p?(h[p]=h[p]||{},h[p][C]=y[p][C]):h[C]=y[C])}return f},o.S=function(e,r,a){var h=0;return(e[r]||e.from&&e.from[r]||e.to&&e.to[r])&&(h+=Math.pow(10,a),e.from&&e.from[r]&&(h+=1),e.to&&e.to[r]&&(h+=2)),h},o.N=function(e){var r=this;e.priority=0;var a=0;return this.j.forEach(function(h,p){a+=r.S(e,h.name,p+1)}),e.priority=a,e},l}();function Lt(l,o){try{var e=l()}catch(r){return o(r)}return e&&e.then?e.then(void 0,o):e}var rn=function(){function l(e){e===void 0&&(e=[]),this.logger=new x("@barba/core"),this.store=void 0,this.C=!1,this.store=new nn(e)}var o=l.prototype;return o.get=function(e,r){return this.store.resolve(e,r)},o.doOnce=function(e){var r=e.data,a=e.transition;try{var h=function(){p.C=!1},p=this,f=a||{};p.C=!0;var u=Lt(function(){return Promise.resolve(p.L("beforeOnce",r,f)).then(function(){return Promise.resolve(p.once(r,f)).then(function(){return Promise.resolve(p.L("afterOnce",r,f)).then(function(){})})})},function(y){p.C=!1,p.logger.debug("Transition error [before/after/once]"),p.logger.error(y)});return Promise.resolve(u&&u.then?u.then(h):h())}catch(y){return Promise.reject(y)}},o.doPage=function(e){var r=e.data,a=e.transition,h=e.page,p=e.wrapper;try{var f=function(g){u.C=!1},u=this,y=a||{},C=y.sync===!0||!1;u.C=!0;var H=Lt(function(){function g(){return Promise.resolve(u.L("before",r,y)).then(function(){function S(q){return Promise.resolve(u.remove(r)).then(function(){return Promise.resolve(u.L("after",r,y)).then(function(){})})}var P=function(){if(C)return Lt(function(){return Promise.resolve(u.add(r,p)).then(function(){return Promise.resolve(u.L("beforeLeave",r,y)).then(function(){return Promise.resolve(u.L("beforeEnter",r,y)).then(function(){return Promise.resolve(Promise.all([u.leave(r,y),u.enter(r,y)])).then(function(){return Promise.resolve(u.L("afterLeave",r,y)).then(function(){return Promise.resolve(u.L("afterEnter",r,y)).then(function(){})})})})})})},function(W){if(u.H(W))throw new $t(W,"Transition error [sync]")});var q=function(W){return Lt(function(){var V=function(){if(_!==!1)return Promise.resolve(u.add(r,p)).then(function(){return Promise.resolve(u.L("beforeEnter",r,y)).then(function(){return Promise.resolve(u.enter(r,y,_)).then(function(){return Promise.resolve(u.L("afterEnter",r,y)).then(function(){})})})})}();if(V&&V.then)return V.then(function(){})},function(V){if(u.H(V))throw new $t(V,"Transition error [before/after/enter]")})},_=!1,G=Lt(function(){return Promise.resolve(u.L("beforeLeave",r,y)).then(function(){return Promise.resolve(Promise.all([u.leave(r,y),X(h,r)]).then(function(W){return W[0]})).then(function(W){return _=W,Promise.resolve(u.L("afterLeave",r,y)).then(function(){})})})},function(W){if(u.H(W))throw new $t(W,"Transition error [before/after/leave]")});return G&&G.then?G.then(q):q()}();return P&&P.then?P.then(S):S()})}var I=function(){if(C)return Promise.resolve(X(h,r)).then(function(){})}();return I&&I.then?I.then(g):g()},function(g){throw u.C=!1,g.name&&g.name==="BarbaError"?(u.logger.debug(g.label),u.logger.error(g.error),g):(u.logger.debug("Transition error [page]"),u.logger.error(g),g)});return Promise.resolve(H&&H.then?H.then(f):f())}catch(g){return Promise.reject(g)}},o.once=function(e,r){try{return Promise.resolve(ht.do("once",e,r)).then(function(){return r.once?wt(r.once,r)(e):Promise.resolve()})}catch(a){return Promise.reject(a)}},o.leave=function(e,r){try{return Promise.resolve(ht.do("leave",e,r)).then(function(){return r.leave?wt(r.leave,r)(e):Promise.resolve()})}catch(a){return Promise.reject(a)}},o.enter=function(e,r,a){try{return Promise.resolve(ht.do("enter",e,r)).then(function(){return r.enter?wt(r.enter,r)(e,a):Promise.resolve()})}catch(h){return Promise.reject(h)}},o.add=function(e,r){try{return $.addContainer(e.next.container,r),ht.do("nextAdded",e),Promise.resolve()}catch(a){return Promise.reject(a)}},o.remove=function(e){try{return $.removeContainer(e.current.container),ht.do("currentRemoved",e),Promise.resolve()}catch(r){return Promise.reject(r)}},o.H=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},o.L=function(e,r,a){try{return Promise.resolve(ht.do(e,r,a)).then(function(){return a[e]?wt(a[e],a)(r):Promise.resolve()})}catch(h){return Promise.reject(h)}},n(l,[{key:"isRunning",get:function(){return this.C},set:function(e){this.C=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(e){return e.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(e){return e.to&&!e.to.route||e.sync})}}]),l}(),on=function(){function l(o){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,o.length!==0&&(o.forEach(function(r){e.byNamespace.set(r.namespace,r)}),this.names.forEach(function(r){ht[r](e._(r))}))}return l.prototype._=function(o){var e=this;return function(r){var a=o.match(/enter/i)?r.next:r.current,h=e.byNamespace.get(a.namespace);return h&&h[o]?wt(h[o],h)(r):Promise.resolve()}},l}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(l){var o=this;do{if(o.matches(l))return o;o=o.parentElement||o.parentNode}while(o!==null&&o.nodeType===1);return null});var sn={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},an=function(){function l(){this.version="2.10.3",this.schemaPage=sn,this.Logger=x,this.logger=new x("@barba/core"),this.plugins=[],this.timeout=void 0,this.cacheIgnore=void 0,this.cacheFirstPage=void 0,this.prefetchIgnore=void 0,this.preventRunning=void 0,this.hooks=ht,this.cache=void 0,this.headers=void 0,this.prevent=void 0,this.transitions=void 0,this.views=void 0,this.dom=$,this.helpers=lt,this.history=at,this.request=We,this.url=Fe,this.D=void 0,this.B=void 0,this.q=void 0,this.F=void 0}var o=l.prototype;return o.use=function(e,r){var a=this.plugins;a.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):typeof e.install=="function"?(e.install(this,r),a.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},o.init=function(e){var r=e===void 0?{}:e,a=r.transitions,h=a===void 0?[]:a,p=r.views,f=p===void 0?[]:p,u=r.schema,y=u===void 0?N:u,C=r.requestError,H=r.timeout,g=H===void 0?2e3:H,I=r.cacheIgnore,S=I!==void 0&&I,P=r.cacheFirstPage,q=P!==void 0&&P,_=r.prefetchIgnore,G=_!==void 0&&_,W=r.preventRunning,V=W!==void 0&&W,it=r.prevent,Z=it===void 0?null:it,j=r.debug,Y=r.logLevel;if(x.setLevel((j!==void 0&&j)===!0?"debug":Y===void 0?"off":Y),this.logger.info(this.version),Object.keys(y).forEach(function(U){N[U]&&(N[U]=y[U])}),this.B=C,this.timeout=g,this.cacheIgnore=S,this.cacheFirstPage=q,this.prefetchIgnore=G,this.preventRunning=V,this.q=this.dom.getWrapper(),!this.q)throw new Error("[@barba/core] No Barba wrapper found");this.I();var K=this.data.current;if(!K.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new $e(S),this.headers=new je,this.prevent=new en(G),this.transitions=new rn(h),this.views=new on(f),Z!==null){if(typeof Z!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",Z)}this.history.init(K.url.href,K.namespace),q&&this.cache.set(K.url.href,Promise.resolve({html:K.html,url:K.url}),"init","fulfilled"),this.U=this.U.bind(this),this.$=this.$.bind(this),this.X=this.X.bind(this),this.G(),this.plugins.forEach(function(U){return U.init()});var A=this.data;A.trigger="barba",A.next=A.current,A.current=i({},this.schemaPage),this.hooks.do("ready",A),this.once(A),this.I()},o.destroy=function(){this.I(),this.J(),this.history.clear(),this.hooks.clear(),this.plugins=[]},o.force=function(e){window.location.assign(e)},o.go=function(e,r,a){var h;if(r===void 0&&(r="barba"),this.F=null,this.transitions.isRunning)this.force(e);else if(!(h=r==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e)&&this.url.getQuery(this.history.current.url,!0)===this.url.getQuery(e,!0):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return r=this.history.change(this.cache.has(e)?this.cache.get(e).target:e,r,a),a&&(a.stopPropagation(),a.preventDefault()),this.page(e,r,a??void 0,h)},o.once=function(e){try{var r=this;return Promise.resolve(r.hooks.do("beforeEnter",e)).then(function(){function a(){return Promise.resolve(r.hooks.do("afterEnter",e)).then(function(){})}var h=function(){if(r.transitions.hasOnce){var p=r.transitions.get(e,{once:!0});return Promise.resolve(r.transitions.doOnce({transition:p,data:e})).then(function(){})}}();return h&&h.then?h.then(a):a()})}catch(a){return Promise.reject(a)}},o.page=function(e,r,a,h){try{var p,f=function(){var H=u.data;return Promise.resolve(u.hooks.do("page",H)).then(function(){var g=function(I,S){try{var P=(q=u.transitions.get(H,{once:!1,self:h}),Promise.resolve(u.transitions.doPage({data:H,page:p,transition:q,wrapper:u.q})).then(function(){u.I()}))}catch{return S()}var q;return P&&P.then?P.then(void 0,S):P}(0,function(){x.getLevel()===0&&u.force(H.next.url.href)});if(g&&g.then)return g.then(function(){})})},u=this;if(u.data.next.url=i({href:e},u.url.parse(e)),u.data.trigger=r,u.data.event=a,u.cache.has(e))p=u.cache.update(e,{action:"click"}).request;else{var y=u.request(e,u.timeout,u.onRequestError.bind(u,r),u.cache,u.headers);y.then(function(H){H.url.href!==e&&u.history.add(H.url.href,r,"replace")}),p=u.cache.set(e,y,"click","pending").request}var C=function(){if(u.transitions.shouldWait)return Promise.resolve(X(p,u.data)).then(function(){})}();return Promise.resolve(C&&C.then?C.then(f):f())}catch(H){return Promise.reject(H)}},o.onRequestError=function(e){this.transitions.isRunning=!1;var r=[].slice.call(arguments,1),a=r[0],h=r[1],p=this.cache.getAction(a);return this.cache.delete(a),this.B&&this.B(e,p,a,h)===!1||p==="click"&&this.force(a),!1},o.prefetch=function(e){var r=this;e=this.url.getAbsoluteHref(e),this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba"),this.cache,this.headers).catch(function(a){r.logger.error(a)}),"prefetch","pending")},o.G=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.U),document.addEventListener("touchstart",this.U)),document.addEventListener("click",this.$),window.addEventListener("popstate",this.X)},o.J=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.U),document.removeEventListener("touchstart",this.U)),document.removeEventListener("click",this.$),window.removeEventListener("popstate",this.X)},o.U=function(e){var r=this,a=this.W(e);if(a){var h=this.url.getAbsoluteHref(this.dom.getHref(a));this.prevent.checkHref(h)||this.cache.has(h)||this.cache.set(h,this.request(h,this.timeout,this.onRequestError.bind(this,a),this.cache,this.headers).catch(function(p){r.logger.error(p)}),"enter","pending")}},o.$=function(e){var r=this.W(e);if(r){if(this.transitions.isRunning&&this.preventRunning)return e.preventDefault(),void e.stopPropagation();this.F=e,this.go(this.dom.getHref(r),r,e)}},o.X=function(e){this.go(this.url.getHref(),"popstate",e)},o.W=function(e){for(var r=e.target;r&&!this.dom.getHref(r);)r=r.parentNode;if(r&&!this.prevent.checkLink(r,e,this.dom.getHref(r)))return r},o.I=function(){var e=this.url.getHref(),r={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:i({href:e},this.url.parse(e))};this.D={current:r,event:void 0,next:i({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},n(l,[{key:"data",get:function(){return this.D}},{key:"wrapper",get:function(){return this.q}}]),l}();return new an})});var Rt=vn(le(),1);var dt={wrapper:'[data-nav="wrapper"]',drawer:".drawer",container:".nav-container",toggle:'[data-nav="toggle"]',links:'[data-nav="links"] .nav-link',openIcon:'[data-nav-icon="open"]',closeIcon:'[data-nav-icon="close"]'},ce=()=>{let t=document.querySelector(dt.drawer)||document.querySelector(dt.wrapper),n=document.querySelector(dt.toggle),i=document.querySelector(dt.openIcon),s=document.querySelector(dt.closeIcon),c=Array.from(document.querySelectorAll(dt.links));return!t||!n||!i||!s?null:{wrapper:t,toggle:n,openIcon:i,closeIcon:s,links:c}},Gt="is-nav-open",Nt="are-nav-links-visible",yn=320,Yt=()=>{let t=ce();if(!t)return;let{wrapper:n,toggle:i,openIcon:s,closeIcon:c}=t;n.classList.remove(Gt,Nt),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-pressed","false"),s.toggleAttribute("aria-hidden",!1),c.toggleAttribute("aria-hidden",!0),s.hidden=!1,c.hidden=!0},mt=t=>{let n=document.querySelector(dt.container);n&&(n.style.opacity=t?"1":"0",n.style.pointerEvents=t?"":"none",n.style.visibility=t?"":"hidden")},Kt=()=>{let t=ce();if(!t)return null;let{wrapper:n,toggle:i,openIcon:s,closeIcon:c,links:d}=t,b=window.matchMedia("(hover: hover)"),v={isOpen:!1,isLockedOpen:!1,hoverEnabled:b.matches},E=null,M=()=>{s.toggleAttribute("aria-hidden",v.isOpen),c.toggleAttribute("aria-hidden",!v.isOpen),s.hidden=v.isOpen,c.hidden=!v.isOpen},w=()=>{n.classList.toggle(Gt,v.isOpen),i.setAttribute("aria-expanded",String(v.isOpen)),i.setAttribute("aria-pressed",String(v.isOpen)),M()},R=()=>{v.isOpen=!1,v.isLockedOpen=!1,n.classList.remove(Gt,Nt),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-pressed","false"),M()},L=F=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(F)})},x=()=>{E!==null&&(window.clearTimeout(E),E=null),n.classList.add(Nt)},k=()=>{E!==null&&window.clearTimeout(E),E=window.setTimeout(()=>{v.isOpen||n.classList.remove(Nt)},yn)},D=F=>{x(),L(()=>{v.isOpen=!0,v.isLockedOpen=F?!0:v.isLockedOpen,w()})},N=()=>{v.isOpen=!1,v.isLockedOpen=!1,w(),k()},tt=()=>{v.isOpen?N():D(!0)},$=()=>{!v.hoverEnabled||v.isLockedOpen||D(!1)},et=()=>{!v.hoverEnabled||v.isLockedOpen||N()},at=F=>{v.hoverEnabled=F.matches,!v.hoverEnabled&&v.isOpen&&!v.isLockedOpen&&N()},X=F=>{F.preventDefault(),tt()},J=F=>{F.key!=="Enter"&&F.key!==" "||(F.preventDefault(),tt())},lt=()=>{N()};return i.setAttribute("role","button"),i.tabIndex=i.tabIndex>-1?i.tabIndex:0,i.setAttribute("aria-expanded","false"),i.setAttribute("aria-pressed","false"),i.setAttribute("aria-label","Toggle navigation"),M(),n.addEventListener("mouseenter",$),n.addEventListener("mouseleave",et),b.addEventListener("change",at),i.addEventListener("click",X),i.addEventListener("keydown",J),d.forEach(F=>{F.addEventListener("click",lt)}),()=>{E!==null&&(window.clearTimeout(E),E=null),n.removeEventListener("mouseenter",$),n.removeEventListener("mouseleave",et),b.removeEventListener("change",at),i.removeEventListener("click",X),i.removeEventListener("keydown",J),d.forEach(F=>{F.removeEventListener("click",lt)}),R()}};var gn='[data-barba="wrapper"]',kt='.drawer, [data-nav="wrapper"]',wn=".nav-container",En='[data-nav="close-project"]',ye="is-drawer-open",Ht="is-in-peripheral",nt=700,ot="cubic-bezier(0.4, 0, 0.2, 1)",st="5rem",bn=.96,Ln="0.5rem",Sn="1.25rem",Qt=200,he="cubic-bezier(0.22, 1.2, 0.36, 1)",ue="data-loop-slider-snap",Pn="0 5px 15px 0 rgba(0, 0, 0, 0.35), -25px 0 50px -12px rgba(0, 0, 0, 0.25)",_t="calc(100vw - var(--drawer-gap, 5rem))",ge='[data-barba="container"]',Tn=["[data-logo-parent]",".logo-2"],xn=".logo-wrapper",Hn=".logo:not(.icon)",An=".logo.icon",On=()=>{let t=document.documentElement,n=window.getComputedStyle(t).getPropertyValue("--drawer-gap").trim(),i=n||st;n||t.style.setProperty("--drawer-gap",st),t.dataset.drawerGapBase||(t.dataset.drawerGapBase=i)},Zt=t=>{let n=document.documentElement,{body:i}=document;t?(n.style.setProperty("overflow-x","hidden"),i.style.setProperty("overflow-x","hidden")):(n.style.removeProperty("overflow-x"),i.style.removeProperty("overflow-x"))},ut=()=>document.querySelector(kt),we=()=>document.querySelector(En),te=()=>Array.from(document.querySelectorAll(wn)),Mn=()=>document.querySelector(ge),Ct=new Set,Jt=new WeakMap,It=new WeakMap,Nn=()=>{let t=document.documentElement;if(!t.dataset.drawerGapBase){let n=window.getComputedStyle(t).getPropertyValue("--drawer-gap").trim();t.dataset.drawerGapBase=n||st}return t.dataset.drawerGapBase||st},pe=t=>{let n=t.trim().match(/^(-?\d+(?:\.\d+)?)(m?s)$/);if(!n)return null;let i=Number.parseFloat(n[1]);return Number.isFinite(i)?n[2]==="s"?i*1e3:i:null},Rn=t=>{let n=document.documentElement,i=D=>window.getComputedStyle(D).getPropertyValue("--nav-transition").trim(),s=t??n,c=i(s);!c&&s!==n&&(c=i(n));let d=`${Qt}ms ${he}`,v=(c||d).split(/\s+/).filter(Boolean),E=v.filter(D=>/^-?\d+(?:\.\d+)?m?s$/.test(D)),M=v.filter(D=>!/^-?\d+(?:\.\d+)?m?s$/.test(D)),w=E[0]||`${Qt}ms`,R=E[1]||"0ms",L=M.join(" ").trim()||he,x=pe(w)??Qt,k=pe(R)??0;return{duration:w,timing:L,delay:R,durationMs:x,delayMs:k}},kn=t=>{It.has(t)||It.set(t,{transition:t.style.getPropertyValue("transition"),transitionPriority:t.style.getPropertyPriority("transition"),property:t.style.getPropertyValue("transition-property"),propertyPriority:t.style.getPropertyPriority("transition-property"),duration:t.style.getPropertyValue("transition-duration"),durationPriority:t.style.getPropertyPriority("transition-duration"),timing:t.style.getPropertyValue("transition-timing-function"),timingPriority:t.style.getPropertyPriority("transition-timing-function"),delay:t.style.getPropertyValue("transition-delay"),delayPriority:t.style.getPropertyPriority("transition-delay")})},Cn=t=>{let n=It.get(t);if(!n)return;let i=(s,c,d)=>{c?t.style.setProperty(s,c,d):t.style.removeProperty(s)};i("transition",n.transition,n.transitionPriority),i("transition-property",n.property,n.propertyPriority),i("transition-duration",n.duration,n.durationPriority),i("transition-timing-function",n.timing,n.timingPriority),i("transition-delay",n.delay,n.delayPriority),It.delete(t)},_n=(t,n,i)=>{kn(t);let s=window.getComputedStyle(t),{duration:c,timing:d,delay:b}=i,v=s.transitionProperty.split(",").map(w=>w.trim()).filter(Boolean),M=v.includes("all")?"all":Array.from(new Set([...v.filter(w=>w!=="none"),...n])).filter(Boolean).join(", ");t.style.setProperty("transition-property",M||n.join(", "),"important"),t.style.setProperty("transition-duration",c,"important"),t.style.setProperty("transition-timing-function",d,"important"),t.style.setProperty("transition-delay",b,"important")},fe=t=>{if(!Number.isFinite(t)||t<=0)return _t;let n=window.getComputedStyle(document.documentElement).getPropertyValue("--drawer-gap").trim(),i=Number.parseFloat(n),s=Number.isFinite(i)?i:0,c=window.innerWidth-s;return`${Math.max(0,c-t)}px`},Ee=()=>{let t=Tn.reduce((c,d)=>c||document.querySelector(d),null);if(!t)return{parent:null,full:void 0,icon:void 0};let n=t.querySelectorAll(xn);if(n.length>=2)return{parent:t,full:n[0],icon:n[1]};let i=t.querySelector(Hn)??void 0,s=t.querySelector(An)??void 0;return i&&s?{parent:t,full:i,icon:s}:{parent:t,full:void 0,icon:void 0}},Pt=t=>t?.getAttribute("data-barba-namespace")??null,vt=t=>!!(t&&t!=="home"),In=t=>{let i=new DOMParser().parseFromString(t,"text/html").body;if(!i)return;document.body.className=i.className;let s=i.getAttribute("data-wf-page");s?document.body.setAttribute("data-wf-page",s):document.body.removeAttribute("data-wf-page")},qn=()=>{let t=window.Webflow;if(!t)return;t.destroy&&t.destroy(),t.ready&&t.ready();let n=t.require?.("ix2");n?.init&&n.init()},Dn=(t,n)=>!!(!n||t?.closest("[data-barba-prevent]")||n.startsWith("#")||n.startsWith("mailto:")||n.startsWith("tel:")||n.startsWith("javascript:")||t?.getAttribute("target")==="_blank"||new URL(n,window.location.href).origin!==window.location.origin),Dt=t=>new Promise(n=>{let i=window.setTimeout(n,nt+50),s=c=>{c.target!==t||c.propertyName!=="transform"||(t.removeEventListener("transitionend",s),window.clearTimeout(i),n())};t.addEventListener("transitionend",s)}),ee=()=>{let t=ut();t&&(t.style.willChange=t.style.willChange||"transform",t.style.transitionProperty=t.style.transitionProperty||"transform")},Fn=(t,n=!1)=>{if(t.length===0)return;let i=n?"important":"";t.forEach(s=>{s.style.setProperty("transition","none",i),s.style.setProperty("opacity","1",i),s.style.setProperty("transform","translateX(0) scale(1)",i),s.style.setProperty("will-change","opacity, transform",i),s.style.setProperty("pointer-events","auto",i)}),t[0].offsetWidth},Wn=(t,n=!1)=>new Promise(i=>{if(t.length===0){i();return}let s=n?"important":"";requestAnimationFrame(()=>{t.forEach(c=>{c.style.setProperty("transition",`opacity ${nt}ms ${ot}, transform ${nt}ms ${ot}`,s),c.style.setProperty("opacity","0",s),c.style.setProperty("transform",`translateX(${Ln}) scale(${bn})`,s),c.style.setProperty("pointer-events","none",s)}),Dt(t[0]).then(i)})}),be=()=>{te().forEach(n=>{n.style.removeProperty("opacity"),n.style.removeProperty("transform"),n.style.removeProperty("transition"),n.style.removeProperty("will-change"),n.style.removeProperty("pointer-events")})},Le=t=>{},de=async t=>{let{parent:n,full:i,icon:s}=Ee();if(!n||!i||!s)return;let c=`opacity ${nt}ms ${ot}, transform ${nt}ms ${ot}`;i.style.transition=c,s.style.transition=c,i.style.position="absolute",i.style.left="0",i.style.top="0",s.style.position="absolute",s.style.left="0",s.style.top="0",i.getBoundingClientRect(),requestAnimationFrame(()=>{Le(t)})},At=(t,n,i=!1)=>{n?(t.style.position="fixed",t.style.top="0",t.style.right="0",t.style.bottom="0",t.style.left="",i||t.style.setProperty("width",`calc(100vw - var(--drawer-gap, ${st}))`,"important"),t.style.setProperty("max-width","none","important")):(t.style.position="absolute",t.style.top="",t.style.right="",t.style.bottom="",t.style.left="",t.style.removeProperty("width"),t.style.removeProperty("max-width"))},ne=()=>{let t=ut();t&&(t.classList.remove(ye),t.style.removeProperty("transform"),t.style.removeProperty("transition"),t.style.removeProperty("transition-property"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-timing-function"),t.style.removeProperty("will-change"))},Se=(t,n,i=!0,s=!0,c=!1)=>{t.classList.toggle(ye,n);let d=c?"important":"";if(t.style.setProperty("transition-property","transform",d),t.style.setProperty("transition-duration",i?`${nt}ms`:"0ms",d),t.style.setProperty("transition-timing-function",ot,d),!s&&!n){t.style.removeProperty("transform"),c||t.style.removeProperty("transition-duration");return}t.style.setProperty("transform",n?"translateX(0)":`translateX(calc(100% - var(--drawer-gap, ${st})))`,d)},zn=async(t,n=!1)=>{let i=ut();i&&(i.getBoundingClientRect(),await new Promise(s=>{window.requestAnimationFrame(()=>{Se(i,t,!0,!0,n),Dt(i).then(s)})}))},Tt=t=>{let n=we();n&&(n.classList.toggle("is-visible",t),n.style.pointerEvents=t?"auto":"none",n.style.display=t?"":"none",n.style.setProperty("z-index","var(--close-z, 20)","important"),n.style.setProperty("background-color","transparent","important"),n.style.setProperty("background","transparent","important"),n.setAttribute("aria-hidden",String(!t)),t?(Bn(n),$n()):(Ct.clear(),Pe(!1),n.style.removeProperty("width"),n.style.removeProperty("transition")))},qt=(t,n)=>{n?Ct.add(t):Ct.delete(t),Pe(Ct.size>0)},Pe=t=>{let n=document.body.classList.contains(Ht);if(!n&&t)return;document.body.classList.toggle("is-close-hover",t&&n);let i=ut(),s=Mn(),c=we(),d=Nn(),b=t?`calc(${d} + ${Sn})`:d,v=c||i||s||document.documentElement,E=Rn(v);[{element:i,properties:["width"]},{element:s,properties:["left","width"]},{element:c,properties:["width"]}].forEach(({element:R,properties:L})=>{if(!R)return;let x=Jt.get(R);if(x&&(window.clearTimeout(x),Jt.delete(R)),_n(R,L,E),!t){let k=window.setTimeout(()=>{Cn(R)},E.durationMs+E.delayMs+40);Jt.set(R,k)}});let w=i||s||c;w&&w.offsetWidth,document.documentElement.style.setProperty("--drawer-gap",b)},Bn=t=>{if(t.dataset.closeHoverBound)return;t.dataset.closeHoverBound="true";let n=()=>qt("close",!0),i=()=>qt("close",!1);t.addEventListener("pointerenter",n),t.addEventListener("pointerleave",i),t.addEventListener("focusin",n),t.addEventListener("focusout",i)},$n=()=>{let{parent:t}=Ee();if(!t||t.dataset.closeHoverLogoBound)return;t.dataset.closeHoverLogoBound="true";let n=()=>qt("logo",!0),i=()=>qt("logo",!1);t.addEventListener("pointerenter",n),t.addEventListener("pointerleave",i),t.addEventListener("focusin",n),t.addEventListener("focusout",i)};var xt=(t,n)=>{let{style:i}=t;i.position=n?"fixed":"relative",i.top=n?"0":"",i.right=n?"0":"",i.bottom=n?"0":"",i.left=n?`var(--drawer-gap, ${st})`:"",i.width=n?`calc(100vw - var(--drawer-gap, ${st}))`:"100%",i.maxWidth=n?"none":"",i.minHeight=i.minHeight||"100vh",i.overflowY=n?"auto":"",i.overflowX=n?"visible":"",i.willChange="transform, opacity",n?(i.setProperty("z-index","var(--container-z, 40)","important"),i.setProperty("box-shadow",`var(--project-shadow, ${Pn})`,"important")):(i.removeProperty("z-index"),i.removeProperty("box-shadow"))},me=(t,n=_t)=>{let{style:i}=t;i.setProperty("transition","none","important"),i.setProperty("transform",`translateX(${n})`,"important")},ve=async(t,n,i)=>{let{style:s}=t;return s.setProperty("will-change","transform, opacity"),t.getBoundingClientRect(),new Promise(c=>{requestAnimationFrame(()=>{s.setProperty("transition-property","transform, opacity","important"),s.setProperty("transition-duration",`${nt}ms`,"important"),s.setProperty("transition-timing-function",ot,"important"),s.setProperty("transform",n,"important"),i!==void 0&&s.setProperty("opacity",i,"important"),Dt(t).then(c)})})},jn=t=>{t&&(t.style.setProperty("opacity","0","important"),t.style.pointerEvents="none")},Xn=()=>{let t=document.querySelector(ge),n=ut(),i=Pt(t),s=vt(i);document.body.classList.toggle(Ht,s),Tt(s),Le(s),be(),Zt(!s),n&&(s?(ee(),At(n,!0),Se(n,!0,!1,!0)):(ne(),At(n,!1))),t&&(xt(t,s),t.style.transition="none",t.style.transform="translateX(0)")},Te=({onAfterEnter:t,onBeforeLeave:n})=>{document.querySelector(gn)&&(On(),ee(),Xn(),Rt.default.init({preventRunning:!0,prevent:({el:i,href:s})=>Dn(i,s),transitions:[{name:"home-to-peripheral",from:{namespace:["home"]},to:{namespace:["verkada","film","about","work"]},sync:!0,beforeEnter:({next:i})=>{let s=i.container;if(!s)return;let c=document.querySelectorAll(kt),d=te(),b=0,v=!1,E=_t;if(c.length>0){let w=c[0];v=document.body.classList.contains("is-nav-open")||w.classList.contains("is-nav-open"),b=w.getBoundingClientRect().width,E=fe(b)}de(!0);let M=Pt(i.container);document.body.classList.toggle(Ht,vt(M)),document.body.classList.remove("is-nav-open"),Tt(!0),ee(),c.length>0&&c.forEach(w=>{w.classList.remove("is-nav-open"),w.style.setProperty("position","fixed","important"),w.style.setProperty("top","0","important"),w.style.setProperty("bottom","0","important"),w.style.setProperty("right","0","important"),w.style.setProperty("left","auto","important"),b>0&&w.style.setProperty("width",`${b}px`,"important"),w.style.setProperty("max-width","none","important"),w.style.setProperty("transform","none","important"),w.style.setProperty("transition","none","important"),w.offsetWidth}),Fn(d,!0),xt(s,!0),me(s,E),s.style.setProperty("opacity","1","important")},leave:async({current:i,next:s})=>{n?.(),jn(i?.container);let c=s.container;if(c){let b=document.querySelectorAll(kt)[0]?.getBoundingClientRect().width??0;xt(c,!0),me(c,fe(b)),c.style.setProperty("opacity","1","important")}},enter:async({next:i})=>{let s=[],c=i.container;c&&s.push(ve(c,"translateX(0)"));let d=document.querySelectorAll(kt);d.length>0&&s.push(new Promise(v=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{d.forEach(E=>{E.style.setProperty("transition",`width ${nt}ms ${ot}, transform ${nt}ms ${ot}`,"important"),E.style.setProperty("width",`calc(100vw - var(--drawer-gap, ${st}))`,"important")}),Dt(d[0]).then(v)})})}));let b=te();b.length>0&&s.push(Wn(b,!0)),await Promise.all(s)}},{name:"peripheral-to-home",from:{namespace:["verkada","film","about","work"]},to:{namespace:["home"]},sync:!0,beforeEnter:({next:i})=>{let s=i.container;s&&(Zt(!0),xt(s,!1),s.style.transition="none",s.style.transform="translateX(0)",s.style.opacity="0",Tt(!1))},leave:async({current:i})=>{n?.();let s=[];de(!1);let c=i.container;c&&(xt(c,!0),s.push(ve(c,`translateX(${_t})`)));let d=ut();d&&(At(d,!0),s.push(zn(!1,!0))),await Promise.all(s)},enter:async({next:i})=>{let s=Pt(i.container);document.body.classList.toggle(Ht,vt(s)),Tt(!1),mt(!0),be();let c=ut();c&&(ne(),At(c,!1));let d=i.container;d&&(d.style.transitionProperty="opacity",d.style.transitionDuration=`${nt}ms`,d.style.transitionTimingFunction=ot,d.style.opacity="1")},after:()=>{let i=ut();i&&(ne(),At(i,!1))}}]}),Rt.default.hooks.beforeEnter(i=>{In(i.next.html),window.scrollTo(0,0)}),Rt.default.hooks.afterEnter(i=>{let s=Pt(i.next.container),c=Pt(i.current?.container);s==="home"&&vt(c)?document.body.setAttribute(ue,"true"):document.body.removeAttribute(ue),document.body.classList.toggle(Ht,vt(s)),Tt(vt(s)),Zt(!vt(s)),qn(),t(),s==="home"&&window.requestAnimationFrame(()=>{window.dispatchEvent(new Event("resize")),window.dispatchEvent(new Event("scroll"))})}))};var Vn="1.3.16";function Ae(t,n,i){return Math.max(t,Math.min(n,i))}function Un(t,n,i){return(1-i)*t+i*n}function Gn(t,n,i,s){return Un(t,n,1-Math.exp(-i*s))}function Yn(t,n){return(t%n+n)%n}var Kn=class{constructor(){m(this,"isRunning",!1);m(this,"value",0);m(this,"from",0);m(this,"to",0);m(this,"currentTime",0);m(this,"lerp");m(this,"duration");m(this,"easing");m(this,"onUpdate")}advance(t){if(!this.isRunning)return;let n=!1;if(this.duration&&this.easing){this.currentTime+=t;let i=Ae(0,this.currentTime/this.duration,1);n=i>=1;let s=n?1:this.easing(i);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=Gn(this.value,this.to,this.lerp*60,t),Math.round(this.value)===this.to&&(this.value=this.to,n=!0)):(this.value=this.to,n=!0);n&&this.stop(),this.onUpdate?.(this.value,n)}stop(){this.isRunning=!1}fromTo(t,n,{lerp:i,duration:s,easing:c,onStart:d,onUpdate:b}){this.from=this.value=t,this.to=n,this.lerp=i,this.duration=s,this.easing=c,this.currentTime=0,this.isRunning=!0,d?.(),this.onUpdate=b}};function Qn(t,n){let i;return function(...s){let c=this;clearTimeout(i),i=setTimeout(()=>{i=void 0,t.apply(c,s)},n)}}var Jn=class{constructor(t,n,{autoResize:i=!0,debounce:s=250}={}){m(this,"width",0);m(this,"height",0);m(this,"scrollHeight",0);m(this,"scrollWidth",0);m(this,"debouncedResize");m(this,"wrapperResizeObserver");m(this,"contentResizeObserver");m(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});m(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});m(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=t,this.content=n,i&&(this.debouncedResize=Qn(this.resize,s),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},Oe=class{constructor(){m(this,"events",{})}emit(t,...n){let i=this.events[t]||[];for(let s=0,c=i.length;s<c;s++)i[s]?.(...n)}on(t,n){return this.events[t]?.push(n)||(this.events[t]=[n]),()=>{this.events[t]=this.events[t]?.filter(i=>n!==i)}}off(t,n){this.events[t]=this.events[t]?.filter(i=>n!==i)}destroy(){this.events={}}},xe=100/6,pt={passive:!1},Zn=class{constructor(t,n={wheelMultiplier:1,touchMultiplier:1}){m(this,"touchStart",{x:0,y:0});m(this,"lastDelta",{x:0,y:0});m(this,"window",{width:0,height:0});m(this,"emitter",new Oe);m(this,"onTouchStart",t=>{let{clientX:n,clientY:i}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=n,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})});m(this,"onTouchMove",t=>{let{clientX:n,clientY:i}=t.targetTouches?t.targetTouches[0]:t,s=-(n-this.touchStart.x)*this.options.touchMultiplier,c=-(i-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=n,this.touchStart.y=i,this.lastDelta={x:s,y:c},this.emitter.emit("scroll",{deltaX:s,deltaY:c,event:t})});m(this,"onTouchEnd",t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})});m(this,"onWheel",t=>{let{deltaX:n,deltaY:i,deltaMode:s}=t,c=s===1?xe:s===2?this.window.width:1,d=s===1?xe:s===2?this.window.height:1;n*=c,i*=d,n*=this.options.wheelMultiplier,i*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:i,event:t})});m(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=t,this.options=n,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,pt),this.element.addEventListener("touchstart",this.onTouchStart,pt),this.element.addEventListener("touchmove",this.onTouchMove,pt),this.element.addEventListener("touchend",this.onTouchEnd,pt)}on(t,n){return this.emitter.on(t,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,pt),this.element.removeEventListener("touchstart",this.onTouchStart,pt),this.element.removeEventListener("touchmove",this.onTouchMove,pt),this.element.removeEventListener("touchend",this.onTouchEnd,pt)}},He=t=>Math.min(1,1.001-Math.pow(2,-10*t)),Me=class{constructor({wrapper:t=window,content:n=document.documentElement,eventsTarget:i=t,smoothWheel:s=!0,syncTouch:c=!1,syncTouchLerp:d=.075,touchInertiaExponent:b=1.7,duration:v,easing:E,lerp:M=.1,infinite:w=!1,orientation:R="vertical",gestureOrientation:L=R==="horizontal"?"both":"vertical",touchMultiplier:x=1,wheelMultiplier:k=1,autoResize:D=!0,prevent:N,virtualScroll:tt,overscroll:$=!0,autoRaf:et=!1,anchors:at=!1,autoToggle:X=!1,allowNestedScroll:J=!1,__experimental__naiveDimensions:lt=!1}={}){m(this,"_isScrolling",!1);m(this,"_isStopped",!1);m(this,"_isLocked",!1);m(this,"_preventNextNativeScrollEvent",!1);m(this,"_resetVelocityTimeout",null);m(this,"__rafID",null);m(this,"isTouching");m(this,"time",0);m(this,"userData",{});m(this,"lastVelocity",0);m(this,"velocity",0);m(this,"direction",0);m(this,"options");m(this,"targetScroll");m(this,"animatedScroll");m(this,"animate",new Kn);m(this,"emitter",new Oe);m(this,"dimensions");m(this,"virtualScroll");m(this,"onScrollEnd",t=>{t instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&t.stopPropagation()});m(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});m(this,"onTransitionEnd",t=>{t.propertyName.includes("overflow")&&this.checkOverflow()});m(this,"onClick",t=>{let i=t.composedPath().find(s=>s instanceof HTMLAnchorElement&&s.getAttribute("href")?.includes("#"));if(i){let s=i.getAttribute("href");if(s){let c=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,d=`#${s.split("#")[1]}`;this.scrollTo(d,c)}}});m(this,"onPointerDown",t=>{t.button===1&&this.reset()});m(this,"onVirtualScroll",t=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(t)===!1)return;let{deltaX:n,deltaY:i,event:s}=t;if(this.emitter.emit("virtual-scroll",{deltaX:n,deltaY:i,event:s}),s.ctrlKey||s.lenisStopPropagation)return;let c=s.type.includes("touch"),d=s.type.includes("wheel");this.isTouching=s.type==="touchstart"||s.type==="touchmove";let b=n===0&&i===0;if(this.options.syncTouch&&c&&s.type==="touchstart"&&b&&!this.isStopped&&!this.isLocked){this.reset();return}let E=this.options.gestureOrientation==="vertical"&&i===0||this.options.gestureOrientation==="horizontal"&&n===0;if(b||E)return;let M=s.composedPath();M=M.slice(0,M.indexOf(this.rootElement));let w=this.options.prevent;if(M.find(N=>N instanceof HTMLElement&&(typeof w=="function"&&w?.(N)||N.hasAttribute?.("data-lenis-prevent")||c&&N.hasAttribute?.("data-lenis-prevent-touch")||d&&N.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(N,{deltaX:n,deltaY:i}))))return;if(this.isStopped||this.isLocked){s.cancelable&&s.preventDefault();return}if(!(this.options.syncTouch&&c||this.options.smoothWheel&&d)){this.isScrolling="native",this.animate.stop(),s.lenisStopPropagation=!0;return}let L=i;this.options.gestureOrientation==="both"?L=Math.abs(i)>Math.abs(n)?i:n:this.options.gestureOrientation==="horizontal"&&(L=n),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&i>0||this.animatedScroll===this.limit&&i<0))&&(s.lenisStopPropagation=!0),s.cancelable&&s.preventDefault();let x=c&&this.options.syncTouch,D=c&&s.type==="touchend";D&&(L=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+L,{programmatic:!1,...x?{lerp:D?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});m(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});m(this,"raf",t=>{let n=t-(this.time||t);this.time=t,this.animate.advance(n*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=Vn,(!t||t===document.documentElement)&&(t=window),typeof v=="number"&&typeof E!="function"?E=He:typeof E=="function"&&typeof v!="number"&&(v=1),this.options={wrapper:t,content:n,eventsTarget:i,smoothWheel:s,syncTouch:c,syncTouchLerp:d,touchInertiaExponent:b,duration:v,easing:E,lerp:M,infinite:w,gestureOrientation:L,orientation:R,touchMultiplier:x,wheelMultiplier:k,autoResize:D,prevent:N,virtualScroll:tt,overscroll:$,autoRaf:et,anchors:at,autoToggle:X,allowNestedScroll:J,__experimental__naiveDimensions:lt},this.dimensions=new Jn(t,n,{autoResize:D}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new Zn(i,{touchMultiplier:x,wheelMultiplier:k}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(t,n){return this.emitter.on(t,n)}off(t,n){return this.emitter.off(t,n)}get overflow(){let t=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[t]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}setScroll(t){this.isHorizontal?this.options.wrapper.scrollTo({left:t,behavior:"instant"}):this.options.wrapper.scrollTo({top:t,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(t,{offset:n=0,immediate:i=!1,lock:s=!1,duration:c=this.options.duration,easing:d=this.options.easing,lerp:b=this.options.lerp,onStart:v,onComplete:E,force:M=!1,programmatic:w=!0,userData:R}={}){if(!((this.isStopped||this.isLocked)&&!M)){if(typeof t=="string"&&["top","left","start","#"].includes(t))t=0;else if(typeof t=="string"&&["bottom","right","end"].includes(t))t=this.limit;else{let L;if(typeof t=="string"?(L=document.querySelector(t),L||(t==="#top"?t=0:console.warn("Lenis: Target not found",t))):t instanceof HTMLElement&&t?.nodeType&&(L=t),L){if(this.options.wrapper!==window){let k=this.rootElement.getBoundingClientRect();n-=this.isHorizontal?k.left:k.top}let x=L.getBoundingClientRect();t=(this.isHorizontal?x.left:x.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=n,t=Math.round(t),this.options.infinite){if(w){this.targetScroll=this.animatedScroll=this.scroll;let L=t-this.animatedScroll;L>this.limit/2?t=t-this.limit:L<-this.limit/2&&(t=t+this.limit)}}else t=Ae(0,t,this.limit);if(t===this.targetScroll){v?.(this),E?.(this);return}if(this.userData=R??{},i){this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),E?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}w||(this.targetScroll=t),typeof c=="number"&&typeof d!="function"?d=He:typeof d=="function"&&typeof c!="number"&&(c=1),this.animate.fromTo(this.animatedScroll,t,{duration:c,easing:d,lerp:b,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling="smooth",v?.(this)},onUpdate:(L,x)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=L-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=L,this.setScroll(this.scroll),w&&(this.targetScroll=L),x||this.emit(),x&&(this.reset(),this.emit(),E?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(t,{deltaX:n,deltaY:i}){let s=Date.now(),c=t._lenis??(t._lenis={}),d,b,v,E,M,w,R,L,x=this.options.gestureOrientation;if(s-(c.time??0)>2e3){c.time=Date.now();let X=window.getComputedStyle(t);c.computedStyle=X;let J=X.overflowX,lt=X.overflowY;if(d=["auto","overlay","scroll"].includes(J),b=["auto","overlay","scroll"].includes(lt),c.hasOverflowX=d,c.hasOverflowY=b,!d&&!b||x==="vertical"&&!b||x==="horizontal"&&!d)return!1;M=t.scrollWidth,w=t.scrollHeight,R=t.clientWidth,L=t.clientHeight,v=M>R,E=w>L,c.isScrollableX=v,c.isScrollableY=E,c.scrollWidth=M,c.scrollHeight=w,c.clientWidth=R,c.clientHeight=L}else v=c.isScrollableX,E=c.isScrollableY,d=c.hasOverflowX,b=c.hasOverflowY,M=c.scrollWidth,w=c.scrollHeight,R=c.clientWidth,L=c.clientHeight;if(!d&&!b||!v&&!E||x==="vertical"&&(!b||!E)||x==="horizontal"&&(!d||!v))return!1;let k;if(x==="horizontal")k="x";else if(x==="vertical")k="y";else{let X=n!==0,J=i!==0;X&&d&&v&&(k="x"),J&&b&&E&&(k="y")}if(!k)return!1;let D,N,tt,$,et;if(k==="x")D=t.scrollLeft,N=M-R,tt=n,$=d,et=v;else if(k==="y")D=t.scrollTop,N=w-L,tt=i,$=b,et=E;else return!1;return(tt>0?D<N:D>0)&&$&&et}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){let t=this.options.wrapper;return this.isHorizontal?t.scrollX??t.scrollLeft:t.scrollY??t.scrollTop}get scroll(){return this.options.infinite?Yn(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let t="lenis";return this.options.autoToggle&&(t+=" lenis-autoToggle"),this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isScrolling==="smooth"&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};var rt={root:['[data-loop-slider="root"]',".loop-slider-wrapper",".slider-section"],track:['[data-loop-slider="track"]',".loop-slider-track"],list:['[data-loop-slider="list"]',".slider-wrapper"],loop:['[data-loop-slider="loop"]',".loop-slider.w-dyn-list",".loop-slider"],item:['[data-loop-slider="item"]',".slide-w"],content:['[data-loop-slider="content"]',".slide"],blur:['[data-loop-slider="blur"]',".slide-blur"],media:['[data-loop-slider="focus"]',".work-list-img-wrap img",".work-list-img-wrap"]},tr={baseScale:.8,focusScale:1,blurMax:80,translateMax:0,lerp:.08,progressLerp:.12,minOpacity:.2},Ne="loop-slider-lenis-styles",er="html.lenis,html.lenis body{height:auto}.lenis:not(.lenis-autoToggle).lenis-stopped{overflow:clip}.lenis [data-lenis-prevent],.lenis [data-lenis-prevent-wheel],.lenis [data-lenis-prevent-touch]{overscroll-behavior:contain}.lenis.lenis-smooth iframe{pointer-events:none}.lenis.lenis-autoToggle{transition-property:overflow;transition-duration:1ms;transition-behavior:allow-discrete}",Ft="data-loop-slider-snap",Et=null,Wt=!1,zt=!1,Ot=[],nr=(t,n,i)=>Math.max(n,Math.min(i,t)),rr=()=>{if(document.getElementById(Ne))return;let t=document.createElement("style");t.id=Ne,t.textContent=er,document.head.appendChild(t)},yt=(t,n)=>{for(let i of n){let s=t.querySelector(i);if(s)return s}return null},re=(t,n)=>{for(let i of n){let s=Array.from(t.querySelectorAll(i));if(s.length)return s}return[]},ir=()=>re(document,rt.root).filter(n=>yt(n,rt.list)),ie=class{constructor(n){m(this,"root");m(this,"prefersInfinite");m(this,"config",tr);m(this,"slides",[]);m(this,"viewportHeight",window.innerHeight||0);m(this,"primaryList",null);m(this,"loopHeight",0);m(this,"loopOffset",0);m(this,"virtualScroll",0);m(this,"loopIndex",0);m(this,"previousScroll",null);m(this,"trackElement",null);m(this,"loopLists",[]);m(this,"localLenis",null);m(this,"localLenisRaf",null);m(this,"handleLenisScroll");this.root=n,this.prefersInfinite=n.dataset.loopSliderInfinite!=="false";let i=yt(n,rt.track),s=yt(n,rt.list);if(!s||!i)throw new Error('Loop slider list not found. Add data-loop-slider="list" to the slider wrapper.');this.primaryList=s,this.loopHeight=this.primaryList.scrollHeight,this.trackElement=i,this.prepareLoopLists(i),this.prefersInfinite&&this.initLocalLenis(),this.collectSlides()}destroy(){this.handleLenisScroll&&this.localLenis&&this.localLenis.off("scroll",this.handleLenisScroll),this.localLenisRaf!==null&&(window.cancelAnimationFrame(this.localLenisRaf),this.localLenisRaf=null),this.localLenis?.destroy(),this.localLenis=null}initLocalLenis(){if(this.localLenis||!this.trackElement)return;rr(),this.root.style.overflow=this.root.style.overflow||"hidden",this.root.style.position=this.root.style.position||"relative",this.trackElement.style.willChange=this.trackElement.style.willChange||"transform",this.localLenis=new Me({wrapper:this.root,content:this.trackElement,smoothWheel:!0,infinite:!0,syncTouch:!0,touchMultiplier:.65}),this.handleLenisScroll=()=>{this.measure()},this.localLenis.on("scroll",this.handleLenisScroll);let n=i=>{this.localLenis?.raf(i),this.localLenisRaf=window.requestAnimationFrame(n)};this.localLenisRaf=window.requestAnimationFrame(n)}collectSlides(){let n=re(this.root,rt.item);this.slides=n.map(i=>({node:i,contentNode:yt(i,rt.content)??i,blurNode:yt(i,rt.blur),focusNodes:(()=>{let s=[],c=yt(i,rt.media),d=i.querySelector(".work-title");return c&&s.push(c),d&&s.push(d),s.length||s.push(yt(i,rt.content)??i),s})(),progress:0,targetProgress:0,scale:this.config.baseScale,targetScale:this.config.baseScale})),this.slides.forEach(i=>{let s=i.contentNode;s.style.willChange="transform, opacity, filter",s.style.transformOrigin="center center",s.style.position=s.style.position||"relative"})}applySlideStyles(n){let i=this.config.minOpacity+(1-this.config.minOpacity)*n.progress,s=(1-n.progress)*this.config.blurMax;n.contentNode.style.transform=`scale(${n.scale.toFixed(4)})`,n.contentNode.style.opacity=i.toFixed(3),n.focusNodes.forEach(c=>{c.style.filter=`blur(${s.toFixed(2)}px)`}),n.blurNode&&(n.blurNode.style.opacity=(1-n.progress).toFixed(3),n.blurNode.style.filter=`blur(${Math.max(s,this.config.blurMax*.6).toFixed(2)}px)`)}prepareLoopLists(n){if(this.loopLists=re(n,rt.loop),!this.loopLists.length){this.loopLists=[];return}if(this.loopLists.length<2){let i=this.loopLists[0].cloneNode(!0);n.appendChild(i),this.loopLists.push(i)}}rotateLists(n){if(!(!this.trackElement||!this.loopLists.length))if(n==="forward"){let i=this.loopLists.shift();if(!i)return;this.trackElement.appendChild(i),this.loopLists.push(i)}else{let i=this.loopLists.pop();if(!i)return;let s=this.trackElement.firstElementChild;s?this.trackElement.insertBefore(i,s):this.trackElement.appendChild(i),this.loopLists.unshift(i)}}computeLoopHeight(){if(!this.primaryList)return this.loopHeight;let n=this.primaryList.scrollHeight||this.primaryList.offsetHeight;return n&&(this.loopHeight=n),this.loopHeight}applyLoopOffset(){if(!this.prefersInfinite||!this.localLenis||!this.trackElement)return;let n=this.loopHeight||this.computeLoopHeight();if(!n)return;let{scroll:i}=this.localLenis,s=Math.max(this.localLenis.limit||n,n);if(this.previousScroll===null){this.previousScroll=i,this.virtualScroll=0,this.loopIndex=0,this.loopOffset=0,this.trackElement.style.transform="";return}let c=i-this.previousScroll;Math.abs(c)>s*.5&&(c+=c>0?-s:s),this.virtualScroll+=c,this.previousScroll=i;let b=Math.floor(this.virtualScroll/n)-this.loopIndex;for(;b>0;)this.rotateLists("forward"),this.loopIndex+=1,b-=1;for(;b<0;)this.rotateLists("backward"),this.loopIndex-=1,b+=1;let v=this.virtualScroll-this.loopIndex*n;this.loopOffset=i-v,this.trackElement.style.transform=`translate3d(0, ${this.loopOffset}px, 0)`}measure(){if(!this.slides.length)return;let n=Math.max(window.innerHeight,1);this.viewportHeight=n,this.computeLoopHeight(),this.applyLoopOffset();let i=0,s=n;this.slides.forEach(c=>{let d=c.node.getBoundingClientRect(),b=d.top,v=d.bottom,E=Math.max(d.height,1),M=Math.max(i,b),w=Math.min(s,v),R=Math.max(0,w-M),L=nr(R/E,0,1);c.targetProgress=L,c.targetScale=this.config.baseScale+(this.config.focusScale-this.config.baseScale)*L})}animate(){this.slides.length&&this.slides.forEach(n=>{n.scale+=(n.targetScale-n.scale)*this.config.lerp,n.progress+=(n.targetProgress-n.progress)*this.config.progressLerp,this.applySlideStyles(n)})}syncToTargets(){this.slides.length&&this.slides.forEach(n=>{n.scale=n.targetScale,n.progress=n.targetProgress,this.applySlideStyles(n)})}},oe=()=>{Ot.forEach(t=>t.measure())},Re=()=>{oe()},ke=()=>{oe()},or=()=>{Wt||(window.addEventListener("scroll",Re,{passive:!0}),Wt=!0)},sr=()=>{zt||(window.addEventListener("resize",ke),zt=!0)},ar=()=>{if(Et!==null)return;let t=()=>{Ot.forEach(n=>n.animate()),Et=window.requestAnimationFrame(t)};Et=window.requestAnimationFrame(t)},Ce=()=>{Et!==null&&(window.cancelAnimationFrame(Et),Et=null),Wt&&(window.removeEventListener("scroll",Re),Wt=!1),zt&&(window.removeEventListener("resize",ke),zt=!1),Ot.forEach(t=>t.destroy()),Ot.length=0},_e=()=>{let t=document.body.hasAttribute(Ft),n=ir();if(!n.length){t&&document.body.removeAttribute(Ft);return}if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){t&&document.body.removeAttribute(Ft);return}let s=n.map(c=>{try{return new ie(c)}catch(d){return console.warn(d),null}}).filter(c=>!!c);s.length&&(Ot.push(...s),or(),sr(),oe(),t&&(s.forEach(c=>c.syncToTargets()),document.body.removeAttribute(Ft)),ar())};var gt=null,De=()=>{gt?.(),gt=null,Ce()},Ie=()=>{De(),document.body.classList.contains("is-in-peripheral")?(Yt(),mt(!1),gt=null):(mt(!0),gt=Kt()),_e(),window.requestAnimationFrame(()=>{gt?.(),document.body.classList.contains("is-in-peripheral")?(Yt(),mt(!1),gt=null):(mt(!0),gt=Kt())})},qe=()=>{Ie(),Te({onBeforeLeave:De,onAfterEnter:Ie})};document.readyState==="complete"||document.readyState==="interactive"?qe():document.addEventListener("DOMContentLoaded",qe);})();
