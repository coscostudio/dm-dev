"use strict";(()=>{var rn=Object.create;var jt=Object.defineProperty;var on=Object.getOwnPropertyDescriptor;var sn=Object.getOwnPropertyNames;var an=Object.getPrototypeOf,ln=Object.prototype.hasOwnProperty;var cn=(t,r,i)=>r in t?jt(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i;var hn=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var un=(t,r,i,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let c of sn(r))!ln.call(t,c)&&c!==i&&jt(t,c,{get:()=>r[c],enumerable:!(s=on(r,c))||s.enumerable});return t};var pn=(t,r,i)=>(i=t!=null?rn(an(t)):{},un(r||!t||!t.__esModule?jt(i,"default",{value:t,enumerable:!0}):i,t));var m=(t,r,i)=>cn(t,typeof r!="symbol"?r+"":r,i);var le=hn((Xt,Vt)=>{(function(t,r){typeof Xt=="object"&&typeof Vt<"u"?Vt.exports=r():typeof define=="function"&&define.amd?define(r):(t||self).barba=r()})(Xt,function(){function t(l,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,typeof(a=function(h,p){if(typeof h!="object"||h===null)return h;var f=h[Symbol.toPrimitive];if(f!==void 0){var u=f.call(h,"string");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(n.key))=="symbol"?a:String(a),n)}var a}function r(l,o,e){return o&&t(l.prototype,o),e&&t(l,e),Object.defineProperty(l,"prototype",{writable:!1}),l}function i(){return i=Object.assign?Object.assign.bind():function(l){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(l[n]=e[n])}return l},i.apply(this,arguments)}function s(l,o){l.prototype=Object.create(o.prototype),l.prototype.constructor=l,d(l,o)}function c(l){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},c(l)}function d(l,o){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},d(l,o)}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(l,o,e){return y=b()?Reflect.construct.bind():function(n,a,h){var p=[null];p.push.apply(p,a);var f=new(Function.bind.apply(n,p));return h&&d(f,h.prototype),f},y.apply(null,arguments)}function w(l){var o=typeof Map=="function"?new Map:void 0;return w=function(e){if(e===null||Function.toString.call(e).indexOf("[native code]")===-1)return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(e))return o.get(e);o.set(e,n)}function n(){return y(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},w(l)}function C(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}var E,q=function(){this.before=void 0,this.beforeLeave=void 0,this.leave=void 0,this.afterLeave=void 0,this.beforeEnter=void 0,this.enter=void 0,this.afterEnter=void 0,this.after=void 0};(function(l){l[l.off=0]="off",l[l.error=1]="error",l[l.warning=2]="warning",l[l.info=3]="info",l[l.debug=4]="debug"})(E||(E={}));var L=E.off,M=function(){function l(e){this.t=void 0,this.t=e}l.getLevel=function(){return L},l.setLevel=function(e){return L=E[e]};var o=l.prototype;return o.error=function(){this.i(console.error,E.error,[].slice.call(arguments))},o.warn=function(){this.i(console.warn,E.warning,[].slice.call(arguments))},o.info=function(){this.i(console.info,E.info,[].slice.call(arguments))},o.debug=function(){this.i(console.log,E.debug,[].slice.call(arguments))},o.i=function(e,n,a){n<=l.getLevel()&&e.apply(console,["["+this.t+"] "].concat(a))},l}();function I(l){return l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function B(l){return l&&l.sensitive?"":"i"}var O={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},nt=function(){function l(){this.o=O,this.u=void 0,this.h={after:null,before:null,parent:null}}var o=l.prototype;return o.toString=function(e){return e.outerHTML},o.toDocument=function(e){return this.u||(this.u=new DOMParser),this.u.parseFromString(e,"text/html")},o.toElement=function(e){var n=document.createElement("div");return n.innerHTML=e,n},o.getHtml=function(e){return e===void 0&&(e=document),this.toString(e.documentElement)},o.getWrapper=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},o.getContainer=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},o.removeContainer=function(e){document.body.contains(e)&&(this.v(e),e.parentNode.removeChild(e))},o.addContainer=function(e,n){var a=this.getContainer()||this.h.before;a?this.l(e,a):this.h.after?this.h.after.parentNode.insertBefore(e,this.h.after):this.h.parent?this.h.parent.appendChild(e):n.appendChild(e)},o.getSibling=function(){return this.h},o.getNamespace=function(e){e===void 0&&(e=document);var n=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return n?n.getAttribute(this.o.prefix+"-"+this.o.namespace):null},o.getHref=function(e){if(e.tagName&&e.tagName.toLowerCase()==="a"){if(typeof e.href=="string")return e.href;var n=e.getAttribute("href")||e.getAttribute("xlink:href");if(n)return this.resolveUrl(n.baseVal||n)}return null},o.resolveUrl=function(){var e=[].slice.call(arguments).length;if(e===0)throw new Error("resolveUrl requires at least one argument; got none.");var n=document.createElement("base");if(n.href=arguments[0],e===1)return n.href;var a=document.getElementsByTagName("head")[0];a.insertBefore(n,a.firstChild);for(var h,p=document.createElement("a"),f=1;f<e;f++)p.href=arguments[f],n.href=h=p.href;return a.removeChild(n),h},o.l=function(e,n){n.parentNode.insertBefore(e,n.nextSibling)},o.v=function(e){return this.h={after:e.nextElementSibling,before:e.previousElementSibling,parent:e.parentElement},this.h},l}(),$=new nt,rt=function(){function l(){this.p=void 0,this.m=[],this.P=-1}var o=l.prototype;return o.init=function(e,n){this.p="barba";var a={data:{},ns:n,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.P=0,this.m.push(a);var h={from:this.p,index:this.P,states:[].concat(this.m)};window.history&&window.history.replaceState(h,"",e)},o.change=function(e,n,a){if(a&&a.state){var h=a.state,p=h.index;n=this.g(this.P-p),this.replace(h.states),this.P=p}else this.add(e,n);return n},o.add=function(e,n,a,h){var p=a??this.R(n),f={data:h??{},ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};switch(p){case"push":this.P=this.size,this.m.push(f);break;case"replace":this.set(this.P,f)}var u={from:this.p,index:this.P,states:[].concat(this.m)};switch(p){case"push":window.history&&window.history.pushState(u,"",e);break;case"replace":window.history&&window.history.replaceState(u,"",e)}},o.store=function(e,n){var a=n||this.P,h=this.get(a);h.data=i({},h.data,e),this.set(a,h);var p={from:this.p,index:this.P,states:[].concat(this.m)};window.history.replaceState(p,"")},o.update=function(e,n){var a=n||this.P,h=i({},this.get(a),e);this.set(a,h)},o.remove=function(e){e?this.m.splice(e,1):this.m.pop(),this.P--},o.clear=function(){this.m=[],this.P=-1},o.replace=function(e){this.m=e},o.get=function(e){return this.m[e]},o.set=function(e,n){return this.m[e]=n},o.R=function(e){var n="push",a=e,h=O.prefix+"-"+O.history;return a.hasAttribute&&a.hasAttribute(h)&&(n=a.getAttribute(h)),n},o.g=function(e){return Math.abs(e)>1?e>0?"forward":"back":e===0?"popstate":e>0?"back":"forward"},r(l,[{key:"current",get:function(){return this.m[this.P]}},{key:"previous",get:function(){return this.P<1?null:this.m[this.P-1]}},{key:"size",get:function(){return this.m.length}}]),l}(),st=new rt,X=function(l,o){try{var e=function(){if(!o.next.html)return Promise.resolve(l).then(function(n){var a=o.next;if(n){var h=$.toElement(n.html);a.namespace=$.getNamespace(h),a.container=$.getContainer(h),a.url=n.url,a.html=n.html,st.update({ns:a.namespace});var p=$.toDocument(n.html);document.title=p.title}})}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(n){return Promise.reject(n)}},Z=function l(o,e,n){return o instanceof RegExp?function(a,h){if(!h)return a;for(var p=/\((?:\?<(.*?)>)?(?!\?)/g,f=0,u=p.exec(a.source);u;)h.push({name:u[1]||f++,prefix:"",suffix:"",modifier:"",pattern:""}),u=p.exec(a.source);return a}(o,e):Array.isArray(o)?function(a,h,p){var f=a.map(function(u){return l(u,h,p).source});return new RegExp("(?:".concat(f.join("|"),")"),B(p))}(o,e,n):function(a,h,p){return function(f,u,v){v===void 0&&(v={});for(var N=v.strict,x=N!==void 0&&N,g=v.start,k=g===void 0||g,S=v.end,P=S===void 0||S,_=v.encode,R=_===void 0?function(Lt){return Lt}:_,Y=v.delimiter,F=Y===void 0?"/#?":Y,V=v.endsWith,ot="[".concat(I(V===void 0?"":V),"]|$"),tt="[".concat(I(F),"]"),j=k?"^":"",G=0,K=f;G<K.length;G++){var H=K[G];if(typeof H=="string")j+=I(R(H));else{var U=I(R(H.prefix)),T=I(R(H.suffix));if(H.pattern)if(u&&u.push(H),U||T)if(H.modifier==="+"||H.modifier==="*"){var z=H.modifier==="*"?"?":"";j+="(?:".concat(U,"((?:").concat(H.pattern,")(?:").concat(T).concat(U,"(?:").concat(H.pattern,"))*)").concat(T,")").concat(z)}else j+="(?:".concat(U,"(").concat(H.pattern,")").concat(T,")").concat(H.modifier);else j+=H.modifier==="+"||H.modifier==="*"?"((?:".concat(H.pattern,")").concat(H.modifier,")"):"(".concat(H.pattern,")").concat(H.modifier);else j+="(?:".concat(U).concat(T,")").concat(H.modifier)}}if(P)x||(j+="".concat(tt,"?")),j+=v.endsWith?"(?=".concat(ot,")"):"$";else{var A=f[f.length-1],Q=typeof A=="string"?tt.indexOf(A[A.length-1])>-1:A===void 0;x||(j+="(?:".concat(tt,"(?=").concat(ot,"))?")),Q||(j+="(?=".concat(tt,"|").concat(ot,")"))}return new RegExp(j,B(v))}(function(f,u){u===void 0&&(u={});for(var v=function(T){for(var z=[],A=0;A<T.length;){var Q=T[A];if(Q!=="*"&&Q!=="+"&&Q!=="?")if(Q!=="\\")if(Q!=="{")if(Q!=="}")if(Q!==":")if(Q!=="(")z.push({type:"CHAR",index:A,value:T[A++]});else{var Lt=1,Ot="";if(T[W=A+1]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(W));for(;W<T.length;)if(T[W]!=="\\"){if(T[W]===")"){if(--Lt==0){W++;break}}else if(T[W]==="("&&(Lt++,T[W+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(W));Ot+=T[W++]}else Ot+=T[W++]+T[W++];if(Lt)throw new TypeError("Unbalanced pattern at ".concat(A));if(!Ot)throw new TypeError("Missing pattern at ".concat(A));z.push({type:"PATTERN",index:A,value:Ot}),A=W}else{for(var $t="",W=A+1;W<T.length;){var ft=T.charCodeAt(W);if(!(ft>=48&&ft<=57||ft>=65&&ft<=90||ft>=97&&ft<=122||ft===95))break;$t+=T[W++]}if(!$t)throw new TypeError("Missing parameter name at ".concat(A));z.push({type:"NAME",index:A,value:$t}),A=W}else z.push({type:"CLOSE",index:A,value:T[A++]});else z.push({type:"OPEN",index:A,value:T[A++]});else z.push({type:"ESCAPED_CHAR",index:A++,value:T[A++]});else z.push({type:"MODIFIER",index:A,value:T[A++]})}return z.push({type:"END",index:A,value:""}),z}(f),N=u.prefixes,x=N===void 0?"./":N,g="[^".concat(I(u.delimiter||"/#?"),"]+?"),k=[],S=0,P=0,_="",R=function(T){if(P<v.length&&v[P].type===T)return v[P++].value},Y=function(T){var z=R(T);if(z!==void 0)return z;var A=v[P],Q=A.index;throw new TypeError("Unexpected ".concat(A.type," at ").concat(Q,", expected ").concat(T))},F=function(){for(var T,z="";T=R("CHAR")||R("ESCAPED_CHAR");)z+=T;return z};P<v.length;){var V=R("CHAR"),ot=R("NAME"),tt=R("PATTERN");if(ot||tt)x.indexOf(G=V||"")===-1&&(_+=G,G=""),_&&(k.push(_),_=""),k.push({name:ot||S++,prefix:G,suffix:"",pattern:tt||g,modifier:R("MODIFIER")||""});else{var j=V||R("ESCAPED_CHAR");if(j)_+=j;else if(_&&(k.push(_),_=""),R("OPEN")){var G=F(),K=R("NAME")||"",H=R("PATTERN")||"",U=F();Y("CLOSE"),k.push({name:K||(H?S++:""),pattern:K&&!H?g:H,prefix:G,suffix:U,modifier:R("MODIFIER")||""})}else Y("END")}}return k}(a,p),h,p)}(o,e,n)},at={__proto__:null,update:X,nextTick:function(){return new Promise(function(l){window.requestAnimationFrame(l)})},pathToRegexp:Z},D=function(){return window.location.origin},Et=function(l){return l===void 0&&(l=window.location.href),lt(l).port},lt=function(l){var o,e=l.match(/:\d+/);if(e===null)/^http/.test(l)&&(o=80),/^https/.test(l)&&(o=443);else{var n=e[0].substring(1);o=parseInt(n,10)}var a,h=l.replace(D(),""),p={},f=h.indexOf("#");f>=0&&(a=h.slice(f+1),h=h.slice(0,f));var u=h.indexOf("?");return u>=0&&(p=se(h.slice(u+1)),h=h.slice(0,u)),{hash:a,path:h,port:o,query:p}},se=function(l){return l.split("&").reduce(function(o,e){var n=e.split("=");return o[n[0]]=n[1],o},{})},Wt=function(l){return l===void 0&&(l=window.location.href),l.replace(/(\/#.*|\/|#.*)$/,"")},_e={__proto__:null,getHref:function(){return window.location.href},getAbsoluteHref:function(l,o){return o===void 0&&(o=document.baseURI),new URL(l,o).href},getOrigin:D,getPort:Et,getPath:function(l){return l===void 0&&(l=window.location.href),lt(l).path},getQuery:function(l,o){return o===void 0&&(o=!1),o?JSON.stringify(lt(l).query):lt(l).query},getHash:function(l){return lt(l).hash},parse:lt,parseQuery:se,clean:Wt};function Ie(l,o,e,n,a){return o===void 0&&(o=2e3),new Promise(function(h,p){var f=new XMLHttpRequest;f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE){if(f.status===200){var u=f.responseURL!==""&&f.responseURL!==l?f.responseURL:l;h({html:f.responseText,url:i({href:u},lt(u))}),n.update(l,{status:"fulfilled",target:u})}else if(f.status){var v={status:f.status,statusText:f.statusText};e(l,v),p(v),n.update(l,{status:"rejected"})}}},f.ontimeout=function(){var u=new Error("Timeout error ["+o+"]");e(l,u),p(u),n.update(l,{status:"rejected"})},f.onerror=function(){var u=new Error("Fetch error");e(l,u),p(u),n.update(l,{status:"rejected"})},f.open("GET",l),f.timeout=o,f.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),f.setRequestHeader("x-barba","yes"),a.all().forEach(function(u,v){f.setRequestHeader(v,u)}),f.send()})}function qe(l){return!!l&&(typeof l=="object"||typeof l=="function")&&typeof l.then=="function"}function gt(l,o){return o===void 0&&(o={}),function(){var e=arguments,n=!1,a=new Promise(function(h,p){o.async=function(){return n=!0,function(u,v){u?p(u):h(v)}};var f=l.apply(o,[].slice.call(e));n||(qe(f)?f.then(h,p):h(f))});return a}}var De=function(l){function o(){var n;return(n=l.call(this)||this).logger=new M("@barba/core"),n.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],n.registered=new Map,n.init(),n}s(o,l);var e=o.prototype;return e.init=function(){var n=this;this.registered.clear(),this.all.forEach(function(a){n[a]||(n[a]=function(h,p){n.registered.has(a)||n.registered.set(a,new Set),n.registered.get(a).add({ctx:p||{},fn:h})})})},e.do=function(n){var a=arguments,h=this;if(this.registered.has(n)){var p=Promise.resolve();return this.registered.get(n).forEach(function(f){p=p.then(function(){return gt(f.fn,f.ctx).apply(void 0,[].slice.call(a,1))})}),p.catch(function(f){h.logger.debug("Hook error ["+n+"]"),h.logger.error(f)})}return Promise.resolve()},e.clear=function(){var n=this;this.all.forEach(function(a){delete n[a]}),this.init()},e.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var n=[];this.registered.forEach(function(a,h){return n.push(h)}),this.logger.info("Registered hooks: "+n.join(","))},o}(q),ct=new De,ae=function(){function l(o){if(this.k=void 0,this.O=[],typeof o=="boolean")this.k=o;else{var e=Array.isArray(o)?o:[o];this.O=e.map(function(n){return Z(n)})}}return l.prototype.checkHref=function(o){if(typeof this.k=="boolean")return this.k;var e=lt(o).path;return this.O.some(function(n){return n.exec(e)!==null})},l}(),Fe=function(l){function o(n){var a;return(a=l.call(this,n)||this).T=new Map,a}s(o,l);var e=o.prototype;return e.set=function(n,a,h,p,f){return this.T.set(n,{action:h,request:a,status:p,target:f??n}),{action:h,request:a,status:p,target:f}},e.get=function(n){return this.T.get(n)},e.getRequest=function(n){return this.T.get(n).request},e.getAction=function(n){return this.T.get(n).action},e.getStatus=function(n){return this.T.get(n).status},e.getTarget=function(n){return this.T.get(n).target},e.has=function(n){return!this.checkHref(n)&&this.T.has(n)},e.delete=function(n){return this.T.delete(n)},e.update=function(n,a){var h=i({},this.T.get(n),a);return this.T.set(n,h),h},o}(ae),ze=function(){function l(){this.A=new Map}var o=l.prototype;return o.set=function(e,n){return this.A.set(e,n),{name:n}},o.get=function(e){return this.A.get(e)},o.all=function(){return this.A},o.has=function(e){return this.A.has(e)},o.delete=function(e){return this.A.delete(e)},o.clear=function(){return this.A.clear()},l}(),We=function(){return!window.history.pushState},Be=function(l){return!l.el||!l.href},$e=function(l){var o=l.event;return o.which>1||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey},je=function(l){var o=l.el;return o.hasAttribute("target")&&o.target==="_blank"},Xe=function(l){var o=l.el;return o.protocol!==void 0&&window.location.protocol!==o.protocol||o.hostname!==void 0&&window.location.hostname!==o.hostname},Ve=function(l){var o=l.el;return o.port!==void 0&&Et()!==Et(o.href)},Ue=function(l){var o=l.el;return o.getAttribute&&typeof o.getAttribute("download")=="string"},Ye=function(l){return l.el.hasAttribute(O.prefix+"-"+O.prevent)},Ge=function(l){return!!l.el.closest("["+O.prefix+"-"+O.prevent+'="all"]')},Ke=function(l){var o=l.href;return Wt(o)===Wt()&&Et(o)===Et()},Qe=function(l){function o(n){var a;return(a=l.call(this,n)||this).suite=[],a.tests=new Map,a.init(),a}s(o,l);var e=o.prototype;return e.init=function(){this.add("pushState",We),this.add("exists",Be),this.add("newTab",$e),this.add("blank",je),this.add("corsDomain",Xe),this.add("corsPort",Ve),this.add("download",Ue),this.add("preventSelf",Ye),this.add("preventAll",Ge),this.add("sameUrl",Ke,!1)},e.add=function(n,a,h){h===void 0&&(h=!0),this.tests.set(n,a),h&&this.suite.push(n)},e.run=function(n,a,h,p){return this.tests.get(n)({el:a,event:h,href:p})},e.checkLink=function(n,a,h){var p=this;return this.suite.some(function(f){return p.run(f,n,a,h)})},o}(ae),Bt=function(l){function o(e,n){var a;return n===void 0&&(n="Barba error"),(a=l.call.apply(l,[this].concat([].slice.call(arguments,2)))||this).error=void 0,a.label=void 0,a.error=e,a.label=n,Error.captureStackTrace&&Error.captureStackTrace(C(a),o),a.name="BarbaError",a}return s(o,l),o}(w(Error)),Je=function(){function l(e){e===void 0&&(e=[]),this.logger=new M("@barba/core"),this.all=[],this.page=[],this.once=[],this.j=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var o=l.prototype;return o.add=function(e,n){e==="rule"?this.j.splice(n.position||0,0,n.value):this.all.push(n),this.update()},o.resolve=function(e,n){var a=this;n===void 0&&(n={});var h=n.once?this.once:this.page;h=h.filter(n.self?function(g){return g.name&&g.name==="self"}:function(g){return!g.name||g.name!=="self"});var p=new Map,f=h.find(function(g){var k=!0,S={};return n.self&&g.name==="self"?(p.set(g,S),!0):(a.j.reverse().forEach(function(P){k&&(k=a.M(g,P,e,S),g.from&&g.to&&(k=a.M(g,P,e,S,"from")&&a.M(g,P,e,S,"to")),g.from&&!g.to&&(k=a.M(g,P,e,S,"from")),!g.from&&g.to&&(k=a.M(g,P,e,S,"to")))}),p.set(g,S),k)}),u=p.get(f),v=[];if(v.push(n.once?"once":"page"),n.self&&v.push("self"),u){var N,x=[f];Object.keys(u).length>0&&x.push(u),(N=this.logger).info.apply(N,["Transition found ["+v.join(",")+"]"].concat(x))}else this.logger.info("No transition found ["+v.join(",")+"]");return f},o.update=function(){var e=this;this.all=this.all.map(function(n){return e.N(n)}).sort(function(n,a){return n.priority-a.priority}).reverse().map(function(n){return delete n.priority,n}),this.page=this.all.filter(function(n){return n.leave!==void 0||n.enter!==void 0}),this.once=this.all.filter(function(n){return n.once!==void 0})},o.M=function(e,n,a,h,p){var f=!0,u=!1,v=e,N=n.name,x=N,g=N,k=N,S=p?v[p]:v,P=p==="to"?a.next:a.current;if(p?S&&S[N]:S[N]){switch(n.type){case"strings":default:var _=Array.isArray(S[x])?S[x]:[S[x]];P[x]&&_.indexOf(P[x])!==-1&&(u=!0),_.indexOf(P[x])===-1&&(f=!1);break;case"object":var R=Array.isArray(S[g])?S[g]:[S[g]];P[g]?(P[g].name&&R.indexOf(P[g].name)!==-1&&(u=!0),R.indexOf(P[g].name)===-1&&(f=!1)):f=!1;break;case"function":S[k](a)?u=!0:f=!1}u&&(p?(h[p]=h[p]||{},h[p][N]=v[p][N]):h[N]=v[N])}return f},o.S=function(e,n,a){var h=0;return(e[n]||e.from&&e.from[n]||e.to&&e.to[n])&&(h+=Math.pow(10,a),e.from&&e.from[n]&&(h+=1),e.to&&e.to[n]&&(h+=2)),h},o.N=function(e){var n=this;e.priority=0;var a=0;return this.j.forEach(function(h,p){a+=n.S(e,h.name,p+1)}),e.priority=a,e},l}();function bt(l,o){try{var e=l()}catch(n){return o(n)}return e&&e.then?e.then(void 0,o):e}var Ze=function(){function l(e){e===void 0&&(e=[]),this.logger=new M("@barba/core"),this.store=void 0,this.C=!1,this.store=new Je(e)}var o=l.prototype;return o.get=function(e,n){return this.store.resolve(e,n)},o.doOnce=function(e){var n=e.data,a=e.transition;try{var h=function(){p.C=!1},p=this,f=a||{};p.C=!0;var u=bt(function(){return Promise.resolve(p.L("beforeOnce",n,f)).then(function(){return Promise.resolve(p.once(n,f)).then(function(){return Promise.resolve(p.L("afterOnce",n,f)).then(function(){})})})},function(v){p.C=!1,p.logger.debug("Transition error [before/after/once]"),p.logger.error(v)});return Promise.resolve(u&&u.then?u.then(h):h())}catch(v){return Promise.reject(v)}},o.doPage=function(e){var n=e.data,a=e.transition,h=e.page,p=e.wrapper;try{var f=function(g){u.C=!1},u=this,v=a||{},N=v.sync===!0||!1;u.C=!0;var x=bt(function(){function g(){return Promise.resolve(u.L("before",n,v)).then(function(){function S(_){return Promise.resolve(u.remove(n)).then(function(){return Promise.resolve(u.L("after",n,v)).then(function(){})})}var P=function(){if(N)return bt(function(){return Promise.resolve(u.add(n,p)).then(function(){return Promise.resolve(u.L("beforeLeave",n,v)).then(function(){return Promise.resolve(u.L("beforeEnter",n,v)).then(function(){return Promise.resolve(Promise.all([u.leave(n,v),u.enter(n,v)])).then(function(){return Promise.resolve(u.L("afterLeave",n,v)).then(function(){return Promise.resolve(u.L("afterEnter",n,v)).then(function(){})})})})})})},function(F){if(u.H(F))throw new Bt(F,"Transition error [sync]")});var _=function(F){return bt(function(){var V=function(){if(R!==!1)return Promise.resolve(u.add(n,p)).then(function(){return Promise.resolve(u.L("beforeEnter",n,v)).then(function(){return Promise.resolve(u.enter(n,v,R)).then(function(){return Promise.resolve(u.L("afterEnter",n,v)).then(function(){})})})})}();if(V&&V.then)return V.then(function(){})},function(V){if(u.H(V))throw new Bt(V,"Transition error [before/after/enter]")})},R=!1,Y=bt(function(){return Promise.resolve(u.L("beforeLeave",n,v)).then(function(){return Promise.resolve(Promise.all([u.leave(n,v),X(h,n)]).then(function(F){return F[0]})).then(function(F){return R=F,Promise.resolve(u.L("afterLeave",n,v)).then(function(){})})})},function(F){if(u.H(F))throw new Bt(F,"Transition error [before/after/leave]")});return Y&&Y.then?Y.then(_):_()}();return P&&P.then?P.then(S):S()})}var k=function(){if(N)return Promise.resolve(X(h,n)).then(function(){})}();return k&&k.then?k.then(g):g()},function(g){throw u.C=!1,g.name&&g.name==="BarbaError"?(u.logger.debug(g.label),u.logger.error(g.error),g):(u.logger.debug("Transition error [page]"),u.logger.error(g),g)});return Promise.resolve(x&&x.then?x.then(f):f())}catch(g){return Promise.reject(g)}},o.once=function(e,n){try{return Promise.resolve(ct.do("once",e,n)).then(function(){return n.once?gt(n.once,n)(e):Promise.resolve()})}catch(a){return Promise.reject(a)}},o.leave=function(e,n){try{return Promise.resolve(ct.do("leave",e,n)).then(function(){return n.leave?gt(n.leave,n)(e):Promise.resolve()})}catch(a){return Promise.reject(a)}},o.enter=function(e,n,a){try{return Promise.resolve(ct.do("enter",e,n)).then(function(){return n.enter?gt(n.enter,n)(e,a):Promise.resolve()})}catch(h){return Promise.reject(h)}},o.add=function(e,n){try{return $.addContainer(e.next.container,n),ct.do("nextAdded",e),Promise.resolve()}catch(a){return Promise.reject(a)}},o.remove=function(e){try{return $.removeContainer(e.current.container),ct.do("currentRemoved",e),Promise.resolve()}catch(n){return Promise.reject(n)}},o.H=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},o.L=function(e,n,a){try{return Promise.resolve(ct.do(e,n,a)).then(function(){return a[e]?gt(a[e],a)(n):Promise.resolve()})}catch(h){return Promise.reject(h)}},r(l,[{key:"isRunning",get:function(){return this.C},set:function(e){this.C=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(e){return e.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(e){return e.to&&!e.to.route||e.sync})}}]),l}(),tn=function(){function l(o){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,o.length!==0&&(o.forEach(function(n){e.byNamespace.set(n.namespace,n)}),this.names.forEach(function(n){ct[n](e._(n))}))}return l.prototype._=function(o){var e=this;return function(n){var a=o.match(/enter/i)?n.next:n.current,h=e.byNamespace.get(a.namespace);return h&&h[o]?gt(h[o],h)(n):Promise.resolve()}},l}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(l){var o=this;do{if(o.matches(l))return o;o=o.parentElement||o.parentNode}while(o!==null&&o.nodeType===1);return null});var en={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},nn=function(){function l(){this.version="2.10.3",this.schemaPage=en,this.Logger=M,this.logger=new M("@barba/core"),this.plugins=[],this.timeout=void 0,this.cacheIgnore=void 0,this.cacheFirstPage=void 0,this.prefetchIgnore=void 0,this.preventRunning=void 0,this.hooks=ct,this.cache=void 0,this.headers=void 0,this.prevent=void 0,this.transitions=void 0,this.views=void 0,this.dom=$,this.helpers=at,this.history=st,this.request=Ie,this.url=_e,this.D=void 0,this.B=void 0,this.q=void 0,this.F=void 0}var o=l.prototype;return o.use=function(e,n){var a=this.plugins;a.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):typeof e.install=="function"?(e.install(this,n),a.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},o.init=function(e){var n=e===void 0?{}:e,a=n.transitions,h=a===void 0?[]:a,p=n.views,f=p===void 0?[]:p,u=n.schema,v=u===void 0?O:u,N=n.requestError,x=n.timeout,g=x===void 0?2e3:x,k=n.cacheIgnore,S=k!==void 0&&k,P=n.cacheFirstPage,_=P!==void 0&&P,R=n.prefetchIgnore,Y=R!==void 0&&R,F=n.preventRunning,V=F!==void 0&&F,ot=n.prevent,tt=ot===void 0?null:ot,j=n.debug,G=n.logLevel;if(M.setLevel((j!==void 0&&j)===!0?"debug":G===void 0?"off":G),this.logger.info(this.version),Object.keys(v).forEach(function(U){O[U]&&(O[U]=v[U])}),this.B=N,this.timeout=g,this.cacheIgnore=S,this.cacheFirstPage=_,this.prefetchIgnore=Y,this.preventRunning=V,this.q=this.dom.getWrapper(),!this.q)throw new Error("[@barba/core] No Barba wrapper found");this.I();var K=this.data.current;if(!K.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new Fe(S),this.headers=new ze,this.prevent=new Qe(Y),this.transitions=new Ze(h),this.views=new tn(f),tt!==null){if(typeof tt!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",tt)}this.history.init(K.url.href,K.namespace),_&&this.cache.set(K.url.href,Promise.resolve({html:K.html,url:K.url}),"init","fulfilled"),this.U=this.U.bind(this),this.$=this.$.bind(this),this.X=this.X.bind(this),this.G(),this.plugins.forEach(function(U){return U.init()});var H=this.data;H.trigger="barba",H.next=H.current,H.current=i({},this.schemaPage),this.hooks.do("ready",H),this.once(H),this.I()},o.destroy=function(){this.I(),this.J(),this.history.clear(),this.hooks.clear(),this.plugins=[]},o.force=function(e){window.location.assign(e)},o.go=function(e,n,a){var h;if(n===void 0&&(n="barba"),this.F=null,this.transitions.isRunning)this.force(e);else if(!(h=n==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e)&&this.url.getQuery(this.history.current.url,!0)===this.url.getQuery(e,!0):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return n=this.history.change(this.cache.has(e)?this.cache.get(e).target:e,n,a),a&&(a.stopPropagation(),a.preventDefault()),this.page(e,n,a??void 0,h)},o.once=function(e){try{var n=this;return Promise.resolve(n.hooks.do("beforeEnter",e)).then(function(){function a(){return Promise.resolve(n.hooks.do("afterEnter",e)).then(function(){})}var h=function(){if(n.transitions.hasOnce){var p=n.transitions.get(e,{once:!0});return Promise.resolve(n.transitions.doOnce({transition:p,data:e})).then(function(){})}}();return h&&h.then?h.then(a):a()})}catch(a){return Promise.reject(a)}},o.page=function(e,n,a,h){try{var p,f=function(){var x=u.data;return Promise.resolve(u.hooks.do("page",x)).then(function(){var g=function(k,S){try{var P=(_=u.transitions.get(x,{once:!1,self:h}),Promise.resolve(u.transitions.doPage({data:x,page:p,transition:_,wrapper:u.q})).then(function(){u.I()}))}catch{return S()}var _;return P&&P.then?P.then(void 0,S):P}(0,function(){M.getLevel()===0&&u.force(x.next.url.href)});if(g&&g.then)return g.then(function(){})})},u=this;if(u.data.next.url=i({href:e},u.url.parse(e)),u.data.trigger=n,u.data.event=a,u.cache.has(e))p=u.cache.update(e,{action:"click"}).request;else{var v=u.request(e,u.timeout,u.onRequestError.bind(u,n),u.cache,u.headers);v.then(function(x){x.url.href!==e&&u.history.add(x.url.href,n,"replace")}),p=u.cache.set(e,v,"click","pending").request}var N=function(){if(u.transitions.shouldWait)return Promise.resolve(X(p,u.data)).then(function(){})}();return Promise.resolve(N&&N.then?N.then(f):f())}catch(x){return Promise.reject(x)}},o.onRequestError=function(e){this.transitions.isRunning=!1;var n=[].slice.call(arguments,1),a=n[0],h=n[1],p=this.cache.getAction(a);return this.cache.delete(a),this.B&&this.B(e,p,a,h)===!1||p==="click"&&this.force(a),!1},o.prefetch=function(e){var n=this;e=this.url.getAbsoluteHref(e),this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba"),this.cache,this.headers).catch(function(a){n.logger.error(a)}),"prefetch","pending")},o.G=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.U),document.addEventListener("touchstart",this.U)),document.addEventListener("click",this.$),window.addEventListener("popstate",this.X)},o.J=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.U),document.removeEventListener("touchstart",this.U)),document.removeEventListener("click",this.$),window.removeEventListener("popstate",this.X)},o.U=function(e){var n=this,a=this.W(e);if(a){var h=this.url.getAbsoluteHref(this.dom.getHref(a));this.prevent.checkHref(h)||this.cache.has(h)||this.cache.set(h,this.request(h,this.timeout,this.onRequestError.bind(this,a),this.cache,this.headers).catch(function(p){n.logger.error(p)}),"enter","pending")}},o.$=function(e){var n=this.W(e);if(n){if(this.transitions.isRunning&&this.preventRunning)return e.preventDefault(),void e.stopPropagation();this.F=e,this.go(this.dom.getHref(n),n,e)}},o.X=function(e){this.go(this.url.getHref(),"popstate",e)},o.W=function(e){for(var n=e.target;n&&!this.dom.getHref(n);)n=n.parentNode;if(n&&!this.prevent.checkLink(n,e,this.dom.getHref(n)))return n},o.I=function(){var e=this.url.getHref(),n={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:i({href:e},this.url.parse(e))};this.D={current:n,event:void 0,next:i({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},r(l,[{key:"data",get:function(){return this.D}},{key:"wrapper",get:function(){return this.q}}]),l}();return new nn})});var Nt=pn(le(),1);var dt={wrapper:'[data-nav="wrapper"]',drawer:".drawer",container:".nav-container",toggle:'[data-nav="toggle"]',links:'[data-nav="links"] .nav-link',openIcon:'[data-nav-icon="open"]',closeIcon:'[data-nav-icon="close"]'},ce=()=>{let t=document.querySelector(dt.drawer)||document.querySelector(dt.wrapper),r=document.querySelector(dt.toggle),i=document.querySelector(dt.openIcon),s=document.querySelector(dt.closeIcon),c=Array.from(document.querySelectorAll(dt.links));return!t||!r||!i||!s?null:{wrapper:t,toggle:r,openIcon:i,closeIcon:s,links:c}},Ut="is-nav-open",Mt="are-nav-links-visible",fn=320,Yt=()=>{let t=ce();if(!t)return;let{wrapper:r,toggle:i,openIcon:s,closeIcon:c}=t;r.classList.remove(Ut,Mt),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-pressed","false"),s.toggleAttribute("aria-hidden",!1),c.toggleAttribute("aria-hidden",!0),s.hidden=!1,c.hidden=!0},mt=t=>{let r=document.querySelector(dt.container);r&&(r.style.opacity=t?"1":"0",r.style.pointerEvents=t?"":"none",r.style.visibility=t?"":"hidden")},Gt=()=>{let t=ce();if(!t)return null;let{wrapper:r,toggle:i,openIcon:s,closeIcon:c,links:d}=t,b=window.matchMedia("(hover: hover)"),y={isOpen:!1,isLockedOpen:!1,hoverEnabled:b.matches},w=null,C=()=>{s.toggleAttribute("aria-hidden",y.isOpen),c.toggleAttribute("aria-hidden",!y.isOpen),s.hidden=y.isOpen,c.hidden=!y.isOpen},E=()=>{r.classList.toggle(Ut,y.isOpen),i.setAttribute("aria-expanded",String(y.isOpen)),i.setAttribute("aria-pressed",String(y.isOpen)),C()},q=()=>{y.isOpen=!1,y.isLockedOpen=!1,r.classList.remove(Ut,Mt),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-pressed","false"),C()},L=D=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(D)})},M=()=>{w!==null&&(window.clearTimeout(w),w=null),r.classList.add(Mt)},I=()=>{w!==null&&window.clearTimeout(w),w=window.setTimeout(()=>{y.isOpen||r.classList.remove(Mt)},fn)},B=D=>{M(),L(()=>{y.isOpen=!0,y.isLockedOpen=D?!0:y.isLockedOpen,E()})},O=()=>{y.isOpen=!1,y.isLockedOpen=!1,E(),I()},nt=()=>{y.isOpen?O():B(!0)},$=()=>{!y.hoverEnabled||y.isLockedOpen||B(!1)},rt=()=>{!y.hoverEnabled||y.isLockedOpen||O()},st=D=>{y.hoverEnabled=D.matches,!y.hoverEnabled&&y.isOpen&&!y.isLockedOpen&&O()},X=D=>{D.preventDefault(),nt()},Z=D=>{D.key!=="Enter"&&D.key!==" "||(D.preventDefault(),nt())},at=()=>{O()};return i.setAttribute("role","button"),i.tabIndex=i.tabIndex>-1?i.tabIndex:0,i.setAttribute("aria-expanded","false"),i.setAttribute("aria-pressed","false"),i.setAttribute("aria-label","Toggle navigation"),C(),r.addEventListener("mouseenter",$),r.addEventListener("mouseleave",rt),b.addEventListener("change",st),i.addEventListener("click",X),i.addEventListener("keydown",Z),d.forEach(D=>{D.addEventListener("click",at)}),()=>{w!==null&&(window.clearTimeout(w),w=null),r.removeEventListener("mouseenter",$),r.removeEventListener("mouseleave",rt),b.removeEventListener("change",st),i.removeEventListener("click",X),i.removeEventListener("keydown",Z),d.forEach(D=>{D.removeEventListener("click",at)}),q()}};var dn='[data-barba="wrapper"]',Rt='.drawer, [data-nav="wrapper"]',mn=".nav-container",vn='[data-nav="close-project"]',de="is-drawer-open",xt="is-in-peripheral",J=700,et="cubic-bezier(0.4, 0, 0.2, 1)",ut="5rem",yn=.96,gn="0.5rem",wn="1.25rem",Jt=200,Kt="cubic-bezier(0.22, 1.2, 0.36, 1)",En="0 5px 15px 0 rgba(0, 0, 0, 0.35), -25px 0 50px -12px rgba(0, 0, 0, 0.25)",_t="calc(100vw - var(--drawer-gap, 5rem))",me='[data-barba="container"]',bn=["[data-logo-parent]",".logo-2"],Ln=".logo-wrapper",Sn=".logo:not(.icon)",Pn=".logo.icon",Tn=()=>{window.getComputedStyle(document.documentElement).getPropertyValue("--drawer-gap").trim()||document.documentElement.style.setProperty("--drawer-gap",ut)},ht=()=>document.querySelector(Rt),ve=()=>document.querySelector(vn),Zt=()=>Array.from(document.querySelectorAll(mn)),xn=()=>document.querySelector(me),Ct=new Set,Qt=new WeakMap,It=new WeakMap,Hn=()=>{let t=document.documentElement;if(!t.dataset.drawerGapBase){let r=window.getComputedStyle(t).getPropertyValue("--drawer-gap").trim();t.dataset.drawerGapBase=r||ut}return t.dataset.drawerGapBase||ut},An=()=>{let t=window.getComputedStyle(document.documentElement).getPropertyValue("--nav-transition").trim(),r=`${Jt}ms ${Kt}`,s=(t||r).match(/^(\d+(?:\.\d+)?m?s)\s*(.+)?$/);return s?{duration:s[1],timing:(s[2]||Kt).trim()}:{duration:`${Jt}ms`,timing:Kt}},On=t=>{It.has(t)||It.set(t,{transition:t.style.getPropertyValue("transition"),transitionPriority:t.style.getPropertyPriority("transition"),property:t.style.getPropertyValue("transition-property"),propertyPriority:t.style.getPropertyPriority("transition-property"),duration:t.style.getPropertyValue("transition-duration"),durationPriority:t.style.getPropertyPriority("transition-duration"),timing:t.style.getPropertyValue("transition-timing-function"),timingPriority:t.style.getPropertyPriority("transition-timing-function"),delay:t.style.getPropertyValue("transition-delay"),delayPriority:t.style.getPropertyPriority("transition-delay")})},Mn=t=>{let r=It.get(t);if(!r)return;let i=(s,c,d)=>{c?t.style.setProperty(s,c,d):t.style.removeProperty(s)};i("transition",r.transition,r.transitionPriority),i("transition-property",r.property,r.propertyPriority),i("transition-duration",r.duration,r.durationPriority),i("transition-timing-function",r.timing,r.timingPriority),i("transition-delay",r.delay,r.delayPriority),It.delete(t)},Nn=(t,r)=>{On(t);let i=window.getComputedStyle(t),{duration:s,timing:c}=An(),d=i.transitionProperty.split(",").map(w=>w.trim()).filter(Boolean),y=d.includes("all")?"all":Array.from(new Set([...d.filter(w=>w!=="none"),...r])).filter(Boolean).join(", ");t.style.setProperty("transition-property",y||r.join(", "),"important"),t.style.setProperty("transition-duration",s,"important"),t.style.setProperty("transition-timing-function",c,"important"),t.style.setProperty("transition-delay","0ms","important")},he=t=>{if(!Number.isFinite(t)||t<=0)return _t;let r=window.getComputedStyle(document.documentElement).getPropertyValue("--drawer-gap").trim(),i=Number.parseFloat(r),s=Number.isFinite(i)?i:0,c=window.innerWidth-s;return`${Math.max(0,c-t)}px`},ne=()=>{let t=bn.reduce((c,d)=>c||document.querySelector(d),null);if(!t)return{parent:null,full:void 0,icon:void 0};let r=t.querySelectorAll(Ln);if(r.length>=2)return{parent:t,full:r[0],icon:r[1]};let i=t.querySelector(Sn)??void 0,s=t.querySelector(Pn)??void 0;return i&&s?{parent:t,full:i,icon:s}:{parent:t,full:void 0,icon:void 0}},kt=t=>t?.getAttribute("data-barba-namespace")??null,St=t=>!!(t&&t!=="home"),Rn=t=>{let i=new DOMParser().parseFromString(t,"text/html").body;if(!i)return;document.body.className=i.className;let s=i.getAttribute("data-wf-page");s?document.body.setAttribute("data-wf-page",s):document.body.removeAttribute("data-wf-page")},Cn=()=>{let t=window.Webflow;if(!t)return;t.destroy&&t.destroy(),t.ready&&t.ready();let r=t.require?.("ix2");r?.init&&r.init()},kn=(t,r)=>!!(!r||t?.closest("[data-barba-prevent]")||r.startsWith("#")||r.startsWith("mailto:")||r.startsWith("tel:")||r.startsWith("javascript:")||t?.getAttribute("target")==="_blank"||new URL(r,window.location.href).origin!==window.location.origin),Dt=t=>new Promise(r=>{let i=window.setTimeout(r,J+50),s=c=>{c.target!==t||c.propertyName!=="transform"||(t.removeEventListener("transitionend",s),window.clearTimeout(i),r())};t.addEventListener("transitionend",s)}),te=()=>{let t=ht();t&&(t.style.willChange=t.style.willChange||"transform",t.style.transitionProperty=t.style.transitionProperty||"transform")},_n=(t,r=!1)=>{if(t.length===0)return;let i=r?"important":"";t.forEach(s=>{s.style.setProperty("transition","none",i),s.style.setProperty("opacity","1",i),s.style.setProperty("transform","translateX(0) scale(1)",i),s.style.setProperty("will-change","opacity, transform",i),s.style.setProperty("pointer-events","auto",i)}),t[0].offsetWidth},In=(t,r=!1)=>new Promise(i=>{if(t.length===0){i();return}let s=r?"important":"";requestAnimationFrame(()=>{t.forEach(c=>{c.style.setProperty("transition",`opacity ${J}ms ${et}, transform ${J}ms ${et}`,s),c.style.setProperty("opacity","0",s),c.style.setProperty("transform",`translateX(${gn}) scale(${yn})`,s),c.style.setProperty("pointer-events","none",s)}),Dt(t[0]).then(i)})}),ye=()=>{Zt().forEach(r=>{r.style.removeProperty("opacity"),r.style.removeProperty("transform"),r.style.removeProperty("transition"),r.style.removeProperty("will-change"),r.style.removeProperty("pointer-events")})},ge=t=>{let{parent:r,full:i,icon:s}=ne();if(!r||!i||!s)return;window.getComputedStyle(r).position==="static"&&r.style.setProperty("position","relative");let c={position:"absolute",left:"0",top:"0",transition:`opacity ${J}ms ${et}, transform ${J}ms ${et}`};Object.assign(i.style,c,{opacity:t?"0":"1",transform:t?"scale(0.8)":"scale(1)",pointerEvents:t?"none":"auto"}),i.style.setProperty("opacity",t?"0":"1","important"),i.style.setProperty("pointer-events",t?"none":"auto","important"),i.style.setProperty("transform",t?"scale(0.8)":"scale(1)","important"),i.style.setProperty("z-index","100","important"),Object.assign(s.style,c,{}),s.style.setProperty("opacity",t?"1":"0","important"),s.style.setProperty("pointer-events",t?"auto":"none","important"),s.style.setProperty("transform",t?"scale(1)":"scale(1.2)","important"),s.style.setProperty("z-index","100","important")},ue=async t=>{let{parent:r,full:i,icon:s}=ne();if(!r||!i||!s)return;let c=`opacity ${J}ms ${et}, transform ${J}ms ${et}`;i.style.transition=c,s.style.transition=c,i.style.position="absolute",i.style.left="0",i.style.top="0",s.style.position="absolute",s.style.left="0",s.style.top="0",i.getBoundingClientRect(),requestAnimationFrame(()=>{ge(t)})},Ht=(t,r,i=!1)=>{r?(t.style.position="fixed",t.style.top="0",t.style.right="0",t.style.bottom="0",t.style.left="",i||t.style.setProperty("width",`calc(100vw - var(--drawer-gap, ${ut}))`,"important"),t.style.setProperty("max-width","none","important")):(t.style.position="absolute",t.style.top="",t.style.right="",t.style.bottom="",t.style.left="",t.style.removeProperty("width"),t.style.removeProperty("max-width"))},ee=()=>{let t=ht();t&&(t.classList.remove(de),t.style.removeProperty("transform"),t.style.removeProperty("transition"),t.style.removeProperty("transition-property"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-timing-function"),t.style.removeProperty("will-change"))},we=(t,r,i=!0,s=!0,c=!1)=>{t.classList.toggle(de,r);let d=c?"important":"";if(t.style.setProperty("transition-property","transform",d),t.style.setProperty("transition-duration",i?`${J}ms`:"0ms",d),t.style.setProperty("transition-timing-function",et,d),!s&&!r){t.style.removeProperty("transform"),c||t.style.removeProperty("transition-duration");return}t.style.setProperty("transform",r?"translateX(0)":`translateX(calc(100% - var(--drawer-gap, ${ut})))`,d)},qn=async(t,r=!1)=>{let i=ht();i&&(i.getBoundingClientRect(),await new Promise(s=>{window.requestAnimationFrame(()=>{we(i,t,!0,!0,r),Dt(i).then(s)})}))},Pt=t=>{let r=ve();r&&(r.classList.toggle("is-visible",t),r.style.pointerEvents=t?"auto":"none",r.style.display=t?"":"none",r.style.setProperty("z-index","var(--close-z, 20)","important"),r.style.setProperty("background-color","transparent","important"),r.style.setProperty("background","transparent","important"),r.setAttribute("aria-hidden",String(!t)),t?(Dn(r),Fn()):(Ct.clear(),Ee(!1),r.style.removeProperty("width"),r.style.removeProperty("transition")))},qt=(t,r)=>{r?Ct.add(t):Ct.delete(t),Ee(Ct.size>0)},Ee=t=>{let r=document.body.classList.contains(xt);if(!r&&t)return;document.body.classList.toggle("is-close-hover",t&&r);let i=ht(),s=xn(),c=ve(),d=Hn(),b=t?`calc(${d} + ${wn})`:d;document.documentElement.style.setProperty("--drawer-gap",b),[{element:i,properties:["width"]},{element:s,properties:["left","width"]},{element:c,properties:["width"]}].forEach(({element:w,properties:C})=>{if(!w)return;let E=Qt.get(w);if(E&&(window.clearTimeout(E),Qt.delete(w)),Nn(w,C),!t){let q=window.setTimeout(()=>{Mn(w)},Jt+40);Qt.set(w,q)}})},Dn=t=>{if(t.dataset.closeHoverBound)return;t.dataset.closeHoverBound="true";let r=()=>qt("close",!0),i=()=>qt("close",!1);t.addEventListener("pointerenter",r),t.addEventListener("pointerleave",i),t.addEventListener("focusin",r),t.addEventListener("focusout",i)},Fn=()=>{let{parent:t}=ne();if(!t||t.dataset.closeHoverLogoBound)return;t.dataset.closeHoverLogoBound="true";let r=()=>qt("logo",!0),i=()=>qt("logo",!1);t.addEventListener("pointerenter",r),t.addEventListener("pointerleave",i),t.addEventListener("focusin",r),t.addEventListener("focusout",i)};var Tt=(t,r)=>{let{style:i}=t;i.position=r?"fixed":"relative",i.top=r?"0":"",i.right=r?"0":"",i.bottom=r?"0":"",i.left=r?`var(--drawer-gap, ${ut})`:"",i.width=r?`calc(100vw - var(--drawer-gap, ${ut}))`:"100%",i.maxWidth=r?"none":"",i.minHeight=i.minHeight||"100vh",i.overflowY=r?"auto":"",i.overflowX=r?"visible":"",i.willChange="transform, opacity",r?(i.setProperty("z-index","var(--container-z, 40)","important"),i.setProperty("box-shadow",`var(--project-shadow, ${En})`,"important")):(i.removeProperty("z-index"),i.removeProperty("box-shadow"))},pe=(t,r=_t)=>{let{style:i}=t;i.setProperty("transition","none","important"),i.setProperty("transform",`translateX(${r})`,"important")},fe=async(t,r,i)=>{let{style:s}=t;return s.setProperty("will-change","transform, opacity"),t.getBoundingClientRect(),new Promise(c=>{requestAnimationFrame(()=>{s.setProperty("transition-property","transform, opacity","important"),s.setProperty("transition-duration",`${J}ms`,"important"),s.setProperty("transition-timing-function",et,"important"),s.setProperty("transform",r,"important"),i!==void 0&&s.setProperty("opacity",i,"important"),Dt(t).then(c)})})},zn=t=>{t&&(t.style.setProperty("opacity","0","important"),t.style.pointerEvents="none")},Wn=()=>{let t=document.querySelector(me),r=ht(),i=kt(t),s=St(i);document.body.classList.toggle(xt,s),Pt(s),ge(s),ye(),r&&(s?(te(),Ht(r,!0),we(r,!0,!1,!0)):(ee(),Ht(r,!1))),t&&(Tt(t,s),t.style.transition="none",t.style.transform="translateX(0)")},be=({onAfterEnter:t,onBeforeLeave:r})=>{document.querySelector(dn)&&(Tn(),te(),Wn(),Nt.default.init({preventRunning:!0,prevent:({el:i,href:s})=>kn(i,s),transitions:[{name:"home-to-peripheral",from:{namespace:["home"]},to:{namespace:["verkada","film","about","work"]},sync:!0,beforeEnter:({next:i})=>{let s=i.container;if(!s)return;let c=document.querySelectorAll(Rt),d=Zt(),b=0,y=!1,w=_t;if(c.length>0){let E=c[0];y=document.body.classList.contains("is-nav-open")||E.classList.contains("is-nav-open"),b=E.getBoundingClientRect().width,w=he(b)}ue(!0);let C=kt(i.container);document.body.classList.toggle(xt,St(C)),document.body.classList.remove("is-nav-open"),Pt(!0),te(),c.length>0&&c.forEach(E=>{E.classList.remove("is-nav-open"),E.style.setProperty("position","fixed","important"),E.style.setProperty("top","0","important"),E.style.setProperty("bottom","0","important"),E.style.setProperty("right","0","important"),E.style.setProperty("left","auto","important"),b>0&&E.style.setProperty("width",`${b}px`,"important"),E.style.setProperty("max-width","none","important"),E.style.setProperty("transform","none","important"),E.style.setProperty("transition","none","important"),E.offsetWidth}),_n(d,!0),Tt(s,!0),pe(s,w),s.style.setProperty("opacity","1","important")},leave:async({current:i,next:s})=>{r?.(),zn(i?.container);let c=s.container;if(c){let b=document.querySelectorAll(Rt)[0]?.getBoundingClientRect().width??0;Tt(c,!0),pe(c,he(b)),c.style.setProperty("opacity","1","important")}},enter:async({next:i})=>{let s=[],c=i.container;c&&s.push(fe(c,"translateX(0)"));let d=document.querySelectorAll(Rt);d.length>0&&s.push(new Promise(y=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{d.forEach(w=>{w.style.setProperty("transition",`width ${J}ms ${et}, transform ${J}ms ${et}`,"important"),w.style.setProperty("width",`calc(100vw - var(--drawer-gap, ${ut}))`,"important")}),Dt(d[0]).then(y)})})}));let b=Zt();b.length>0&&s.push(In(b,!0)),await Promise.all(s)}},{name:"peripheral-to-home",from:{namespace:["verkada","film","about","work"]},to:{namespace:["home"]},sync:!0,beforeEnter:({next:i})=>{let s=i.container;s&&(Tt(s,!1),s.style.transition="none",s.style.transform="translateX(0)",s.style.opacity="0",Pt(!1))},leave:async({current:i})=>{r?.();let s=[];ue(!1);let c=i.container;c&&(Tt(c,!0),s.push(fe(c,`translateX(${_t})`)));let d=ht();d&&(Ht(d,!0),s.push(qn(!1,!0))),await Promise.all(s)},enter:async({next:i})=>{let s=kt(i.container);document.body.classList.toggle(xt,St(s)),Pt(!1),mt(!0),ye();let c=ht();c&&(ee(),Ht(c,!1));let d=i.container;d&&(d.style.transitionProperty="opacity",d.style.transitionDuration=`${J}ms`,d.style.transitionTimingFunction=et,d.style.opacity="1")},after:()=>{let i=ht();i&&(ee(),Ht(i,!1))}}]}),Nt.default.hooks.beforeEnter(i=>{Rn(i.next.html),window.scrollTo(0,0)}),Nt.default.hooks.afterEnter(i=>{let s=kt(i.next.container);document.body.classList.toggle(xt,St(s)),Pt(St(s)),Cn(),t(),s==="home"&&window.requestAnimationFrame(()=>{window.dispatchEvent(new Event("resize")),window.dispatchEvent(new Event("scroll"))})}))};var Bn="1.3.16";function Pe(t,r,i){return Math.max(t,Math.min(r,i))}function $n(t,r,i){return(1-i)*t+i*r}function jn(t,r,i,s){return $n(t,r,1-Math.exp(-i*s))}function Xn(t,r){return(t%r+r)%r}var Vn=class{constructor(){m(this,"isRunning",!1);m(this,"value",0);m(this,"from",0);m(this,"to",0);m(this,"currentTime",0);m(this,"lerp");m(this,"duration");m(this,"easing");m(this,"onUpdate")}advance(t){if(!this.isRunning)return;let r=!1;if(this.duration&&this.easing){this.currentTime+=t;let i=Pe(0,this.currentTime/this.duration,1);r=i>=1;let s=r?1:this.easing(i);this.value=this.from+(this.to-this.from)*s}else this.lerp?(this.value=jn(this.value,this.to,this.lerp*60,t),Math.round(this.value)===this.to&&(this.value=this.to,r=!0)):(this.value=this.to,r=!0);r&&this.stop(),this.onUpdate?.(this.value,r)}stop(){this.isRunning=!1}fromTo(t,r,{lerp:i,duration:s,easing:c,onStart:d,onUpdate:b}){this.from=this.value=t,this.to=r,this.lerp=i,this.duration=s,this.easing=c,this.currentTime=0,this.isRunning=!0,d?.(),this.onUpdate=b}};function Un(t,r){let i;return function(...s){let c=this;clearTimeout(i),i=setTimeout(()=>{i=void 0,t.apply(c,s)},r)}}var Yn=class{constructor(t,r,{autoResize:i=!0,debounce:s=250}={}){m(this,"width",0);m(this,"height",0);m(this,"scrollHeight",0);m(this,"scrollWidth",0);m(this,"debouncedResize");m(this,"wrapperResizeObserver");m(this,"contentResizeObserver");m(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});m(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});m(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=t,this.content=r,i&&(this.debouncedResize=Un(this.resize,s),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},Te=class{constructor(){m(this,"events",{})}emit(t,...r){let i=this.events[t]||[];for(let s=0,c=i.length;s<c;s++)i[s]?.(...r)}on(t,r){return this.events[t]?.push(r)||(this.events[t]=[r]),()=>{this.events[t]=this.events[t]?.filter(i=>r!==i)}}off(t,r){this.events[t]=this.events[t]?.filter(i=>r!==i)}destroy(){this.events={}}},Le=100/6,pt={passive:!1},Gn=class{constructor(t,r={wheelMultiplier:1,touchMultiplier:1}){m(this,"touchStart",{x:0,y:0});m(this,"lastDelta",{x:0,y:0});m(this,"window",{width:0,height:0});m(this,"emitter",new Te);m(this,"onTouchStart",t=>{let{clientX:r,clientY:i}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=r,this.touchStart.y=i,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})});m(this,"onTouchMove",t=>{let{clientX:r,clientY:i}=t.targetTouches?t.targetTouches[0]:t,s=-(r-this.touchStart.x)*this.options.touchMultiplier,c=-(i-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=r,this.touchStart.y=i,this.lastDelta={x:s,y:c},this.emitter.emit("scroll",{deltaX:s,deltaY:c,event:t})});m(this,"onTouchEnd",t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})});m(this,"onWheel",t=>{let{deltaX:r,deltaY:i,deltaMode:s}=t,c=s===1?Le:s===2?this.window.width:1,d=s===1?Le:s===2?this.window.height:1;r*=c,i*=d,r*=this.options.wheelMultiplier,i*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:r,deltaY:i,event:t})});m(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=t,this.options=r,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,pt),this.element.addEventListener("touchstart",this.onTouchStart,pt),this.element.addEventListener("touchmove",this.onTouchMove,pt),this.element.addEventListener("touchend",this.onTouchEnd,pt)}on(t,r){return this.emitter.on(t,r)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,pt),this.element.removeEventListener("touchstart",this.onTouchStart,pt),this.element.removeEventListener("touchmove",this.onTouchMove,pt),this.element.removeEventListener("touchend",this.onTouchEnd,pt)}},Se=t=>Math.min(1,1.001-Math.pow(2,-10*t)),xe=class{constructor({wrapper:t=window,content:r=document.documentElement,eventsTarget:i=t,smoothWheel:s=!0,syncTouch:c=!1,syncTouchLerp:d=.075,touchInertiaExponent:b=1.7,duration:y,easing:w,lerp:C=.1,infinite:E=!1,orientation:q="vertical",gestureOrientation:L=q==="horizontal"?"both":"vertical",touchMultiplier:M=1,wheelMultiplier:I=1,autoResize:B=!0,prevent:O,virtualScroll:nt,overscroll:$=!0,autoRaf:rt=!1,anchors:st=!1,autoToggle:X=!1,allowNestedScroll:Z=!1,__experimental__naiveDimensions:at=!1}={}){m(this,"_isScrolling",!1);m(this,"_isStopped",!1);m(this,"_isLocked",!1);m(this,"_preventNextNativeScrollEvent",!1);m(this,"_resetVelocityTimeout",null);m(this,"__rafID",null);m(this,"isTouching");m(this,"time",0);m(this,"userData",{});m(this,"lastVelocity",0);m(this,"velocity",0);m(this,"direction",0);m(this,"options");m(this,"targetScroll");m(this,"animatedScroll");m(this,"animate",new Vn);m(this,"emitter",new Te);m(this,"dimensions");m(this,"virtualScroll");m(this,"onScrollEnd",t=>{t instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&t.stopPropagation()});m(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});m(this,"onTransitionEnd",t=>{t.propertyName.includes("overflow")&&this.checkOverflow()});m(this,"onClick",t=>{let i=t.composedPath().find(s=>s instanceof HTMLAnchorElement&&s.getAttribute("href")?.includes("#"));if(i){let s=i.getAttribute("href");if(s){let c=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,d=`#${s.split("#")[1]}`;this.scrollTo(d,c)}}});m(this,"onPointerDown",t=>{t.button===1&&this.reset()});m(this,"onVirtualScroll",t=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(t)===!1)return;let{deltaX:r,deltaY:i,event:s}=t;if(this.emitter.emit("virtual-scroll",{deltaX:r,deltaY:i,event:s}),s.ctrlKey||s.lenisStopPropagation)return;let c=s.type.includes("touch"),d=s.type.includes("wheel");this.isTouching=s.type==="touchstart"||s.type==="touchmove";let b=r===0&&i===0;if(this.options.syncTouch&&c&&s.type==="touchstart"&&b&&!this.isStopped&&!this.isLocked){this.reset();return}let w=this.options.gestureOrientation==="vertical"&&i===0||this.options.gestureOrientation==="horizontal"&&r===0;if(b||w)return;let C=s.composedPath();C=C.slice(0,C.indexOf(this.rootElement));let E=this.options.prevent;if(C.find(O=>O instanceof HTMLElement&&(typeof E=="function"&&E?.(O)||O.hasAttribute?.("data-lenis-prevent")||c&&O.hasAttribute?.("data-lenis-prevent-touch")||d&&O.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(O,{deltaX:r,deltaY:i}))))return;if(this.isStopped||this.isLocked){s.cancelable&&s.preventDefault();return}if(!(this.options.syncTouch&&c||this.options.smoothWheel&&d)){this.isScrolling="native",this.animate.stop(),s.lenisStopPropagation=!0;return}let L=i;this.options.gestureOrientation==="both"?L=Math.abs(i)>Math.abs(r)?i:r:this.options.gestureOrientation==="horizontal"&&(L=r),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&i>0||this.animatedScroll===this.limit&&i<0))&&(s.lenisStopPropagation=!0),s.cancelable&&s.preventDefault();let M=c&&this.options.syncTouch,B=c&&s.type==="touchend";B&&(L=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+L,{programmatic:!1,...M?{lerp:B?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});m(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){let t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});m(this,"raf",t=>{let r=t-(this.time||t);this.time=t,this.animate.advance(r*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=Bn,(!t||t===document.documentElement)&&(t=window),typeof y=="number"&&typeof w!="function"?w=Se:typeof w=="function"&&typeof y!="number"&&(y=1),this.options={wrapper:t,content:r,eventsTarget:i,smoothWheel:s,syncTouch:c,syncTouchLerp:d,touchInertiaExponent:b,duration:y,easing:w,lerp:C,infinite:E,gestureOrientation:L,orientation:q,touchMultiplier:M,wheelMultiplier:I,autoResize:B,prevent:O,virtualScroll:nt,overscroll:$,autoRaf:rt,anchors:st,autoToggle:X,allowNestedScroll:Z,__experimental__naiveDimensions:at},this.dimensions=new Yn(t,r,{autoResize:B}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new Gn(i,{touchMultiplier:M,wheelMultiplier:I}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(t,r){return this.emitter.on(t,r)}off(t,r){return this.emitter.off(t,r)}get overflow(){let t=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[t]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}setScroll(t){this.isHorizontal?this.options.wrapper.scrollTo({left:t,behavior:"instant"}):this.options.wrapper.scrollTo({top:t,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(t,{offset:r=0,immediate:i=!1,lock:s=!1,duration:c=this.options.duration,easing:d=this.options.easing,lerp:b=this.options.lerp,onStart:y,onComplete:w,force:C=!1,programmatic:E=!0,userData:q}={}){if(!((this.isStopped||this.isLocked)&&!C)){if(typeof t=="string"&&["top","left","start","#"].includes(t))t=0;else if(typeof t=="string"&&["bottom","right","end"].includes(t))t=this.limit;else{let L;if(typeof t=="string"?(L=document.querySelector(t),L||(t==="#top"?t=0:console.warn("Lenis: Target not found",t))):t instanceof HTMLElement&&t?.nodeType&&(L=t),L){if(this.options.wrapper!==window){let I=this.rootElement.getBoundingClientRect();r-=this.isHorizontal?I.left:I.top}let M=L.getBoundingClientRect();t=(this.isHorizontal?M.left:M.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=r,t=Math.round(t),this.options.infinite){if(E){this.targetScroll=this.animatedScroll=this.scroll;let L=t-this.animatedScroll;L>this.limit/2?t=t-this.limit:L<-this.limit/2&&(t=t+this.limit)}}else t=Pe(0,t,this.limit);if(t===this.targetScroll){y?.(this),w?.(this);return}if(this.userData=q??{},i){this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),w?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}E||(this.targetScroll=t),typeof c=="number"&&typeof d!="function"?d=Se:typeof d=="function"&&typeof c!="number"&&(c=1),this.animate.fromTo(this.animatedScroll,t,{duration:c,easing:d,lerp:b,onStart:()=>{s&&(this.isLocked=!0),this.isScrolling="smooth",y?.(this)},onUpdate:(L,M)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=L-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=L,this.setScroll(this.scroll),E&&(this.targetScroll=L),M||this.emit(),M&&(this.reset(),this.emit(),w?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(t,{deltaX:r,deltaY:i}){let s=Date.now(),c=t._lenis??(t._lenis={}),d,b,y,w,C,E,q,L,M=this.options.gestureOrientation;if(s-(c.time??0)>2e3){c.time=Date.now();let X=window.getComputedStyle(t);c.computedStyle=X;let Z=X.overflowX,at=X.overflowY;if(d=["auto","overlay","scroll"].includes(Z),b=["auto","overlay","scroll"].includes(at),c.hasOverflowX=d,c.hasOverflowY=b,!d&&!b||M==="vertical"&&!b||M==="horizontal"&&!d)return!1;C=t.scrollWidth,E=t.scrollHeight,q=t.clientWidth,L=t.clientHeight,y=C>q,w=E>L,c.isScrollableX=y,c.isScrollableY=w,c.scrollWidth=C,c.scrollHeight=E,c.clientWidth=q,c.clientHeight=L}else y=c.isScrollableX,w=c.isScrollableY,d=c.hasOverflowX,b=c.hasOverflowY,C=c.scrollWidth,E=c.scrollHeight,q=c.clientWidth,L=c.clientHeight;if(!d&&!b||!y&&!w||M==="vertical"&&(!b||!w)||M==="horizontal"&&(!d||!y))return!1;let I;if(M==="horizontal")I="x";else if(M==="vertical")I="y";else{let X=r!==0,Z=i!==0;X&&d&&y&&(I="x"),Z&&b&&w&&(I="y")}if(!I)return!1;let B,O,nt,$,rt;if(I==="x")B=t.scrollLeft,O=C-q,nt=r,$=d,rt=y;else if(I==="y")B=t.scrollTop,O=E-L,nt=i,$=b,rt=w;else return!1;return(nt>0?B<O:B>0)&&$&&rt}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){let t=this.options.wrapper;return this.isHorizontal?t.scrollX??t.scrollLeft:t.scrollY??t.scrollTop}get scroll(){return this.options.infinite?Xn(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let t="lenis";return this.options.autoToggle&&(t+=" lenis-autoToggle"),this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isScrolling==="smooth"&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};var it={root:['[data-loop-slider="root"]',".loop-slider-wrapper",".slider-section"],track:['[data-loop-slider="track"]',".loop-slider-track"],list:['[data-loop-slider="list"]',".slider-wrapper"],loop:['[data-loop-slider="loop"]',".loop-slider.w-dyn-list",".loop-slider"],item:['[data-loop-slider="item"]',".slide-w"],content:['[data-loop-slider="content"]',".slide"],blur:['[data-loop-slider="blur"]',".slide-blur"],media:['[data-loop-slider="focus"]',".work-list-img-wrap img",".work-list-img-wrap"]},Kn={baseScale:.8,focusScale:1,blurMax:80,translateMax:0,lerp:.08,progressLerp:.12,minOpacity:.2},He="loop-slider-lenis-styles",Qn="html.lenis,html.lenis body{height:auto}.lenis:not(.lenis-autoToggle).lenis-stopped{overflow:clip}.lenis [data-lenis-prevent],.lenis [data-lenis-prevent-wheel],.lenis [data-lenis-prevent-touch]{overscroll-behavior:contain}.lenis.lenis-smooth iframe{pointer-events:none}.lenis.lenis-autoToggle{transition-property:overflow;transition-duration:1ms;transition-behavior:allow-discrete}",wt=null,Ft=!1,zt=!1,At=[],Jn=(t,r,i)=>Math.max(r,Math.min(i,t)),Zn=()=>{if(document.getElementById(He))return;let t=document.createElement("style");t.id=He,t.textContent=Qn,document.head.appendChild(t)},vt=(t,r)=>{for(let i of r){let s=t.querySelector(i);if(s)return s}return null},re=(t,r)=>{for(let i of r){let s=Array.from(t.querySelectorAll(i));if(s.length)return s}return[]},tr=()=>re(document,it.root).filter(r=>vt(r,it.list)),ie=class{constructor(r){m(this,"root");m(this,"prefersInfinite");m(this,"config",Kn);m(this,"slides",[]);m(this,"viewportHeight",window.innerHeight||0);m(this,"primaryList",null);m(this,"loopHeight",0);m(this,"loopOffset",0);m(this,"virtualScroll",0);m(this,"loopIndex",0);m(this,"previousScroll",null);m(this,"trackElement",null);m(this,"loopLists",[]);m(this,"localLenis",null);m(this,"localLenisRaf",null);m(this,"handleLenisScroll");this.root=r,this.prefersInfinite=r.dataset.loopSliderInfinite!=="false";let i=vt(r,it.track),s=vt(r,it.list);if(!s||!i)throw new Error('Loop slider list not found. Add data-loop-slider="list" to the slider wrapper.');this.primaryList=s,this.loopHeight=this.primaryList.scrollHeight,this.trackElement=i,this.prepareLoopLists(i),this.prefersInfinite&&this.initLocalLenis(),this.collectSlides()}destroy(){this.handleLenisScroll&&this.localLenis&&this.localLenis.off("scroll",this.handleLenisScroll),this.localLenisRaf!==null&&(window.cancelAnimationFrame(this.localLenisRaf),this.localLenisRaf=null),this.localLenis?.destroy(),this.localLenis=null}initLocalLenis(){if(this.localLenis||!this.trackElement)return;Zn(),this.root.style.overflow=this.root.style.overflow||"hidden",this.root.style.position=this.root.style.position||"relative",this.trackElement.style.willChange=this.trackElement.style.willChange||"transform",this.localLenis=new xe({wrapper:this.root,content:this.trackElement,smoothWheel:!0,infinite:!0,syncTouch:!0,touchMultiplier:.65}),this.handleLenisScroll=()=>{this.measure()},this.localLenis.on("scroll",this.handleLenisScroll);let r=i=>{this.localLenis?.raf(i),this.localLenisRaf=window.requestAnimationFrame(r)};this.localLenisRaf=window.requestAnimationFrame(r)}collectSlides(){let r=re(this.root,it.item);this.slides=r.map(i=>({node:i,contentNode:vt(i,it.content)??i,blurNode:vt(i,it.blur),focusNodes:(()=>{let s=[],c=vt(i,it.media),d=i.querySelector(".work-title");return c&&s.push(c),d&&s.push(d),s.length||s.push(vt(i,it.content)??i),s})(),progress:0,targetProgress:0,scale:this.config.baseScale,targetScale:this.config.baseScale})),this.slides.forEach(i=>{let s=i.contentNode;s.style.willChange="transform, opacity, filter",s.style.transformOrigin="center center",s.style.position=s.style.position||"relative"})}prepareLoopLists(r){if(this.loopLists=re(r,it.loop),!this.loopLists.length){this.loopLists=[];return}if(this.loopLists.length<2){let i=this.loopLists[0].cloneNode(!0);r.appendChild(i),this.loopLists.push(i)}}rotateLists(r){if(!(!this.trackElement||!this.loopLists.length))if(r==="forward"){let i=this.loopLists.shift();if(!i)return;this.trackElement.appendChild(i),this.loopLists.push(i)}else{let i=this.loopLists.pop();if(!i)return;let s=this.trackElement.firstElementChild;s?this.trackElement.insertBefore(i,s):this.trackElement.appendChild(i),this.loopLists.unshift(i)}}computeLoopHeight(){if(!this.primaryList)return this.loopHeight;let r=this.primaryList.scrollHeight||this.primaryList.offsetHeight;return r&&(this.loopHeight=r),this.loopHeight}applyLoopOffset(){if(!this.prefersInfinite||!this.localLenis||!this.trackElement)return;let r=this.loopHeight||this.computeLoopHeight();if(!r)return;let{scroll:i}=this.localLenis,s=Math.max(this.localLenis.limit||r,r);if(this.previousScroll===null){this.previousScroll=i,this.virtualScroll=0,this.loopIndex=0,this.loopOffset=0,this.trackElement.style.transform="";return}let c=i-this.previousScroll;Math.abs(c)>s*.5&&(c+=c>0?-s:s),this.virtualScroll+=c,this.previousScroll=i;let b=Math.floor(this.virtualScroll/r)-this.loopIndex;for(;b>0;)this.rotateLists("forward"),this.loopIndex+=1,b-=1;for(;b<0;)this.rotateLists("backward"),this.loopIndex-=1,b+=1;let y=this.virtualScroll-this.loopIndex*r;this.loopOffset=i-y,this.trackElement.style.transform=`translate3d(0, ${this.loopOffset}px, 0)`}measure(){if(!this.slides.length)return;let r=Math.max(window.innerHeight,1);this.viewportHeight=r,this.computeLoopHeight(),this.applyLoopOffset();let i=0,s=r;this.slides.forEach(c=>{let d=c.node.getBoundingClientRect(),b=d.top,y=d.bottom,w=Math.max(d.height,1),C=Math.max(i,b),E=Math.min(s,y),q=Math.max(0,E-C),L=Jn(q/w,0,1);c.targetProgress=L,c.targetScale=this.config.baseScale+(this.config.focusScale-this.config.baseScale)*L})}animate(){this.slides.length&&this.slides.forEach(r=>{r.scale+=(r.targetScale-r.scale)*this.config.lerp,r.progress+=(r.targetProgress-r.progress)*this.config.progressLerp;let i=this.config.minOpacity+(1-this.config.minOpacity)*r.progress,s=(1-r.progress)*this.config.blurMax;r.contentNode.style.transform=`scale(${r.scale.toFixed(4)})`,r.contentNode.style.opacity=i.toFixed(3),r.focusNodes.forEach(c=>{c.style.filter=`blur(${s.toFixed(2)}px)`}),r.blurNode&&(r.blurNode.style.opacity=(1-r.progress).toFixed(3),r.blurNode.style.filter=`blur(${Math.max(s,this.config.blurMax*.6).toFixed(2)}px)`)})}},oe=()=>{At.forEach(t=>t.measure())},Ae=()=>{oe()},Oe=()=>{oe()},er=()=>{Ft||(window.addEventListener("scroll",Ae,{passive:!0}),Ft=!0)},nr=()=>{zt||(window.addEventListener("resize",Oe),zt=!0)},rr=()=>{if(wt!==null)return;let t=()=>{At.forEach(r=>r.animate()),wt=window.requestAnimationFrame(t)};wt=window.requestAnimationFrame(t)},Me=()=>{wt!==null&&(window.cancelAnimationFrame(wt),wt=null),Ft&&(window.removeEventListener("scroll",Ae),Ft=!1),zt&&(window.removeEventListener("resize",Oe),zt=!1),At.forEach(t=>t.destroy()),At.length=0},Ne=()=>{let t=tr();if(!t.length||window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;let i=t.map(s=>{try{return new ie(s)}catch(c){return console.warn(c),null}}).filter(s=>!!s);i.length&&(At.push(...i),er(),nr(),oe(),rr())};var yt=null,ke=()=>{yt?.(),yt=null,Me()},Re=()=>{ke(),document.body.classList.contains("is-in-peripheral")?(Yt(),mt(!1),yt=null):(mt(!0),yt=Gt()),Ne(),window.requestAnimationFrame(()=>{yt?.(),document.body.classList.contains("is-in-peripheral")?(Yt(),mt(!1),yt=null):(mt(!0),yt=Gt())})},Ce=()=>{Re(),be({onBeforeLeave:ke,onAfterEnter:Re})};document.readyState==="complete"||document.readyState==="interactive"?Ce():document.addEventListener("DOMContentLoaded",Ce);})();
